"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[288],{6814(t,e,o){o.d(e,{default:()=>dt});var s=o(2190),n=o(2040),i=o(8678),l=o(5856),a=o(6159),r=o(1315),c=o(391),p=o(4575),u=o(4867),d=o(2400),C=o(9878),h=o(8632),m=o(1234),g=o(8392),x=o(9759),j=o(2357),f=o(4848);const y={width:365},L={width:265},A={display:"inline-block",maxWidth:250,height:32,verticalAlign:"middle"},w=t=>"number"==typeof t&&t-t==0,G=(0,c.WB)(),S={},E=(0,i.vC)(2),b=(0,i.Gd)(),v=(0,p.A)((t=>{let{isShow:e,data:o=S,onClose:c}=t;const p=(0,r.li)(),{caption:v,fromDate:N,initToDate:D,onTestDate:T,itemConf:B}=o,{dataSource:W,x:O,y:k}=B||{},[I,M]=(0,u.eY)(G),[F,R]=(0,u.eY)(w(O)),[P,Z]=(0,u.eY)(),J=(0,r.ZC)((0,r.li)([{caption:"L",title:"Click to toggle input labels",onClick:M},{caption:"V",title:"Click to toggle row value",onClick:R},{caption:"D",title:"Click to toggle date input",onClick:Z}])),[V,Y]=(0,r.J0)([]),_=[(0,f.jsx)(h.N,{onClick:()=>{const t=(0,r.ZC)(p),{isValid:e,datesMsg:i}=t.getValidation(),l=e?[]:i;if(0===l.length){const{id:e,title:i,subtitle:l,caption:r,columnName:p,dataColumn:u,seriaColumnNames:d,itemConf:C={}}=o,{fromDate:h,toDate:m}=t.getValues(),g=Object.assign({id:e,title:i,subtitle:l,value:r,item:r,fromDate:h,toDate:m,columnName:p,dataColumn:u,seriaColumnNames:d,loadId:C.loadId||s.Bs},C);(0,a.YM)({chartType:s.kw,browserType:n.mU},g),c(),Y((t=>t.length>0?[]:t))}else Y(l)}},"load")];(0,r.vJ)((()=>{R(w(O))}),[O,R]);const H=N||E,$=D||b,q=T||i.bX,Q=I?y:L,K=function(t,e){return void 0===t&&(t=""),void 0===e&&(e=""),((0,l.A)(e)+" "+(0,i.Ch)(t)).trim()}(O,k);return(0,f.jsxs)(d.A,{style:Q,isShow:e,caption:"Load Item",commandButtons:_,onClose:()=>{c(),Y([])},children:[(0,f.jsx)(C.A,{isShow:!0,buttons:J}),(0,f.jsx)(g.A,{isShowLabels:I,textStyle:A,caption:"Item:",text:v}),(0,f.jsx)(j.A,{isShow:F,children:(0,f.jsx)(g.A,{isShowLabels:I,textStyle:A,caption:"Value:",text:K})}),(0,f.jsx)(j.A,{isShow:P,children:(0,f.jsx)(m.A,{refEl:p,isShowLabels:I,initFromDate:H,initToDate:$,onTestDate:q})}),(0,f.jsx)(g.A,{isShowLabels:I,textStyle:A,caption:"Source:",text:W}),(0,f.jsx)(x.A,{validationMessages:V})]})}));var N=o(4407),D=o(2440),T=o(8801),B=o(1990),W=o(701),O=o(2027);const k=()=>{const t=(0,r.li)(),[e,o]=(0,r.J0)([]),s=(0,r.hb)((()=>{(0,r.$)(t),o([])}),[]);return[e,o,s,t]};var I=o(6912),M=o(6539);const F=t=>{let{refBtClose:e,withoutClear:o,caption:s,title:n,onPrimary:i,onClear:l,onClose:a}=t;return(0,f.jsxs)(I.t4,{children:[(0,f.jsx)(M.A,{caption:s,title:n,onClick:i}),!o&&(0,f.jsx)(M.A,{caption:"Clear",title:"Clear Input",onClick:l}),(0,f.jsx)(M.A,{refBt:e,caption:"Close",title:"Close Dialog",onClick:a})]})},R=t=>{let{validationMessages:e,refBtClose:o,caption:s,title:n,onPrimary:i,withoutClear:l,onClear:a,onClose:r,children:c}=t;return(0,f.jsxs)("div",{children:[c,(0,f.jsx)(x.A,{validationMessages:e}),(0,f.jsx)(F,{refBtClose:o,caption:s,title:n,onPrimary:i,withoutClear:l,onClear:a,onClose:r})]})};var P=o(1327),Z=o(1205);const J={lineHeight:2},V={width:120},Y={width:250,height:30,paddingLeft:10,marginLeft:0,marginRight:0},_=t=>{let{refEl:e,caption:o}=t;return(0,f.jsxs)(I.st,{style:J,children:[(0,f.jsx)(P.D4,{style:V,children:o}),(0,f.jsx)(Z.A,{refEl:e,style:Y})]})},H=t=>t.isVisible?t.setRefFocusLast:void 0,$=t=>{const{forActionType:e,useMsEdit:o,msgOnIsEmptyName:s,onCreate:n,onClose:i}=t,[l,a,c,p]=k();return o((t=>{t&&t.forActionType===e&&(t.messages?a(t.messages):c())})),(0,f.jsx)(R,{validationMessages:l,refBtClose:H(t),caption:"Create",title:"Create New Group",onPrimary:()=>{const t=(0,r.y5)(p);t?n({caption:t}):((0,r.$)(p),a([s("Group")]))},onClear:c,onClose:i,children:(0,f.jsx)(_,{refEl:p,caption:"Group"})})},q=()=>{const t=(0,r.li)(),e=(0,r.hb)((e=>{(0,r.nl)(t,(e||{}).caption)}),[]);return[t,e]},Q=(t,e,o)=>{const{useMsEdit:s,forActionType:n,getWatchGroups:i}=t,[l,a]=(0,r.J0)((()=>i()));return s((t=>{t&&(t.forActionType===n?t.messages?e(t.messages):(o(),a(i())):a(i()))})),l};var K=o(6476);const U={width:120},X=t=>{let{caption:e,options:o,onSelect:s}=t;return(0,f.jsxs)(I.st,{children:[(0,f.jsx)(P.D4,{style:U,children:e}),(0,f.jsx)(K.A,{width:"250",options:o,onSelect:s})]})},z=t=>{const{msgOnNotSelect:e,msgOnIsEmptyName:o,onRename:s,onClose:n}=t,[i,l,a,c]=k(),p=Q(t,l,a),[u,d]=q();return(0,f.jsxs)(R,{validationMessages:i,refBtClose:H(t),caption:"Edit",title:"Edit Group Name",onPrimary:()=>{const t=(0,r.y5)(c),n=(0,r.ZC)(u);if(t&&n)s({captionFrom:n,captionTo:t});else{const s=[];n||s.push(e("Group From")),t||s.push(o("Group To")),l(s)}},onClear:a,onClose:n,children:[(0,f.jsx)(X,{caption:"Group From",options:p,onSelect:d}),(0,f.jsx)(_,{refEl:c,caption:"Group To"})]})},tt=t=>({groups:t(),errs:[]}),et=(t,e)=>({type:t,payload:e}),ot=(t,e)=>{let{type:o,payload:s}=e;switch(o){case"a":return{groups:s,errs:[]};case"b":return Object.assign({},t,{errs:s});default:return t}},st=t=>{const{onDelete:e,msgOnNotSelect:o,useMsEdit:s,getWatchGroups:n,onClose:i}=t,l=(0,r.li)(null),[a,c,p,u]=((t,e)=>{const[{groups:o,errs:s},n]=(0,r.WO)(ot,t,tt);return[o,s,t=>n(et("a",t)),()=>n(et("b",[e("Group")]))]})(n,o);return s((t=>{t&&!t.messages&&p(n())})),(0,f.jsx)(R,{validationMessages:c,refBtClose:H(t),caption:"Delete",title:"Delete Group",onPrimary:()=>{const t=(0,r.ZC)(l);t?(e({caption:t}),(0,r.nl)(l,null)):u()},withoutClear:!0,onClose:i,children:(0,f.jsx)(X,{caption:"Group",options:a,onSelect:t=>{(0,r.nl)(l,t&&t.caption||null)}})})},nt="Watch Groups Edit",it=(0,p.A)((t=>{let{isShow:e,onClose:o}=t;const[s,n]=(0,N.Ri)();return(0,f.jsx)(d.A,{refFocusLast:s,caption:nt,isShow:e,isWithButton:!1,onClose:o,children:(0,f.jsxs)(W.A,{ariaLabel:nt,id:"egd",width:380,useMsEdit:T.w9,getWatchGroups:T.QC,msgOnNotSelect:B.L2,msgOnIsEmptyName:B.N,onClose:o,setRefFocusLast:n,children:[(0,f.jsx)(O.A,{title:"Create",children:(0,f.jsx)($,{forActionType:D.fM,onCreate:T.HS})}),(0,f.jsx)(O.A,{title:"Rename",children:(0,f.jsx)(z,{forActionType:D.Wb,onRename:T.pK})}),(0,f.jsx)(O.A,{title:"Delete",children:(0,f.jsx)(st,{forActionType:D.dr,onDelete:T.xG})})]})})})),lt=t=>{const{msgOnNotSelect:e,msgOnIsEmptyName:o,onCreate:s,onClose:n}=t,[i,l,a,c]=k(),p=Q(t,l,a),[u,d]=q();return(0,f.jsxs)(R,{validationMessages:i,refBtClose:H(t),caption:"Create",title:"Create New List",onPrimary:()=>{const t=(0,r.y5)(c),n=(0,r.ZC)(u);if(n&&t)s({captionGroup:n,captionList:t});else{const s=[];n||s.push(e("In Group")),t||s.push(o("List")),l(s)}},onClear:a,onClose:n,children:[(0,f.jsx)(X,{caption:"In Group",options:p,onSelect:d}),(0,f.jsx)(_,{refEl:c,caption:"List"})]})};var at=o(4250);const rt=t=>{const[e,o]=(0,at.NC)(t),{refEl:s,getWatchListsByGroup:n,groupCaption:i,groupOptions:l,listCaption:a}=t,c=(0,r.li)(),[p,u]=q(),[d,C]=(0,r.J0)([]),h=(0,r.hb)((t=>{const{caption:e}=t||{};t&&e?((0,r.nl)(c,e),(0,r.nl)(p,null),C(t.lists||[])):(0,r.nl)(c,null)}),[]);return(0,r.vJ)((()=>{const s=o();if(s!==t){if(s.groupOptions!==l)(0,r.nl)(c,null),(0,r.nl)(p,null),C([]);else if((0,r.ZC)(c)){const t=n(c.current);t!==d&&((0,r.nl)(p,null),C(t))}e(t)}}),[t]),(0,r.Yn)(s,(()=>({getValue:()=>({captionGroup:(0,r.ZC)(c),captionList:(0,r.ZC)(p)})}))),(0,f.jsxs)("div",{children:[(0,f.jsx)(X,{caption:i,options:l,onSelect:h}),(0,f.jsx)(X,{caption:a,options:d,onSelect:u})]})},ct=t=>{const{onRename:e,msgOnIsEmptyName:o,msgOnNotSelect:s,getWatchListsByGroup:n,onClose:i}=t,l=(0,r.li)(),[a,c,p,u]=k(),d=Q(t,c,p);return(0,f.jsxs)(R,{validationMessages:a,refBtClose:H(t),caption:"Edit",title:"Edit List Name",onPrimary:()=>{const{captionGroup:t,captionList:n}=(0,r.y5)(l)||{},i=(0,r.y5)(u);if(t&&n&&i)e({captionGroup:t,captionListFrom:n,captionListTo:i});else{const e=[];t||e.push(s("Group")),n||e.push(s("List From")),i||e.push(o("List To")),c(e)}},onClear:p,onClose:i,children:[(0,f.jsx)(rt,{refEl:l,getWatchListsByGroup:n,groupCaption:"In Group",groupOptions:d,listCaption:"List From"}),(0,f.jsx)(_,{refEl:u,caption:"List To"})]})},pt=t=>{const{getWatchListsByGroup:e,useMsEdit:o,getWatchGroups:s,forActionType:n,onDelete:i,msgOnNotSelect:l,onClose:a}=t,c=(0,r.li)(),[p,u,d]=k(),[C,h]=(0,r.J0)((()=>s()));return o((t=>{t&&(t.messages||(t.forActionType===n&&d(),h(s())))})),(0,f.jsx)(R,{validationMessages:p,refBtClose:H(t),caption:"Delete",title:"Delete List",onPrimary:()=>{const{captionGroup:t,captionList:e}=(0,r.y5)(c)||{};if(t&&e)i({captionGroup:t,captionList:e});else{const o=[];t||o.push(l("Group")),e||o.push(l("List")),u(o)}},onClear:d,onClose:a,children:(0,f.jsx)(rt,{refEl:c,getWatchListsByGroup:e,groupCaption:"In Group",groupOptions:C,listCaption:"List"})})},ut="Watch Lists Edit",dt={LoadItem:v,EditGroup:it,EditList:(0,p.A)((t=>{let{isShow:e,onClose:o}=t;const[s,n]=(0,N.Ri)();return(0,f.jsx)(d.A,{refFocusLast:s,caption:ut,isShow:e,isWithButton:!1,onClose:o,children:(0,f.jsxs)(W.A,{ariaLabel:ut,id:"eld",width:380,useMsEdit:T.w9,getWatchGroups:T.QC,msgOnNotSelect:B.L2,msgOnIsEmptyName:B.N,onClose:o,setRefFocusLast:n,children:[(0,f.jsx)(O.A,{title:"Create",children:(0,f.jsx)(lt,{forActionType:D.$H,onCreate:T.CY})}),(0,f.jsx)(O.A,{title:"Rename",children:(0,f.jsx)(ct,{getWatchListsByGroup:T.rF,forActionType:D.Nt,onRename:T.sW})}),(0,f.jsx)(O.A,{title:"Delete",children:(0,f.jsx)(pt,{getWatchListsByGroup:T.rF,forActionType:D.yq,onDelete:T.C5})})]})})}))}},8632(t,e,o){o.d(e,{N:()=>l,q:()=>a});var s=o(6539),n=o(4848);const i=(t,e)=>o=>{let{onClick:i}=o;return(0,n.jsx)(s.A,{caption:t,title:e,onClick:i})},l=i("Load","Load Item to Container"),a=i("Show","Show Item Container")}}]);