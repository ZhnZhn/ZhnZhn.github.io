"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[288],{6814(t,e,o){o.d(e,{default:()=>dt});var s=o(2190),n=o(2040),i=o(8678),l=o(6592),r=o(6159),a=o(1315),c=o(391),p=o(4575),u=o(4867),d=o(2400),C=o(9878),h=o(8632),m=o(1234),g=o(8392),x=o(9759),f=o(2357),j=o(4848);const y={width:365},L={width:265},A={display:"inline-block",maxWidth:250,height:32,verticalAlign:"middle"},w=t=>"number"==typeof t&&t-t==0,G=(0,c.WB)(),S={},E=(0,i.vC)(2),v=(0,i.Gd)(),N=(0,p.A)((t=>{let{isShow:e,data:o=S,onClose:c}=t;const p=(0,a.li)(),{caption:N,fromDate:b,initToDate:D,onTestDate:T,itemConf:B}=o,{dataSource:W,x:k,y:I}=B||{},[M,O]=(0,u.eY)(G),[F,R]=(0,u.eY)(w(k)),[P,Z]=(0,u.eY)(),J=(0,a.ZC)((0,a.li)([{caption:"L",title:"Click to toggle input labels",onClick:O},{caption:"V",title:"Click to toggle row value",onClick:R},{caption:"D",title:"Click to toggle date input",onClick:Z}])),[V,Y]=(0,a.J0)([]),$=[(0,j.jsx)(h.N,{onClick:()=>{const t=(0,a.ZC)(p),{isValid:e,datesMsg:i}=t.getValidation(),l=e?[]:i;if(0===l.length){const{id:e,title:i,subtitle:l,caption:a,columnName:p,dataColumn:u,seriaColumnNames:d,itemConf:C={}}=o,{fromDate:h,toDate:m}=t.getValues(),g={id:e,title:i,subtitle:l,value:a,item:a,fromDate:h,toDate:m,columnName:p,dataColumn:u,seriaColumnNames:d,loadId:C.loadId||s.Bs,...C};(0,r.YM)({chartType:s.kw,browserType:n.mU},g),c(),Y((t=>t.length>0?[]:t))}else Y(l)}},"load")];(0,a.vJ)((()=>{R(w(k))}),[k,R]);const _=b||E,H=D||v,q=T||i.bX,Q=M?y:L,K=function(t,e){return void 0===t&&(t=""),void 0===e&&(e=""),`${(0,l.Z)(e)} ${(0,i.Ch)(t)}`.trim()}(k,I);return(0,j.jsxs)(d.A,{style:Q,isShow:e,caption:"Load Item",commandButtons:$,onClose:()=>{c(),Y([])},children:[(0,j.jsx)(C.A,{isShow:!0,buttons:J}),(0,j.jsx)(g.A,{isShowLabels:M,textStyle:A,caption:"Item:",text:N}),(0,j.jsx)(f.A,{isShow:F,children:(0,j.jsx)(g.A,{isShowLabels:M,textStyle:A,caption:"Value:",text:K})}),(0,j.jsx)(f.A,{isShow:P,children:(0,j.jsx)(m.A,{refEl:p,isShowLabels:M,initFromDate:_,initToDate:H,onTestDate:q})}),(0,j.jsx)(g.A,{isShowLabels:M,textStyle:A,caption:"Source:",text:W}),(0,j.jsx)(x.A,{validationMessages:V})]})}));var b=o(4407),D=o(2440),T=o(8801),B=o(1990),W=o(701),k=o(2027);const I=()=>{const t=(0,a.li)(),[e,o]=(0,a.J0)([]),s=(0,a.hb)((()=>{(0,a.$)(t),o([])}),[]);return[e,o,s,t]};var M=o(6912),O=o(6539);const F=t=>{let{refBtClose:e,withoutClear:o,caption:s,title:n,onPrimary:i,onClear:l,onClose:r}=t;return(0,j.jsxs)(M.t4,{children:[(0,j.jsx)(O.A,{caption:s,title:n,onClick:i}),!o&&(0,j.jsx)(O.A,{caption:"Clear",title:"Clear Input",onClick:l}),(0,j.jsx)(O.A,{refBt:e,caption:"Close",title:"Close Dialog",onClick:r})]})},R=t=>{let{validationMessages:e,refBtClose:o,caption:s,title:n,onPrimary:i,withoutClear:l,onClear:r,onClose:a,children:c}=t;return(0,j.jsxs)("div",{children:[c,(0,j.jsx)(x.A,{validationMessages:e}),(0,j.jsx)(F,{refBtClose:o,caption:s,title:n,onPrimary:i,withoutClear:l,onClear:r,onClose:a})]})};var P=o(1327),Z=o(1205);const J={lineHeight:2},V={width:120},Y={width:250,height:30,paddingLeft:10,marginLeft:0,marginRight:0},$=t=>{let{refEl:e,caption:o}=t;return(0,j.jsxs)(M.st,{style:J,children:[(0,j.jsx)(P.D4,{style:V,children:o}),(0,j.jsx)(Z.A,{refEl:e,style:Y})]})},_=t=>t.isVisible?t.setRefFocusLast:void 0,H=t=>{const{forActionType:e,useMsEdit:o,msgOnIsEmptyName:s,onCreate:n,onClose:i}=t,[l,r,c,p]=I();return o((t=>{t&&t.forActionType===e&&(t.messages?r(t.messages):c())})),(0,j.jsx)(R,{validationMessages:l,refBtClose:_(t),caption:"Create",title:"Create New Group",onPrimary:()=>{const t=(0,a.y5)(p);t?n({caption:t}):((0,a.$)(p),r([s("Group")]))},onClear:c,onClose:i,children:(0,j.jsx)($,{refEl:p,caption:"Group"})})},q=()=>{const t=(0,a.li)(),e=(0,a.hb)((e=>{(0,a.nl)(t,(e||{}).caption)}),[]);return[t,e]},Q=(t,e,o)=>{const{useMsEdit:s,forActionType:n,getWatchGroups:i}=t,[l,r]=(0,a.J0)((()=>i()));return s((t=>{t&&(t.forActionType===n?t.messages?e(t.messages):(o(),r(i())):r(i()))})),l};var K=o(6476);const U={width:120},X=t=>{let{caption:e,options:o,onSelect:s}=t;return(0,j.jsxs)(M.st,{children:[(0,j.jsx)(P.D4,{style:U,children:e}),(0,j.jsx)(K.A,{width:"250",options:o,onSelect:s})]})},z=t=>{const{msgOnNotSelect:e,msgOnIsEmptyName:o,onRename:s,onClose:n}=t,[i,l,r,c]=I(),p=Q(t,l,r),[u,d]=q();return(0,j.jsxs)(R,{validationMessages:i,refBtClose:_(t),caption:"Edit",title:"Edit Group Name",onPrimary:()=>{const t=(0,a.y5)(c),n=(0,a.ZC)(u);if(t&&n)s({captionFrom:n,captionTo:t});else{const s=[];n||s.push(e("Group From")),t||s.push(o("Group To")),l(s)}},onClear:r,onClose:n,children:[(0,j.jsx)(X,{caption:"Group From",options:p,onSelect:d}),(0,j.jsx)($,{refEl:c,caption:"Group To"})]})},tt=t=>({groups:t(),errs:[]}),et=(t,e)=>({type:t,payload:e}),ot=(t,e)=>{let{type:o,payload:s}=e;switch(o){case"a":return{groups:s,errs:[]};case"b":return{...t,errs:s};default:return t}},st=t=>{const{onDelete:e,msgOnNotSelect:o,useMsEdit:s,getWatchGroups:n,onClose:i}=t,l=(0,a.li)(null),[r,c,p,u]=((t,e)=>{const[{groups:o,errs:s},n]=(0,a.WO)(ot,t,tt);return[o,s,t=>n(et("a",t)),()=>n(et("b",[e("Group")]))]})(n,o);return s((t=>{t&&!t.messages&&p(n())})),(0,j.jsx)(R,{validationMessages:c,refBtClose:_(t),caption:"Delete",title:"Delete Group",onPrimary:()=>{const t=(0,a.ZC)(l);t?(e({caption:t}),(0,a.nl)(l,null)):u()},withoutClear:!0,onClose:i,children:(0,j.jsx)(X,{caption:"Group",options:r,onSelect:t=>{(0,a.nl)(l,t&&t.caption||null)}})})},nt="Watch Groups Edit",it=(0,p.A)((t=>{let{isShow:e,onClose:o}=t;const[s,n]=(0,b.Ri)();return(0,j.jsx)(d.A,{refFocusLast:s,caption:nt,isShow:e,isWithButton:!1,onClose:o,children:(0,j.jsxs)(W.A,{ariaLabel:nt,id:"egd",width:380,useMsEdit:T.w9,getWatchGroups:T.QC,msgOnNotSelect:B.L2,msgOnIsEmptyName:B.N,onClose:o,setRefFocusLast:n,children:[(0,j.jsx)(k.A,{title:"Create",children:(0,j.jsx)(H,{forActionType:D.fM,onCreate:T.HS})}),(0,j.jsx)(k.A,{title:"Rename",children:(0,j.jsx)(z,{forActionType:D.Wb,onRename:T.pK})}),(0,j.jsx)(k.A,{title:"Delete",children:(0,j.jsx)(st,{forActionType:D.dr,onDelete:T.xG})})]})})})),lt=t=>{const{msgOnNotSelect:e,msgOnIsEmptyName:o,onCreate:s,onClose:n}=t,[i,l,r,c]=I(),p=Q(t,l,r),[u,d]=q();return(0,j.jsxs)(R,{validationMessages:i,refBtClose:_(t),caption:"Create",title:"Create New List",onPrimary:()=>{const t=(0,a.y5)(c),n=(0,a.ZC)(u);if(n&&t)s({captionGroup:n,captionList:t});else{const s=[];n||s.push(e("In Group")),t||s.push(o("List")),l(s)}},onClear:r,onClose:n,children:[(0,j.jsx)(X,{caption:"In Group",options:p,onSelect:d}),(0,j.jsx)($,{refEl:c,caption:"List"})]})};var rt=o(4250);const at=t=>{const[e,o]=(0,rt.NC)(t),{refEl:s,getWatchListsByGroup:n,groupCaption:i,groupOptions:l,listCaption:r}=t,c=(0,a.li)(),[p,u]=q(),[d,C]=(0,a.J0)([]),h=(0,a.hb)((t=>{const{caption:e}=t||{};t&&e?((0,a.nl)(c,e),(0,a.nl)(p,null),C(t.lists||[])):(0,a.nl)(c,null)}),[]);return(0,a.vJ)((()=>{const s=o();if(s!==t){if(s.groupOptions!==l)(0,a.nl)(c,null),(0,a.nl)(p,null),C([]);else if((0,a.ZC)(c)){const t=n(c.current);t!==d&&((0,a.nl)(p,null),C(t))}e(t)}}),[t]),(0,a.Yn)(s,(()=>({getValue:()=>({captionGroup:(0,a.ZC)(c),captionList:(0,a.ZC)(p)})}))),(0,j.jsxs)("div",{children:[(0,j.jsx)(X,{caption:i,options:l,onSelect:h}),(0,j.jsx)(X,{caption:r,options:d,onSelect:u})]})},ct=t=>{const{onRename:e,msgOnIsEmptyName:o,msgOnNotSelect:s,getWatchListsByGroup:n,onClose:i}=t,l=(0,a.li)(),[r,c,p,u]=I(),d=Q(t,c,p);return(0,j.jsxs)(R,{validationMessages:r,refBtClose:_(t),caption:"Edit",title:"Edit List Name",onPrimary:()=>{const{captionGroup:t,captionList:n}=(0,a.y5)(l)||{},i=(0,a.y5)(u);if(t&&n&&i)e({captionGroup:t,captionListFrom:n,captionListTo:i});else{const e=[];t||e.push(s("Group")),n||e.push(s("List From")),i||e.push(o("List To")),c(e)}},onClear:p,onClose:i,children:[(0,j.jsx)(at,{refEl:l,getWatchListsByGroup:n,groupCaption:"In Group",groupOptions:d,listCaption:"List From"}),(0,j.jsx)($,{refEl:u,caption:"List To"})]})},pt=t=>{const{getWatchListsByGroup:e,useMsEdit:o,getWatchGroups:s,forActionType:n,onDelete:i,msgOnNotSelect:l,onClose:r}=t,c=(0,a.li)(),[p,u,d]=I(),[C,h]=(0,a.J0)((()=>s()));return o((t=>{t&&(t.messages||(t.forActionType===n&&d(),h(s())))})),(0,j.jsx)(R,{validationMessages:p,refBtClose:_(t),caption:"Delete",title:"Delete List",onPrimary:()=>{const{captionGroup:t,captionList:e}=(0,a.y5)(c)||{};if(t&&e)i({captionGroup:t,captionList:e});else{const o=[];t||o.push(l("Group")),e||o.push(l("List")),u(o)}},onClear:d,onClose:r,children:(0,j.jsx)(at,{refEl:c,getWatchListsByGroup:e,groupCaption:"In Group",groupOptions:C,listCaption:"List"})})},ut="Watch Lists Edit",dt={LoadItem:N,EditGroup:it,EditList:(0,p.A)((t=>{let{isShow:e,onClose:o}=t;const[s,n]=(0,b.Ri)();return(0,j.jsx)(d.A,{refFocusLast:s,caption:ut,isShow:e,isWithButton:!1,onClose:o,children:(0,j.jsxs)(W.A,{ariaLabel:ut,id:"eld",width:380,useMsEdit:T.w9,getWatchGroups:T.QC,msgOnNotSelect:B.L2,msgOnIsEmptyName:B.N,onClose:o,setRefFocusLast:n,children:[(0,j.jsx)(k.A,{title:"Create",children:(0,j.jsx)(lt,{forActionType:D.$H,onCreate:T.CY})}),(0,j.jsx)(k.A,{title:"Rename",children:(0,j.jsx)(ct,{getWatchListsByGroup:T.rF,forActionType:D.Nt,onRename:T.sW})}),(0,j.jsx)(k.A,{title:"Delete",children:(0,j.jsx)(pt,{getWatchListsByGroup:T.rF,forActionType:D.yq,onDelete:T.C5})})]})})}))}},8632(t,e,o){o.d(e,{N:()=>l,q:()=>r});var s=o(6539),n=o(4848);const i=(t,e)=>o=>{let{onClick:i}=o;return(0,n.jsx)(s.A,{caption:t,title:e,onClick:i})},l=i("Load","Load Item to Container"),r=i("Show","Show Item Container")}}]);