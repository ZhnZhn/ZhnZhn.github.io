"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[103],{6366:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Ce});var o=r(1315),n=r(4558),a=r(4867),s=r(634),i=r(8801),l=r(4427),p=r(3597);const d=()=>(0,l.BK)(p.VO),c=()=>(0,l.BK)(p.aF),u=e=>(0,l.BK)(p.R0,e),g=(e,t)=>{t.stopPropagation(),(0,i._x)(e)};var x=r(6752),I=r(2336),T=r(761),C=r(8203),y=r(1358),f=r(4848);const m="bt__watch__bar",v={margin:"4px 0"},E={marginLeft:15},h=e=>{let{isShow:t,onClickGroup:r,onClickList:o}=e;return t?(0,f.jsxs)("div",{style:v,children:[(0,f.jsx)(y.A,{caption:"GROUP",className:m,onClick:r}),(0,f.jsx)(y.A,{caption:"LIST",className:m,style:E,onClick:o})]}):null},D=e=>JSON.parse(e.dataTransfer.getData("text")),P={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"},S="border-bottom",b="border-left";let _,j,k,L;const N=e=>e.currentTarget.style,M=(e,t)=>(e=>`4px solid ${e}`)((e=>-1!==_.indexOf(e))(e)?t||"green":"red"),O=e=>{const t=j.style;N(e).removeProperty(b),t.removeProperty("border"),t.setProperty(S,k)},R=Object.assign,A=e=>{let{event:t,dragId:r,xType:o}=e;R(t.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:r,xType:o}))},w=(e,t)=>(r,o)=>{((e,t)=>{j=e.currentTarget,_=t,k=N(e).getPropertyValue(S)})(o,e),A({event:o,dragId:t(r),xType:e[0]})},G=(e,t)=>r=>{r.preventDefault(),((e,t,r)=>{const o=N(e);L=o.getPropertyValue(b),o.setProperty(b,M(t,r))})(r,e,t)},U=e=>{e.preventDefault()},J=e=>{e.preventDefault(),(e=>{const t=N(e);t.removeProperty(b),t.setProperty(b,L)})(e)},$=(e,t,r,n,a,s,i)=>s?{draggable:!0,onDragStart:(0,o.Jr)(e,i),onDrop:(0,o.Jr)(t,i),onDragEnter:r,onDragOver:n,onDragLeave:a}:void 0,K=e=>{let{caption:t}=e;return`${t};`},V=w([P.GROUP],K),H=G(P.GROUP,P.C_GROUP_ENTER),B=(0,o.Jr)($,V,((e,t)=>{O(t);const{xType:r,dragId:o}=D(t),n=K(e);if(r===P.GROUP){if(o===n)return;t.preventDefault(),(0,i.Gw)({dragId:o,dropId:n})}else r===P.LIST&&(t.preventDefault(),(0,i.DX)({dragId:o,dropId:n}))}),H,U,J);var F=r(7144),W=r(9073);const X=e=>{let{groupCaption:t,caption:r}=e;return`${t};${r};`},Z=w([P.LIST,P.GROUP],X),Y=G(P.LIST,P.C_LIST_ENTER),q=(0,o.Jr)($,Z,((e,t)=>{O(t);const{xType:r,dragId:o}=D(t),n=X(e);if(r===P.LIST){if(o===n)return;t.preventDefault(),(0,i.DX)({dragId:o,dropId:n})}else r===P.ITEM&&(t.preventDefault(),(0,i.yN)({dragId:o,dropId:n}))}),Y,U,J),z=e=>{let{groupCaption:t,listCaption:r,caption:o}=e;return`${t};${r};${o}`},Q=w([P.ITEM,P.LIST],z),ee=G(P.ITEM,P.C_LIST_ENTER),te=(0,o.Jr)($,Q,((e,t)=>{O(t);const{xType:r,dragId:o}=D(t),n=z(e);if(r===P.ITEM){if(o===n)return;t.preventDefault(),(0,i.yN)({dragId:o,dropId:n})}}),ee,U,J);var re=r(6736),oe=r(7118),ne=r(6204);const ae={position:"relative",padding:"5px 40px 5px 0"},se={width:"100%",maxWidth:250,height:28,verticalAlign:"middle"},ie={top:8},le="Not Found",pe=e=>{let{item:t,className:r,onClick:n,onClose:a,isDraggable:s,dndHandlers:i,option:l}=e;const{caption:p=le}=t||{},d=s?(0,f.jsx)(oe.P,{style:ie,onClick:(0,o.Jr)(a,l)}):null,c=(0,o.hb)((()=>n(t)),[t]),u=(0,o.hb)((e=>{(0,re.P0)(e)&&c()}),[c]);return(0,f.jsxs)("div",{role:"menuitem",tabIndex:"0",className:r,style:ae,onClick:c,onKeyUp:u,...i,children:[(0,f.jsx)(ne.A,{style:se,text:p}),d]})},de=Array.isArray,ce=`${n.eA} stroke-black`,ue=e=>{let{isModeEdit:t,items:r,groupCaption:o,listCaption:n}=e;return de(r)?r.map((e=>{const{caption:r}=e,a={groupCaption:o,listCaption:n,caption:r};return(0,f.jsx)(pe,{className:ce,item:e,isDraggable:t,option:a,dndHandlers:te(t,a),onClick:u,onClose:g},r)})):null},ge=e=>{let{isModeEdit:t,groupCaption:r,lists:a}=e;return(0,o.lZ)(a,(e=>{let{caption:o,items:a}=e;return(0,f.jsx)(F.A,{role:"menuitem",style:n.Ke,openColor:W.ui,caption:o,dndHandlers:q(t,{groupCaption:r,caption:o}),children:(0,f.jsx)(ue,{isModeEdit:t,items:a,groupCaption:r,listCaption:o})},o)}))},xe=e=>{let{isModeEdit:t,groups:r}=e;return(0,o.lZ)(r,(e=>{let{caption:r,lists:o}=e;return(0,f.jsx)(F.A,{role:"menuitem",caption:r,dndHandlers:B(t,{caption:r}),children:(0,f.jsx)(ge,{isModeEdit:t,groupCaption:r,lists:o})},r)}))},Ie=(0,n.nV)("scroll-watch"),Te={paddingTop:0},Ce=e=>{const{caption:t,useWatchList:r}=e,[n,l,p]=(0,s.A)(e),u=r(),{groups:g}=u||{},[y,m]=(e=>{const[t,r]=(0,a.eY)();return[t,(0,o.Kr)((()=>[(0,T.fM)("S","Save to LocalStorage",e),(0,T.fM)(t?"V":"E","Toggle Edit Mode: E/V",r)]),[t])]})(i.vk);return(0,f.jsxs)(x.A,{isShow:n,onKeyDown:p,children:[(0,f.jsx)(I.A,{caption:t,onClose:l}),(0,f.jsx)(T.ot,{style:Te,children:m}),(0,f.jsx)(h,{isShow:y,onClickGroup:d,onClickList:c}),(0,f.jsx)(C.A,{className:Ie,children:(0,f.jsx)(xe,{isModeEdit:y,groups:g})})]})}}}]);