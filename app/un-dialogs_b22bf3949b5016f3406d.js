"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[538],{7361:(e,o,t)=>{t.r(o),t.d(o,{default:()=>$});var a=t(2009),r=t(6460),l=t(4575),s=t(4867),n=t(4250),i=t(3057);const c=()=>{const[e,o]=(0,s.A)(!1),t=(0,a.hb)((()=>{o(!1)}),[o]);return[e,o,t]};var p=t(5417),h=t(9288),u=t(4428),d=t(972),A=t(6223),S=t(8353),w=t(4848);const g=e=>{let{isShow:o,configs:t,onClose:a}=e;return(0,w.jsx)(d.A,{isShow:o,className:S.ND,style:S.lM,onClose:a,children:(t||[]).map((e=>(0,w.jsx)(A.A,{style:S.v$,color:S.Ic,caption:e[0],value:e[1],onToggle:e[2]},e[0])))})},v=function(e,o){void 0===o&&(o=0);const t=e[o];return[t,(a=t,"Default: "+a.c)];var a},m=[{c:"Export Value",v:{rg:"X",measure:"primaryValue"}},{c:"Export Weight",v:{rg:"X",measure:"netWgt"}},{c:"Export Quantity",v:{rg:"X",measure:"qty"}},{c:"Export Average Value Per Weight",v:{rg:"X",measure:"avgPerWeight"}},{c:"Export Average Value Per Quantity",v:{rg:"X",measure:"avgPerQuantity"}},{c:"Import Value",v:{rg:"M",measure:"primaryValue"}},{c:"Import Weight",v:{rg:"M",measure:"netWgt"}},{c:"Import Quantity",v:{rg:"M",measure:"qty"}},{c:"Import Average Value Per Weight",v:{rg:"M",measure:"avgPerWeight"}},{c:"Import Average Value Per Quantity",v:{rg:"M",measure:"avgPerQuantity"}}],[x,y]=v(m),[b={c:"All",v:"all"},j]=v([{c:"All",v:"all"}]),L=[{c:"Annual",v:"A"},{c:"Monthly",v:"M"}],[C,T]=v(L),I=(e,o)=>({caption:e,value:o}),f=[I("Spline",r.qv),I("Bar by Reporter",r.zM)],[M,P]=(0,u.A)("Y",1),R=I(P,P),V=(0,l.A)((e=>{const{isShow:o,caption:t,oneURI:r,twoURI:l,tpURI:u,msgOnNotSelected:d,toTopLayer:A,onAbout:S,loadFn:v,onLoad:I,onShow:V,onClose:W}=e,[E,D]=(0,a.J0)(),[H,Q,U]=c(),[F,O,N,q,X,_,k]=(0,i.A)({onAbout:S,onClose:W,toggleInputs:Q}),[J,B]=(0,s.A)(!0),[G,z]=(0,s.A)(!1),[Y,Z]=(0,s.A)(!0),[$,K]=(0,s.A)(!1),ee=(0,a.li)(),oe=(0,a.li)(),[te,ae]=(0,n.A)(),[re,le]=(0,n.A)(),[se,ne]=(0,n.A)(),[ie,ce]=(0,n.A)(R),[pe,he]=(0,n.A)(),ue=(0,a.hb)((()=>{const o=(0,a.ZC)(oe),{msg:t=[]}=o.getValidation(),r=ae()||b,l=r.v,s=ne(),n=s&&s.v,i=he()||C;if("all"===l&&"all"===n&&t.push("Query All to All is too complex"),"all"===l&&"M"===i.v&&t.push("Query All Monthly is too complex"),0===t.length){const{one:t,two:l}=o.getValues();I(v(e,{one:r,two:t,three:l,tradeFlow:le()||x,tradePartner:s,freq:i,chType:E,time:ce().value,tradePartners:(0,a.UU)(ee)}))}_(t)}),[E]),de=(0,h.yj)(E);return(0,w.jsxs)(p.A.DraggableDialog,{isShow:o,caption:t,menuModel:N,toTopLayer:A,onLoad:ue,onShow:V,onClose:k,children:[(0,w.jsx)(p.A.Toolbar,{isShow:F,buttons:q}),(0,w.jsx)(g,{isShow:H,configs:[["Partner",G,z],["Heading",J,B],["Trade Flow",Y,Z],["Chart",$,K]],onClose:U}),(0,w.jsx)(p.A.SelectWithLoad,{isShow:o,isShowLabels:O,uri:r,caption:"Reporter",placeholder:j,onSelect:te}),(0,w.jsx)(p.A.ShowHide,{isShow:G,children:(0,w.jsx)(p.A.SelectWithLoad,{refEl:ee,isShowLabels:O,uri:u,caption:"Partner",placeholder:"Default: World",onSelect:se})}),(0,w.jsx)(p.A.ShowHide,{isShow:J,children:(0,w.jsx)(p.A.SelectOneTwo,{refEl:oe,isShow:o,isShowLabels:O,uri:l,oneCaption:"Heading",twoCaption:"Subheading",msgOnNotSelected:d})}),(0,w.jsx)(p.A.ShowHide,{isShow:Y,children:(0,w.jsx)(p.A.RowInputSelect,{isShowLabels:O,caption:"Trade Flow",placeholder:y,propCaption:"c",options:m,onSelect:re})}),(0,w.jsx)(p.A.ShowHide,{isShow:!1,children:(0,w.jsx)(p.A.RowInputSelect,{isShowLabels:O,caption:"Frequency",placeholder:T,propCaption:"c",options:L})}),$&&(0,w.jsx)(p.A.RowChartDate,{chartType:E,isShowLabels:O,isShowChart:$,chartOptions:f,onSelectChart:D,isShowDate:de,dateDefault:P,dateOptions:M,onSelectDate:ie}),(0,w.jsx)(p.A.ValidationMessages,{validationMessages:X})]})})),W=[{c:"TreeMap (60, 90)",v:"TREE_MAP"},{c:"Bar (60, 90)",v:"BAR"}],E=[...W,{c:"Spline",v:"SPLINE"}],[D,H]=v(W),Q=(e,o)=>"0"===e.v&&"TOTAL"===o.v?E:W,U=(e,o)=>{const[t,r]=(0,n.A)(D,D),[l,s]=(0,a.J0)(!0),i=(0,a.hb)((e=>{t(e),s((()=>(e=>!(e&&"SPLINE"===e.v))(e)))}),[]),[c,p]=(0,a.J0)(!0),[h,u]=(0,a.J0)((()=>Q(e(),o()))),d=(0,a.hb)((()=>{const a=e(),r=o();var l;p((l=r,!("0"!==a.v&&"TOTAL"===l.v))),u((e=>{const o=Q(a,r);return o!==e&&(t(D),s(!0)),o}))}),[]);return[H,c,l,d,i,r,h]},F=[{c:"Total of trade partner",v:"TOTAL"},{c:"All 2-digit HS commodities",v:"AG2"}],[O,N]=v(F),q=(()=>{const e=[];for(let o=0;o<23;o++){const t=""+(2023-o);e.push({c:t,v:t})}return e})(),[X,_]=v(q,1),k=[{c:"Export Value",v:{rg:"X",measure:"primaryValue"}},{c:"Calculated Export Value by Reporter Imports",v:{rg:"M",measure:"primaryValue",tfType:"t1"}},{c:"Import Value",v:{rg:"M",measure:"primaryValue"}},{c:"Calculated Import Value by Reporter Exports",v:{rg:"M",measure:"primaryValue",tfType:"t1"}}],[J,B]=v(k),[G={c:"World",v:"0"},z]=v([{c:"World",v:"0"}]),Y={c:"Annual",v:"A"},Z=(0,l.A)((e=>{const{isShow:o,caption:t,oneURI:r,tpURI:l,msgOnNotSelected:h,toTopLayer:u,onAbout:d,loadFn:A,onLoad:S,onShow:v,onClose:m}=e,x=(0,a.li)(),[y,b,j]=c(),[L,C,T,I,f,M,P]=(0,i.A)({onAbout:d,onClose:m,toggleInputs:b}),[R,V]=(0,s.A)(!0),[W,E]=(0,s.A)(),[D,H]=(0,n.A)(),[Q,Z]=(0,n.A)(G,G),[$,K]=(0,n.A)(O,O),[ee,oe,te,ae,re,le,se]=U(Z,K),[ne,ie]=(0,n.A)(J,J),[ce,pe]=(0,n.A)(X,X),he=(0,a.hb)((e=>{Q(e),ae()}),[]),ue=(0,a.hb)((e=>{$(e),ae()}),[]),de=(0,a.hb)((()=>{const o=H(),t=Z(),r=ie(),l=K(),s=le(),n=[];var i;o||n.push(h("Reporter")),(o&&"all"===o.v||(i=l,"all"===t.v&&"total"!==i.v))&&n.push("Query All is too complex"),o&&"0"===o.v&&"AG2"===l.v&&n.push("Query World by AG2 is too complex"),"t1"!==r.v.tfType||"0"===t.v&&"SPLINE"!==s.v||n.push("Query trade flow calculated values is only for category charts of trade partner World"),0===n.length&&S(A(e,{one:o,three:l,tradeFlow:r,tradePartner:t,period:pe(),chart:s,freq:Y,tradePartners:(0,a.UU)(x)})),M(n)}),[]);return(0,w.jsxs)(p.A.DraggableDialog,{isShow:o,caption:t,menuModel:T,toTopLayer:u,onLoad:de,onShow:v,onClose:P,children:[(0,w.jsx)(p.A.Toolbar,{isShow:L,buttons:I}),(0,w.jsx)(g,{isShow:y,configs:[["Trade Flow",R,V],["Partner",W,E]],onClose:j}),(0,w.jsx)(p.A.SelectWithLoad,{isShow:o,isShowLabels:C,uri:r,caption:"Reporter",onSelect:D}),(0,w.jsx)(p.A.ShowHide,{isShow:R,children:(0,w.jsx)(p.A.RowInputSelect,{isShowLabels:C,caption:"Trade Flow",placeholder:B,propCaption:"c",options:k,onSelect:ne})}),(0,w.jsx)(p.A.ShowHide,{isShow:W,children:(0,w.jsx)(p.A.SelectWithLoad,{refEl:x,isShowLabels:C,uri:l,caption:"Partner",placeholder:z,onSelect:he})}),(0,w.jsxs)(p.A.ShowHide,{isShow:!0,children:[(0,w.jsx)(p.A.RowInputSelect,{isShowLabels:C,caption:"Aggregation",placeholder:N,propCaption:"c",options:F,onSelect:ue}),(0,w.jsxs)(p.A.ShowHide,{isShow:oe,children:[(0,w.jsx)(p.A.RowInputSelect,{isShowLabels:C,caption:"Chart",placeholder:ee,propCaption:"c",options:se,onSelect:re}),(0,w.jsx)(p.A.ShowHide,{isShow:te,children:(0,w.jsx)(p.A.RowInputSelect,{isShowLabels:C,caption:"Period",placeholder:_,propCaption:"c",options:q,onSelect:ce})})]})]}),(0,w.jsx)(p.A.ValidationMessages,{validationMessages:f})]})})),$={UnDialog5:V,UnDialogAgg:Z}}}]);