"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[664],{9320:(e,o,t)=>{t.r(o),t.d(o,{default:()=>X});var r=t(8504),a=t(4332),l=t(312),c=t(2660),s=t(6906);const n=()=>{const[e,o]=(0,l.c)(!1),t=(0,r.kZ)((()=>{o(!1)}),[o]);return[e,o,t]};var i=t(6509),p=t(20),h=t(5648),u=t(7608),d=t(7624);const S=e=>{let{isShow:o,configs:t,onClose:r}=e;return(0,d.jsx)(p.c,{isShow:o,className:u.EZ,style:u.ID,onClose:r,children:(t||[]).map((e=>(0,d.jsx)(h.c,{style:u.O4,color:u.y,caption:e[0],value:e[1],onToggle:e[2]},e[0])))})},g=function(e,o){void 0===o&&(o=0);const t=e[o];return[t,(r=t,`Default: ${r.c}`)];var r},w=[{c:"Export Value",v:{rg:"X",measure:"primaryValue"}},{c:"Export Weight",v:{rg:"X",measure:"netWgt"}},{c:"Export Quantity",v:{rg:"X",measure:"qty"}},{c:"Export Average Value Per Weight",v:{rg:"X",measure:"avgPerWeight"}},{c:"Export Average Value Per Quantity",v:{rg:"X",measure:"avgPerQuantity"}},{c:"Import Value",v:{rg:"M",measure:"primaryValue"}},{c:"Import Weight",v:{rg:"M",measure:"netWgt"}},{c:"Import Quantity",v:{rg:"M",measure:"qty"}},{c:"Import Average Value Per Weight",v:{rg:"M",measure:"avgPerWeight"}},{c:"Import Average Value Per Quantity",v:{rg:"M",measure:"avgPerQuantity"}}],[v,m]=g(w),[x={c:"All",v:"all"},y]=g([{c:"All",v:"all"}]),j=[{c:"Annual",v:"A"},{c:"Monthly",v:"M"}],[b,A]=g(j),L=(0,a.c)((e=>{const{isShow:o,caption:t,oneURI:a,twoURI:p,tpURI:h,msgOnNotSelected:u,toTopLayer:g,onAbout:L,loadFn:T,onLoad:I,onShow:f,onClose:C}=e,[V,P,M]=n(),[R,W,E,H,k,Q,D]=(0,s.c)({onAbout:L,onClose:C,toggleInputs:P}),[F,O]=(0,l.c)(!0),[Z,N]=(0,l.c)(!1),[U,X]=(0,l.c)(!0),q=(0,r.yK)(),_=(0,r.yK)(),[B,G]=(0,c.c)(),[K,$]=(0,c.c)(),[z,J]=(0,c.c)(),[Y,ee]=(0,c.c)(),oe=(0,r.kZ)((()=>{const o=(0,r.sB)(_),{msg:t=[]}=o.getValidation(),a=G()||x,l=a.v,c=J(),s=c&&c.v,n=ee()||b;if("all"===l&&"all"===s&&t.push("Query All to All is too complex"),"all"===l&&"M"===n.v&&t.push("Query All Monthly is too complex"),0===t.length){const{one:t,two:l}=o.getValues();I(T(e,{one:a,two:t,three:l,tradeFlow:$()||v,tradePartner:c,freq:n,tradePartners:(0,r.EV)(q)}))}Q(t)}),[]);return(0,d.jsxs)(i.c.DraggableDialog,{isShow:o,caption:t,menuModel:E,toTopLayer:g,onLoad:oe,onShow:f,onClose:D,children:[(0,d.jsx)(i.c.Toolbar,{isShow:R,buttons:H}),(0,d.jsx)(S,{isShow:V,configs:[["Partner",Z,N],["Heading",F,O],["Trade Flow",U,X]],onClose:M}),(0,d.jsx)(i.c.SelectWithLoad,{isShow:o,isShowLabels:W,uri:a,caption:"Reporter",placeholder:y,onSelect:B}),(0,d.jsx)(i.c.ShowHide,{isShow:Z,children:(0,d.jsx)(i.c.SelectWithLoad,{ref:q,isShowLabels:W,uri:h,caption:"Partner",placeholder:"Default: World",onSelect:z})}),(0,d.jsx)(i.c.ShowHide,{isShow:F,children:(0,d.jsx)(i.c.SelectOneTwo,{ref:_,isShow:o,isShowLabels:W,uri:p,oneCaption:"Heading",twoCaption:"Subheading",msgOnNotSelected:u})}),(0,d.jsx)(i.c.ShowHide,{isShow:U,children:(0,d.jsx)(i.c.RowInputSelect,{isShowLabels:W,caption:"Trade Flow",placeholder:m,propCaption:"c",options:w,onSelect:K})}),(0,d.jsx)(i.c.ShowHide,{isShow:!1,children:(0,d.jsx)(i.c.RowInputSelect,{isShowLabels:W,caption:"Frequency",placeholder:A,propCaption:"c",options:j})}),(0,d.jsx)(i.c.ValidationMessages,{validationMessages:k})]})})),T=[{c:"TreeMap (60, 90)",v:"TREE_MAP"},{c:"Bar (60, 90)",v:"BAR"}],I=[...T,{c:"Spline",v:"SPLINE"}],[f,C]=g(T),V=(e,o)=>"0"===e.v&&"TOTAL"===o.v?I:T,P=(e,o)=>{const[t,a]=(0,c.c)(f,f),[l,s]=(0,r.oT)(!0),n=(0,r.kZ)((e=>{t(e),s((()=>(e=>!(e&&"SPLINE"===e.v))(e)))}),[]),[i,p]=(0,r.oT)(!0),[h,u]=(0,r.oT)((()=>V(e(),o()))),d=(0,r.kZ)((()=>{const r=e(),a=o();var l;p((l=a,!("0"!==r.v&&"TOTAL"===l.v))),u((e=>{const o=V(r,a);return o!==e&&(t(f),s(!0)),o}))}),[]);return[C,i,l,d,n,a,h]},M=[{c:"Total of trade partner",v:"TOTAL"},{c:"All 2-digit HS commodities",v:"AG2"}],[R,W]=g(M),E=(()=>{const e=[];for(let o=0;o<22;o++){const t=""+(2022-o);e.push({c:t,v:t})}return e})(),[H,k]=g(E,1),Q=[{c:"Export Value",v:{rg:"X",measure:"primaryValue"}},{c:"Calculated Export Value by Reporter Imports",v:{rg:"M",measure:"primaryValue",tfType:"t1"}},{c:"Import Value",v:{rg:"M",measure:"primaryValue"}},{c:"Calculated Import Value by Reporter Exports",v:{rg:"M",measure:"primaryValue",tfType:"t1"}}],[D,F]=g(Q),[O={c:"World",v:"0"},Z]=g([{c:"World",v:"0"}]),N={c:"Annual",v:"A"},U=(0,a.c)((e=>{const{isShow:o,caption:t,oneURI:a,tpURI:p,msgOnNotSelected:h,toTopLayer:u,onAbout:g,loadFn:w,onLoad:v,onShow:m,onClose:x}=e,y=(0,r.yK)(),[j,b,A]=n(),[L,T,I,f,C,V,U]=(0,s.c)({onAbout:g,onClose:x,toggleInputs:b}),[X,q]=(0,l.c)(!0),[_,B]=(0,l.c)(),[G,K]=(0,c.c)(),[$,z]=(0,c.c)(O,O),[J,Y]=(0,c.c)(R,R),[ee,oe,te,re,ae,le,ce]=P(z,Y),[se,ne]=(0,c.c)(D,D),[ie,pe]=(0,c.c)(H,H),he=(0,r.kZ)((e=>{$(e),re()}),[]),ue=(0,r.kZ)((e=>{J(e),re()}),[]),de=(0,r.kZ)((()=>{const o=K(),t=z(),a=ne(),l=Y(),c=le(),s=[];var n;o||s.push(h("Reporter")),(o&&"all"===o.v||(n=l,"all"===t.v&&"total"!==n.v))&&s.push("Query All is too complex"),o&&"0"===o.v&&"AG2"===l.v&&s.push("Query World by AG2 is too complex"),"t1"!==a.v.tfType||"0"===t.v&&"SPLINE"!==c.v||s.push("Query trade flow calculated values is only for category charts of trade partner World"),0===s.length&&v(w(e,{one:o,three:l,tradeFlow:a,tradePartner:t,period:pe(),chart:c,freq:N,tradePartners:(0,r.EV)(y)})),V(s)}),[]);return(0,d.jsxs)(i.c.DraggableDialog,{isShow:o,caption:t,menuModel:I,toTopLayer:u,onLoad:de,onShow:m,onClose:U,children:[(0,d.jsx)(i.c.Toolbar,{isShow:L,buttons:f}),(0,d.jsx)(S,{isShow:j,configs:[["Trade Flow",X,q],["Partner",_,B]],onClose:A}),(0,d.jsx)(i.c.SelectWithLoad,{isShow:o,isShowLabels:T,uri:a,caption:"Reporter",onSelect:G}),(0,d.jsx)(i.c.ShowHide,{isShow:X,children:(0,d.jsx)(i.c.RowInputSelect,{isShowLabels:T,caption:"Trade Flow",placeholder:F,propCaption:"c",options:Q,onSelect:se})}),(0,d.jsx)(i.c.ShowHide,{isShow:_,children:(0,d.jsx)(i.c.SelectWithLoad,{ref:y,isShowLabels:T,uri:p,caption:"Partner",placeholder:Z,onSelect:he})}),(0,d.jsxs)(i.c.ShowHide,{isShow:!0,children:[(0,d.jsx)(i.c.RowInputSelect,{isShowLabels:T,caption:"Aggregation",placeholder:W,propCaption:"c",options:M,onSelect:ue}),(0,d.jsxs)(i.c.ShowHide,{isShow:oe,children:[(0,d.jsx)(i.c.RowInputSelect,{isShowLabels:T,caption:"Chart",placeholder:ee,propCaption:"c",options:ce,onSelect:ae}),(0,d.jsx)(i.c.ShowHide,{isShow:te,children:(0,d.jsx)(i.c.RowInputSelect,{isShowLabels:T,caption:"Period",placeholder:k,propCaption:"c",options:E,onSelect:ie})})]})]}),(0,d.jsx)(i.c.ValidationMessages,{validationMessages:C})]})})),X={UnDialog5:L,UnDialogAgg:U}}}]);