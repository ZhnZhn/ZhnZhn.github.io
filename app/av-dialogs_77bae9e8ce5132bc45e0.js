"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[78],{7864:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ot});var a=o(4514),r=o(2296),n=o(4031),i=o(9550),s=o(7294);const l="EOD",d=(e,t)=>{const{_itemKey:o,itemCaption:a}=t,{id:r,dataSource:n}=e,l=o||r,d=((e,t)=>{let{data:o}=e;const{_itemKey:a,dfFn:r,dfSubId:n,items:s,dataSource:l}=t;return"EOD"===r?{_itemKey:a,...(0,i.B0)(t),...(0,i.TU)(o),items:[...s||[]],dfFn:r,dfSubId:n,dataSource:l}:void 0})(e,t);return{id:l,key:l,itemCaption:a,itemConf:d,legend:(0,s.$)(),dataSource:n||"Alpha Vantage"}},c=(e,t)=>({zhConfig:d(e,t),valueMoving:(0,r.Y1)(e.data)}),p=(e,t)=>`${(0,n.kV)(e)}&symbol=${t}`,u=e=>{const{items:t,itemCaption:o,dfFn:a}=e,n=(0,r._W)(t[0]);return(0,r.kp)(e,{itemCaption:o.replace((0,r.Ps)(t[0]),n),dfItem:(0,r._W)(t[1]),dfPeriod:(0,r._W)(t[2])}),p(a,n)},h=e=>t=>{const{items:o}=t,a=(0,r._W)(o[0]);return`${(0,n.kV)(e)}&symbol=${a}`},m=(0,r.vL)({CR:e=>{const{items:t}=e,o=(0,r._W)(t[0]),a=(0,r._W)(t[1]);return(0,r.kp)(e,{itemCaption:`${o}/${a}`}),`${(0,n.kV)("DIGITAL_CURRENCY_DAILY")}&symbol=${o}&market=${a}`},[l]:e=>{const{items:t}=e,[o,a]=t,[n,i]=(0,r.a3)(o),[s,l]=(0,r.a3)(a),[d,c]=(e=>{const t=(e.split("&")[0]||"").replace("TIME_SERIES_",""),o=t.split("_").map((e=>(0,r.Ob)(e.toLowerCase()))).join(" ");return[t,o]})(s);return(0,r.kp)(e,{itemCaption:n,ticket:n,title:i,subtitle:l,dfT:d,interval:c}),p(s,n)},GL:()=>(0,n.kV)("TOP_GAINERS_LOSERS"),TIME_SERIES_INTRADAY:e=>{const{dfFn:t,items:o}=e,a=(0,r._W)(o[0]),n=(0,r._W)(o[1]),i=`${a} (${n})`;return(0,r.kp)(e,{ticket:a,interval:n,title:i,itemCaption:i}),`${p(t,a)}&interval=${n}`},INCOME_STATEMENT:u,BALANCE_SHEET:u,CASH_FLOW:u,EARNINGS:e=>{const{items:t,dfFn:o}=e,a=(0,r._W)(t[0]);return(0,r.kp)(e,{itemCaption:a,dfPeriod:(0,r._W)(t[1])}),p(o,a)},ETF_PROFILE:h("ETF_PROFILE"),OVERVIEW:h("OVERVIEW")},(e=>{let{ticket:t="MSFT",period:o=50,indicator:a="SMA"}=e;return`${p(a,t)}&interval=daily&time_period=${o}&series_type=close`})),A=(0,n.Ec)((e=>m(e.dfFn)));var y=o(9270),S=o(4999),g=o(5248);const f=501,$="MACD",C="MACD_Signal",b="MACD_Hist",v="STOCH",_="SlowK",T="SlowD",w="BBANDS",E="Real Upper Band",D="Real Middle Band",k="Real Lower Band",I={color:(0,r.Jq)()},L={color:"#f44336"},F={color:"rgb(47, 126, 216)"},x={color:"#4caf50"},M=e=>"AD"===e?"Chaikin A/D":e,R=(e,t)=>{const{indicator:o,forDays:a=f}=t,r=e[`Technical Analysis: ${M(o)}`],n=r?Object.keys(r).sort().reverse():[],i=n.length;return{value:r,dateKeys:n,max:i<a?i-1:a}},P=(e,t)=>{let o,a,n,i,s,{dateKeys:l,value:d,max:c}=e;const p=[],u=t.length;for(a=0;a<u;a++)p.push([]);for(o=c;o>-1;o--)for(n=l[o],i=(0,r.cY)(n),s=d[n],a=0;a<u;a++)p[a].push([i,parseFloat(s[t[a]])]);return p},O=(e,t)=>{let{data:o,name:a}=e;return(0,r.kp)((0,g.wo)(),{data:o,name:a,type:"spline",visible:!0,marker:{symbol:"circle"}},t)},N=(0,r.vL)({[$]:(e,t)=>{const o=P(R(e,t),[$,C,b]),a=O({data:o[0],name:$},I()),n=O({data:o[1],name:C},L);return[(0,r.kp)((0,g.wo)(),{color:"rgba(47, 126, 216, 0.75)",data:o[2],name:b,type:"column",visible:!1,shadow:!1,borderWidth:0,pointPlacement:"on",pointPadding:0,groupPadding:0,turboThreshold:2e4}),n,a]},[v]:(e,t)=>{const o=P(R(e,t),[_,T]);return[O({data:o[0],name:_},F),O({data:o[1],name:T},L)]},[w]:(e,t)=>{const o=P(R(e,t),[D,E,k]);return[O({data:o[0],name:D},F),O({data:o[1],name:E},x),O({data:o[2],name:k},L)]}},((e,t)=>{const{indicator:o}=t,a=((e,t)=>{const{indicator:o}=t,a=M(o),{value:n,dateKeys:i,max:s}=R(e,t),l=[];let d,c,p=s;for(;p>-1;p--)d=i[p],c=parseFloat(n[d][a]),l.push([(0,r.cY)(d),c]);return l})(e,t);return O({data:a,name:o})})),j=(e,t)=>N(t.indicator)(e,t),W={crKey:e=>e.chartId=`${e.ticket}-${e.value}`,toConfig(e,t){return{config:(0,y.A)((0,S.Fh)(`${t.ticket}: ${t.value}`),(0,S.$J)(j(e,t)),(0,S.YT)({zhConfig:(o=t.chartId,{id:o,key:o,itemCaption:o,dataSource:"Alpha Vantage"})}),S.qP),isDrawDeltaExtrems:!1,isNotZoomToMinMax:!1};var o},toSeries:j};var V=o(5153),Y=o(5355);const K=(e,t)=>({y:0,exValue:.5,marker:{symbol:"circle",fillColor:e,lineColor:e,radius:6,states:{hover:{enable:!0,fillColor:Y.ud,lineColor:e,lineWidth:2,radius:6}}},dataLabels:{enabled:!0,inside:!0,color:e,style:{fill:e,stroke:e,color:e,fontSize:"12px",fontWeight:"normal",textShadow:"none",textOutline:"0px transparent"},crop:!1,overflow:"none",y:32,formatter:function(){return this.point[t]}}});var B=o(353);const G=e=>{const t=(0,r.QD)(e,"09:30:00")?"#90ed7d":(0,r.QD)(e,"16:00:00")?"#f7a35c":"";return t?{marker:{radius:3,enabled:!0,fillColor:o=t},color:o}:void 0;var o},H=Object.keys,q=(e,t,o)=>{const a=o["7. dividend amount"],r=a&&parseFloat(a);r&&e.push({...K(Y.U,"exValue"),x:t,exValue:r,price:parseFloat(o["5. adjusted close"])})},U="Time Series",Q=e=>{let{interval:t}=e;return"Daily Adjusted"===t?`${U} (Daily)`:(o=t,(0,r.QD)(o,"Weekly")||(0,r.QD)(o,"Monthly")?`${t} ${U}`:`${U} (${t})`);var o},z=(e,t)=>{const o=((e,t)=>e[Q(t)])(e,t),a=o?H(o).sort():[],n=[],i=[],s=[],l=[],d=[],c=[],p=[],{notFilterZero:u,isDividend:h,toUTC:m,pnClose:A,pnVolume:y}=(e=>{let{isFilterZero:t,dfT:o}=e;const a=(0,r.QD)(o,"ADJUSTED");return{notFilterZero:!t,isDividend:a,toUTC:r.CA,pnClose:a?"5. adjusted close":"4. close",pnVolume:a?"6. volume":"5. volume"}})(t);let S,g,f,$,C,b,v,_,T,w=0,E=a.length,D=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY;for(;w<E;w++)g=a[w],f=o[g],v=parseFloat(f["4. close"]),_=parseFloat(f[A]),(u||(I=_,0!==v&&0!==I))&&($=parseFloat(f["1. open"]),C=parseFloat(f["2. high"]),b=parseFloat(f["3. low"]),T=parseFloat(f[y]),S=m(g),n.push({x:S,y:_,...G(g)}),i.push([S,C]),s.push([S,b]),l.push([S,$]),p.push([S,T]),c.push((0,B._8)({open:$,close:v,volume:T,date:S,option:{_high:C,_low:b}})),h&&q(d,S,f),D>_&&(D=_),k<_&&(k=_));var I;return{dC:n,dH:i,dL:s,dO:l,dDividend:d,minClose:D,maxClose:k,dVc:c,dV:p}},Z={toConfig(e,t){const{_itemKey:o,title:a,subtitle:r,dataSource:n}=t,i=z(e,t),{dC:s,minClose:l,maxClose:d,dDividend:p}=i;return{config:(0,y.A)((0,V.Ux)(o,{...t,...i}),(0,S.Kl)(a,r),(0,S.YT)(c({id:o,data:s,dataSource:n},t)),(0,V.p3)(p,l,d),S.qP)}},toSeries:(e,t)=>(0,S.j7)({adapter:Z,type:"line",json:e,option:t})},J=Z,X={crUrl:(e,t)=>{let{apiKey:o=""}=t;return`https://www.alphavantage.co/query/search?function=SYMBOL_SEARCH&keywords=${e}&apikey=${o}`},crOptions:e=>{if(!e||!Array.isArray(e.bestMatches))throw new Error("Response format is not valid");return e.bestMatches.map((e=>({value:e["1. symbol"],name:e["2. name"],type:e["3. type"],region:e["4. region"],currency:e["8. currency"]})))}};var ee=o(9876);const te=(e,t)=>{let{dfItem:o,dfPeriod:a}=t;return(0,n.e)(o,"fiscalDateEnding","10")(e["A"===a?"annualReports":"quarterlyReports"])};let oe;const ae=()=>oe||(oe=(0,ee.e$)({crData:te})),re=(0,n.e)("reportedEPS","fiscalDateEnding","round"),ne=(e,t)=>{const{dfPeriod:o}=t;return re(e["A"===o?"annualEarnings":"quarterlyEarnings"])};let ie;const se=()=>ie||(ie=(0,ee.e$)({crData:ne}));var le=o(4668);const de="alp_perf",ce={paddingTop:6},pe=(e,t,o)=>({...o,name:e,pn:t}),ue=[pe("Ticker","id"),pe("Price","p"),pe("1d Amount","cha",{isHide:!0}),pe("1d %","chp",{isR:!0}),pe("Volume","v",{...(0,le.wQ)(),isF:!0})],he=(e,t,o)=>({...(0,le.wC)(e,t,[...ue],void 0,o,"Alpha Vantage"),dsStyle:ce}),me=e=>(0,r.W7)(parseFloat(e),2),Ae=e=>(0,r.Ep)(e)?e.map((e=>({id:e.ticker,p:me(e.price),cha:me(e.change_amount),chp:me((e.change_percentage||"").replace("%")),v:parseInt(e.volume,10)}))):[],ye={crKey:()=>de,toConfig(e,t){const o=de,a=e.last_updated||"",[r,n,i]=(e=>[Ae(e.top_gainers),Ae(e.top_losers),Ae(e.most_actively_traded)])(e);return{config:{id:o,zhCompType:"ALPHA_PERF",zhConfig:{id:o,key:o},g:he(`${o}_g`,`Gainers ${a}`,r),l:he(`${o}_l`,`Losers ${a}`,n),m:he(`${o}_m`,`Most Active Traded ${a}`,i)}}}};var Se=o(3851),ge=o(6327),fe=o(8849);const $e=(e,t)=>(e||{})[t]||"n/a",Ce=(0,Se.A)(((e,t)=>{const{holdings:o,asset_allocation:a}=e||{},n=(o||{}).map((e=>(0,ge.eb)(parseFloat(e.weight),e.symbol)),[]);return(0,r.Co)(a).forEach((e=>{if("domestic_equities"!==e){const t=parseFloat(a[e]);(0,r.F5)(t)&&n.push((0,ge.eb)(t,"foreign_equities"===e?"For. Eq.":(0,r.Ob)(e)))}})),t.subtitle=`${t.itemCaption}, Net Expense Ratio ${$e(e,"net_expense_ratio")}`,t.title=`Portfolio Turnover ${$e(e,"portfolio_turnover")}, Dividend Yield ${$e(e,"dividend_yield")}`,(0,fe._u)(n)}),((e,t)=>{let{itemCaption:o}=e;return`${(0,r.hE)(o)} ${(0,r.jq)($e(t,"net_assets"),"")}`}));var be=o(7222);const ve={lineHeight:1.5,fontWeight:"bold"},_e="Analyst",Te=_e+"Rating",we=(e,t)=>t[e]||"",Ee=(e,t,o)=>`${e} ${o[t+e]}`,De=(e,t)=>`${e} ${(0,r.jq)(t[e])}`,ke=e=>[`${De("RevenueTTM",e)}`,`${De("RevenuePerShareTTM",e)}`,`${De("EBITDA",e)}`,`${De("EPS",e)}`,`${De("DilutedEPSTTM",e)}`,`Q RevenueGrowthYOY ${we("QuarterlyRevenueGrowthYOY",e)}`,`Q EarningsGrowthYOY ${we("QuarterlyEarningsGrowthYOY",e)}`],Ie=e=>[`${Ee("StrongBuy",Te,e)}`,`${Ee("Buy",Te,e)}`,`${Ee("Hold",Te,e)}`,`${Ee("Sell",Te,e)}`,`${Ee("StrongSell",Te,e)}`],Le=e=>[`50D MA ${e("50DayMovingAverage")}`,`200D MA ${e("200DayMovingAverage")}`,`52W Low ${e("52WeekLow")}`,`52W High ${e("52WeekHigh")}`],Fe=(e,t)=>({caption:e,tokens:t}),xe={toConfig(e,t){const o=t._itemKey,a=(e=>t=>we(t,e))(e);return{config:{zhCompType:be.eB,id:o,caption:`${a("Symbol")} ${a("CIK")} ${a("Country")} ${a("Currency")} ${a("AssetType")}`,items:[{caption:`${a("Sector")}, ${a("Industry")}`,style:ve,descr:a("Description"),links:[{href:a("OfficialSite")}]},Fe(`${De("SharesOutstanding",e)}, ${a("LatestQuarter")}`,ke(e)),Fe(`${De("MarketCapitalization",e)}`,Le(a)),Fe(`Analyst ${Ee("TargetPrice",_e,e)}, Beta ${a("Beta")}`,Ie(e))],zhConfig:{key:o,id:o}}}}},Me={api:A,adapter:(0,a.GT)({rAdapter:{DF:W,I:J,SR:X,F:ae,E:se,GL:ye,EP:Ce,OV:xe},crDfKey:r.as})};var Re=o(1315),Pe=o(4575),Oe=o(4867),Ne=o(6134),je=o(4250),We=o(3941),Ve=o(2569),Ye=o(4927),Ke=o(4848);const Be=Number.isNaN,Ge=e=>""===(e+"").trim(),He=e=>!Ge(e),qe=(e,t)=>o=>{if(Ge(o))return!0;const a=parseInt((o+"").trim(),10);return!Be(a)&&a>e&&a<t},Ue=qe(0,201),Qe=qe(250,2500),ze=(e,t)=>{switch(e){case"MACD":return"MACD(12, 24, 9)";case"STOCH":return"STOCH(5, 3, 3, SMA)";default:return`${e} (${t})`}},Ze=(0,Pe.A)((e=>{let{isShow:t,caption:o,oneURI:a,oneJsonProp:r,oneCaption:n,toTopLayer:i,onAbout:s,loadId:l,onLoad:d,onShow:c,onClose:p}=e;const[u,h]=(0,We.A)(s),[m,A]=(0,Oe.A)(),[y,S]=(0,Oe.A)(!0),g=(0,Ve.A)({toggleLabels:S,toggleOptions:A,onAbout:s}),f=(0,Re.li)(),$=(0,Re.li)(),C=(0,Re.li)(),[b,v,_]=(0,Ne.A)(!1),[T,w]=(0,je.A)(),E=(0,Re.hb)((()=>{const e=(0,Re.Ek)($)||30,t=(0,Re.Ek)(C)||501,o=(0,Re.Ek)(f),a=(w()||{}).value||"SMA";d({loadId:l,indicator:a,ticket:o,period:e,forDays:t,value:ze(a,e),hasSecondYAxis:(0,Re.ZC)(b)})}),[]);return(0,Ke.jsxs)(Ye.A.DraggableDialog,{isShow:t,caption:o,menuModel:h,toTopLayer:i,onLoad:E,onShow:c,onClose:p,children:[(0,Ke.jsx)(Ye.A.Toolbar,{isShow:u,buttons:g}),(0,Ke.jsx)(Ye.A.RowPattern,{refEl:f,isShowLabels:y,caption:"Stock",placeholder:"Nyse or Nasdaq Symbol",onTest:He,errorMsg:"Not Empty"}),(0,Ke.jsx)(Ye.A.SelectWithLoad,{isShow:t,isShowLabels:y,uri:a,jsonProp:r,caption:n,optionNames:"Items",placeholder:"Default: SMA (30)",onSelect:T}),(0,Ke.jsxs)(Ye.A.ShowHide,{isShow:m,children:[(0,Ke.jsx)(Ye.A.RowPattern,{ref:$,isShowLabels:y,caption:"Period",placeholder:"Default: 30",onTest:Ue,errorMsg:"Number in range 1-200"}),(0,Ke.jsx)(Ye.A.RowPattern,{ref:C,isShowLabels:y,caption:"For Days",placeholder:"Default: 501 (2 Years)",onTest:Qe,errorMsg:"Number in range 250-2500"})]}),(0,Ke.jsx)(Ye.A.RowCheckBox1,{caption:"Add Seria with Second YAxis",onCheck:v,onUnCheck:_})]})})),Je={width:310},Xe={paddingRight:16},et=(0,Pe.A)((e=>{let{isShow:t,caption:o,toTopLayer:a,onAbout:r,loadId:n,onLoad:i,onShow:s,onClose:l}=e;const[d,c]=(0,We.A)(r),p=(0,Ve.A)({onAbout:r}),u=(0,Re.hb)((()=>{i({loadId:n,dfSubId:"GL",dfFn:"GL"})}),[]);return(0,Ke.jsxs)(Ye.A.DraggableDialog,{isShow:t,style:Je,caption:o,menuModel:c,toTopLayer:a,onLoad:u,onShow:s,onClose:l,children:[(0,Ke.jsx)(Ye.A.Toolbar,{isShow:d,buttons:p}),(0,Ke.jsx)(Ye.A.RowText,{style:Xe,caption:"AV:",text:"Top Gainers & Losers"})]})}));var tt=o(6984);const ot={_a:Me,Indicator:Ze,Top:et,Search:(0,Pe.A)((e=>{let{isShow:t,caption:o,getKey:a,loadId:r,toTopLayer:n,onAbout:i,onError:s,onClose:l}=e;const[d,c]=(0,We.A)(i),[p,u]=(0,Oe.A)(!0),h=(0,Ve.A)({toggleLabels:u,onAbout:i}),m=(0,tt.A)((()=>({...X,onError:s,crUrlOptions:()=>{const e=a(r);if(e)return{apiKey:e};s("API key from Alpha Vantage is required","Without API Key")}})));return(0,Ke.jsxs)(Ye.A.DraggableDialog,{isShow:t,caption:o,menuModel:c,toTopLayer:n,onClose:l,children:[(0,Ke.jsx)(Ye.A.Toolbar,{isShow:d,buttons:h}),(0,Ke.jsx)(Ye.A.RowInputSearch,{isShowLabels:p,caption:"Token",searchApi:m})]})}))}}}]);