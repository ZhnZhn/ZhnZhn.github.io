"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[78],{4660(e,t,o){o.d(t,{default:()=>po});var n=o(4514),i=o(2296),s=o(8273),r=o(3647),a=o(434),l=o(3216),c=o(9550),d=o(7294);const p="EOD",u=(e,t)=>{const{_itemKey:o,itemCaption:n}=t,{id:i,dataSource:s}=e,r=o||i,a=((e,t)=>{let{data:o}=e;const{_itemKey:n,dfFn:i,dfSubId:s,items:r,dataSource:a}=t;return"EOD"===i?{_itemKey:n,...(0,c.B0)(t),...(0,c.TU)(o),items:[...r||[]],dfFn:i,dfSubId:s,dataSource:a}:void 0})(e,t);return{id:r,key:r,itemCaption:n,itemConf:a,legend:(0,d.$)(),dataSource:s||"Alpha Vantage"}},h=(e,t)=>({zhConfig:u(e,t)}),g=(e,t)=>`${(0,l.kV)(e)}&symbol=${t}`,m=e=>(0,i.BI)(e)[0],y=e=>{const{items:t}=e,[o,n,a]=(0,i.BI)(e);return(0,i.kp)(e,{itemCaption:(0,r.dV)(e.itemCaption,(0,s.Ps)(t[0]),o),dfItem:n,dfPeriod:a}),g(e.dfFn,o)},S=e=>t=>g(e,m(t)),f=(0,a.vL)({CR:e=>{const[t,o]=(0,i.BI)(e);return(0,i.kp)(e,{itemCaption:`${t}/${o}`}),`${g("DIGITAL_CURRENCY_DAILY",t)}&market=${o}`},[p]:e=>{const{items:t}=e,[o,n]=(0,s.zf)(t[0]),[a,l]=(0,s.zf)(t[1]),[c,d]=(e=>{const t=e.split("&")[0],o=(0,r.dV)(t,"TIME_SERIES_",""),n=o.split("_").map((e=>(0,r.Ob)(e.toLowerCase()))).join(" ");return[o,n]})(a);return(0,i.kp)(e,{itemCaption:o,ticket:o,title:n,subtitle:l,dfT:c,interval:d}),g(a,o)},INSTR:e=>g("INSIDER_TRANSACTIONS",m(e)),GL:()=>(0,l.kV)("TOP_GAINERS_LOSERS"),TIME_SERIES_INTRADAY:e=>{const[t,o]=(0,i.BI)(e),n=`${t} (${o})`;return(0,i.kp)(e,{ticket:t,interval:o,title:n,itemCaption:n}),`${g(e.dfFn,t)}&interval=${o}`},INCOME_STATEMENT:y,BALANCE_SHEET:y,CASH_FLOW:y,EARNINGS:e=>{const[t,o]=(0,i.BI)(e);return(0,i.kp)(e,{itemCaption:t,dfPeriod:o}),g(e.dfFn,t)},ETF_PROFILE:S("ETF_PROFILE"),OVERVIEW:S("OVERVIEW")},(e=>{let{ticket:t="MSFT",period:o=50,indicator:n="SMA"}=e;return`${g(n,t)}&interval=daily&time_period=${o}&series_type=close`})),A=(0,l.Ec)((e=>f(e.dfFn)));var x=o(4558),C=o(3730),_=o(9270),b=o(4999),v=o(5248);const w=501,E="MACD",O="MACD_Signal",T="MACD_Hist",I="STOCH",k="SlowK",j="SlowD",D="BBANDS",L="Real Upper Band",F="Real Middle Band",N="Real Lower Band",$={color:(0,x.Jq)()},R={color:"#f44336"},M={color:"rgb(47, 126, 216)"},P={color:"#4caf50"},V=e=>"AD"===e?"Chaikin A/D":e,Y=(e,t)=>{const{indicator:o,forDays:n=w}=t,i=e[`Technical Analysis: ${V(o)}`],s=(0,C.Co)(i).sort().reverse(),r=s.length;return{value:i,dateKeys:s,max:r<n?r-1:n}},K=(e,t)=>{let o,n,s,r,a,{dateKeys:l,value:c,max:d}=e;const p=[],u=t.length;for(n=0;n<u;n++)p.push([]);for(o=d;o>-1;o--)for(s=l[o],r=(0,i.cY)(s),a=c[s],n=0;n<u;n++)p[n].push([r,parseFloat(a[t[n]])]);return p},B=(e,t)=>{let{data:o,name:n}=e;return(0,i.kp)((0,v.wo)(),{data:o,name:n,type:"spline",visible:!0,marker:{symbol:"circle"}},t)},G=(0,a.vL)({[E]:(e,t)=>{const o=K(Y(e,t),[E,O,T]),n=B({data:o[0],name:E},$()),s=B({data:o[1],name:O},R);return[(0,i.kp)((0,v.wo)(),{color:"rgba(47, 126, 216, 0.75)",data:o[2],name:T,type:"column",visible:!1,shadow:!1,borderWidth:0,pointPlacement:"on",pointPadding:0,groupPadding:0,turboThreshold:2e4}),s,n]},[I]:(e,t)=>{const o=K(Y(e,t),[k,j]);return[B({data:o[0],name:k},M),B({data:o[1],name:j},R)]},[D]:(e,t)=>{const o=K(Y(e,t),[F,L,N]);return[B({data:o[0],name:F},M),B({data:o[1],name:L},P),B({data:o[2],name:N},R)]}},((e,t)=>{const{indicator:o}=t,n=((e,t)=>{const{indicator:o}=t,n=V(o),{value:s,dateKeys:r,max:a}=Y(e,t),l=[];let c,d,p=a;for(;p>-1;p--)c=r[p],d=parseFloat(s[c][n]),l.push([(0,i.cY)(c),d]);return l})(e,t);return B({data:n,name:o})})),U=(e,t)=>G(t.indicator)(e,t),W={crKey:e=>e.chartId=`${e.ticket}-${e.value}`,toConfig(e,t){return{config:(0,_.A)((0,b.Fh)(`${t.ticket}: ${t.value}`),(0,b.$J)(U(e,t)),(0,b.YT)({zhConfig:(o=t.chartId,{id:o,key:o,itemCaption:o,dataSource:"Alpha Vantage"})}),b.qP),isDrawDeltaExtrems:!1,isNotZoomToMinMax:!1};var o},toSeries:U};var H=o(5153),J=o(5355);const z=(e,t)=>({y:0,exValue:.5,marker:{symbol:"circle",fillColor:e,lineColor:e,radius:6,states:{hover:{enable:!0,fillColor:J.ud,lineColor:e,lineWidth:2,radius:6}}},dataLabels:{enabled:!0,inside:!0,color:e,style:{fill:e,stroke:e,color:e,fontSize:"12px",fontWeight:"normal",textShadow:"none",textOutline:"0px transparent"},crop:!1,overflow:"none",y:32,formatter:function(){return this.point[t]}}});var q=o(353);const Q=e=>{const t=(0,r.QD)(e,"09:30:00")?"#90ed7d":(0,r.QD)(e,"16:00:00")?"#f7a35c":"";return t?{marker:{radius:3,enabled:!0,fillColor:o=t},color:o}:void 0;var o},Z=(e,t,o)=>{const n=o["7. dividend amount"],i=n&&parseFloat(n);i&&e.push({...z(J.U,"exValue"),x:t,exValue:i,price:parseFloat(o["5. adjusted close"])})},X="Time Series",ee=e=>{let{interval:t}=e;return"Daily Adjusted"===t?`${X} (Daily)`:(o=t,(0,r.QD)(o,"Weekly")||(0,r.QD)(o,"Monthly")?`${t} ${X}`:`${X} (${t})`);var o},te=(e,t)=>{const o=((e,t)=>e[ee(t)])(e,t),n=(0,C.Co)(o).sort(),s=[],a=[],l=[],c=[],d=[],p=[],u=[],{notFilterZero:h,isDividend:g,toUTC:m,pnClose:y,pnVolume:S}=(e=>{let{isFilterZero:t,dfT:o}=e;const n=(0,r.QD)(o,"ADJUSTED");return{notFilterZero:!t,isDividend:n,toUTC:i.CA,pnClose:n?"5. adjusted close":"4. close",pnVolume:n?"6. volume":"5. volume"}})(t);let f,A,x,_,b,v,w,E,O,T=0,I=n.length,k=Number.POSITIVE_INFINITY,j=Number.NEGATIVE_INFINITY;for(;T<I;T++)A=n[T],x=o[A],w=parseFloat(x["4. close"]),E=parseFloat(x[y]),(h||(D=E,0!==w&&0!==D))&&(_=parseFloat(x["1. open"]),b=parseFloat(x["2. high"]),v=parseFloat(x["3. low"]),O=parseFloat(x[S]),f=m(A),s.push({x:f,y:E,...Q(A)}),a.push([f,b]),l.push([f,v]),c.push([f,_]),u.push([f,O]),p.push((0,q._8)({open:_,close:w,volume:O,date:f,option:{_high:b,_low:v}})),g&&Z(d,f,x),k>E&&(k=E),j<E&&(j=E));var D;return{dC:s,dH:a,dL:l,dO:c,dDividend:d,minClose:k,maxClose:j,dVc:p,dV:u}},oe={toConfig(e,t){const{_itemKey:o,title:n,subtitle:i,dataSource:s}=t,r=te(e,t),{dC:a,minClose:l,maxClose:c,dDividend:d}=r;return{config:(0,_.A)((0,H.Ux)(o,{...t,...r}),(0,b.Kl)(n,i),(0,b.YT)(h({id:o,data:a,dataSource:s},t)),(0,H.p3)(d,l,c),b.qP)}},toSeries:(e,t)=>(0,b.j7)({adapter:oe,type:"line",json:e,option:t})},ne=oe,ie=/ +/g;var se=o(4668);const re=(e,t,o)=>Object.assign({},(0,se.tJ)(e,t),o),ae=(0,se.zS)([(0,se.mq)("Id","id"),(0,se.tJ)("Executive",!0),(0,se.tJ)("Title","executive_title",!0),(0,se.tJ)("Type","security_type"),re("A/D","acquisition_or_disposal",(0,se.wQ)()),re("Shares","shares",(0,se.b5)(0)),re("Price","share_price",{isHide:!0,toN:[2]}),(0,se.tJ)("Date","transaction_date")]),le={"Common Stock":"CS","Employee Stock Option":"ESO","Stock Option":"SO","Restricted Stock Unit":"RSU","Performance Stock Units":"PSUs"},ce=(de=le,new RegExp(Object.keys(de).join("|"),"g"));var de;const pe=(e,t)=>{const{fromDate:o}=t,n=e.data.filter((e=>e.transaction_date>=o)).reduce(((e,t,o)=>(t.id=o+1,(e=>{e.security_type=e.security_type.replace(ie," ").replace(ce,(e=>le[e])).replace("par value $.01 per share","$.01 par")})(t),e.push(t),e)),[]);return(0,se.Ju)(ae,n)},ue={toConfig:(e,t)=>({config:(0,se.gO)({id:t.key,title:t.title,headers:ae,rows:pe(e,t),dataSource:t.dataSource})})},he={crUrl:(e,t)=>{let{apiKey:o=""}=t;return"https://www.alphavantage.co/query/search?function=SYMBOL_SEARCH&keywords="+e+"&apikey="+o},crOptions:e=>{if(!e||!Array.isArray(e.bestMatches))throw new Error("Response format is not valid");return e.bestMatches.map((e=>({value:e["1. symbol"],name:e["2. name"],type:e["3. type"],region:e["4. region"],currency:e["8. currency"]})))}};var ge=o(9876);const me=(e,t)=>{let{dfItem:o,dfPeriod:n}=t;return(0,l.e)(o,"fiscalDateEnding","10")(e["A"===n?"annualReports":"quarterlyReports"])};let ye;const Se=()=>ye||(ye=(0,ge.e$)({crData:me})),fe=(0,l.e)("reportedEPS","fiscalDateEnding","round"),Ae=(e,t)=>{const{dfPeriod:o}=t;return fe(e["A"===o?"annualEarnings":"quarterlyEarnings"])};let xe;const Ce=()=>xe||(xe=(0,ge.e$)({crData:Ae}));var _e=o(6559);const be="alp_perf",ve={paddingTop:6},we=(e,t,o)=>({...o,name:e,pn:t}),Ee=[we("Ticker","id"),we("Price","p"),we("1d Amount","cha",{isHide:!0}),we("1d %","chp",{isR:!0}),we("Volume","v",{...(0,se.wQ)(),isF:!0})],Oe=(e,t,o)=>({...(0,se.wC)(e,t,[...Ee],void 0,o,"Alpha Vantage"),dsStyle:ve}),Te=e=>(0,_e.W7)(parseFloat(e),2),Ie=e=>(0,C.Ep)(e)?e.map((e=>({id:e.ticker,p:Te(e.price),cha:Te(e.change_amount),chp:Te((e.change_percentage||"").replace("%")),v:(0,C.dw)(e.volume)}))):[],ke={crKey:()=>be,toConfig(e,t){const o=be,n=e.last_updated||"",[i,s,r]=(e=>[Ie(e.top_gainers),Ie(e.top_losers),Ie(e.most_actively_traded)])(e);return{config:{id:o,zhCompType:"ALPHA_PERF",zhConfig:{id:o,key:o},g:Oe(`${o}_g`,`Gainers ${n}`,i),l:Oe(`${o}_l`,`Losers ${n}`,s),m:Oe(`${o}_m`,`Most Active Traded ${n}`,r)}}}};var je=o(3851),De=o(6327),Le=o(8557);const Fe="n/a",Ne=(e,t)=>(e||{})[t]||Fe,$e=(0,je.A)(((e,t)=>{const{holdings:o,asset_allocation:n}=e||{},i=[];return(0,C.Ep)(o)&&o.forEach(((e,t)=>{if((0,C.sA)(e)){const o=parseFloat(e.weight);0!==o&&i.push((0,De.eb)(o,e.symbol===Fe?((e,t)=>{const o=Ne(e,"description");return o===Fe?Fe+" "+t:o.slice(0,20)})(e,t):e.symbol))}})),(0,C.Co)(n).forEach((e=>{if("domestic_equities"!==e){const t=parseFloat(n[e]);(0,C.F5)(t)&&i.push((0,De.eb)(t,"foreign_equities"===e?"For. Eq.":(0,r.Ob)(e)))}})),t.subtitle=`${t.itemCaption}, Net Expense Ratio ${Ne(e,"net_expense_ratio")}`,t.title=`Portfolio Turnover ${Ne(e,"portfolio_turnover")}, Dividend Yield ${Ne(e,"dividend_yield")}`,(0,Le._u)(i)}),((e,t)=>{let{itemCaption:o}=e;return`${(0,i.hE)(o)} ${(0,i.jq)(Ne(t,"net_assets"),"")}`}));var Re=o(7222);const Me={lineHeight:1.5,fontWeight:"bold"},Pe="Analyst",Ve=Pe+"Rating",Ye=(e,t)=>t[e]||"",Ke=(e,t,o)=>e+" "+o[t+e],Be=(e,t)=>e+" "+(0,i.jq)(t[e]),Ge=e=>[""+Be("RevenueTTM",e),""+Be("RevenuePerShareTTM",e),""+Be("EBITDA",e),""+Be("EPS",e),""+Be("DilutedEPSTTM",e),"Q RevenueGrowthYOY "+Ye("QuarterlyRevenueGrowthYOY",e),"Q EarningsGrowthYOY "+Ye("QuarterlyEarningsGrowthYOY",e)],Ue=e=>[""+Ke("StrongBuy",Ve,e),""+Ke("Buy",Ve,e),""+Ke("Hold",Ve,e),""+Ke("Sell",Ve,e),""+Ke("StrongSell",Ve,e)],We=e=>["50D MA "+e("50DayMovingAverage"),"200D MA "+e("200DayMovingAverage"),"52W Low "+e("52WeekLow"),"52W High "+e("52WeekHigh")],He=(e,t)=>({caption:e,tokens:t}),Je={toConfig(e,t){const o=t._itemKey,n=(e=>t=>Ye(t,e))(e);return{config:{zhCompType:Re.eB,id:o,caption:n("Symbol")+" "+n("CIK")+" "+n("Country")+" "+n("Currency")+" "+n("AssetType"),items:[{caption:n("Sector")+", "+n("Industry"),style:Me,descr:n("Description"),links:[{href:n("OfficialSite")}]},He(Be("SharesOutstanding",e)+", "+n("LatestQuarter"),Ge(e)),He(""+Be("MarketCapitalization",e),We(n)),He("Analyst "+Ke("TargetPrice",Pe,e)+", Beta "+n("Beta"),Ue(e))],zhConfig:{key:o,id:o}}}}},ze={api:A,adapter:(0,n.GT)({rAdapter:{DF:W,I:ne,INSTR:ue,SR:he,F:Se,E:Ce,GL:ke,EP:$e,OV:Je},crDfKey:i.as})};var qe=o(1315),Qe=o(4575),Ze=o(4867),Xe=o(4250),et=o(3941),tt=o(4302),ot=o(2655),nt=o(2357),it=o(7212),st=o(9878),rt=o(5347),at=o(9842),lt=o(4848);const ct={flexDirection:"row",alignItems:"end",width:"fit-content",padding:"10px 0 6px 16px"},dt=e=>""===(e+"").trim(),pt=e=>!dt(e),ut=(e,t)=>o=>{if(dt(o))return!0;const n=(0,C.dw)((o+"").trim());return!(0,C.Et)(n)&&n>e&&n<t},ht=ut(0,201),gt=ut(250,2500),mt=(e,t)=>{switch(e){case"MACD":return"MACD(12, 24, 9)";case"STOCH":return"STOCH(5, 3, 3, SMA)";default:return e+" ("+t+")"}},yt=(0,Qe.A)((e=>{let{isShow:t,caption:o,oneURI:n,oneJsonProp:i,oneCaption:s,toTopLayer:r,onAbout:a,loadId:l,onLoad:c,onShow:d,onClose:p}=e;const[u,h]=(0,et.A)(a),[g,m]=(0,Ze.eY)(),[y,S]=(0,Ze.eY)(!0),f=(0,tt.t)({titleToggle:tt.y,toggleInputs:S,toggleOptions:m,onAbout:a}),A=(0,qe.li)(),x=(0,qe.li)(),C=(0,qe.li)(),[_,b,v]=(0,Xe.VA)(!1),[w,E]=(0,Xe.NC)(),O=(0,qe.hb)((()=>{const e=(0,qe.Ek)(x)||30,t=(0,qe.Ek)(C)||501,o=(0,qe.Ek)(A),n=(E()||{}).value||"SMA";c({loadId:l,indicator:n,ticket:o,period:e,forDays:t,value:mt(n,e),hasSecondYAxis:(0,qe.ZC)(_)})}),[]);return(0,lt.jsxs)(ot.A,{isShow:t,caption:o,menuModel:h,toTopLayer:r,onLoad:O,onShow:d,onClose:p,children:[(0,lt.jsx)(st.A,{isShow:u,buttons:f}),(0,lt.jsx)(at.A,{refEl:A,isShowLabels:y,caption:"Stock",placeholder:"Nyse or Nasdaq Symbol",onTest:pt,errorMsg:"Not Empty"}),(0,lt.jsx)(rt.A,{isShow:t,isShowLabels:y,uri:n,jsonProp:i,caption:s,optionNames:"Items",placeholder:"Default: SMA (30)",onSelect:w}),(0,lt.jsxs)(nt.A,{isShow:g,children:[(0,lt.jsx)(at.A,{refEl:x,isShowLabels:y,caption:"Period",placeholder:"Default: 30",onTest:ht,errorMsg:"Number in range 1-200"}),(0,lt.jsx)(at.A,{refEl:C,isShowLabels:y,caption:"For Days",placeholder:"Default: 501 (2 Years)",onTest:gt,errorMsg:"Number in range 250-2500"})]}),(0,lt.jsx)(it.A,{style:ct,caption:"Add Seria with YAxis2",onCheck:b,onUnCheck:v})]})}));var St=o(8392);const ft={width:310},At={paddingRight:16},xt=(0,Qe.A)((e=>{let{isShow:t,caption:o,toTopLayer:n,onAbout:i,loadId:s,onLoad:r,onShow:a,onClose:l}=e;const[c,d]=(0,et.A)(i),p=(0,tt.t)({onAbout:i}),u=(0,qe.hb)((()=>{r({loadId:s,dfSubId:"GL",dfFn:"GL"})}),[]);return(0,lt.jsxs)(ot.A,{isShow:t,style:ft,caption:o,menuModel:d,toTopLayer:n,onLoad:u,onShow:a,onClose:l,children:[(0,lt.jsx)(st.A,{isShow:c,buttons:p}),(0,lt.jsx)(St.A,{style:At,caption:"AV:",text:"Top Gainers & Losers"})]})}));var Ct=o(1327),_t=o(1205),bt=o(7071);const vt="zhn-search",wt=vt+"__options",Et=vt+"__options__div",Ot=vt+"__row",Tt=vt+"__footer",It={width:250},kt={fontWeight:"bold"},jt={color:"black",width:250,height:32,padding:"4px 0 4px 10px",fontWeight:"bold"},Dt=e=>{let{text:t=""}=e;return(0,lt.jsx)("span",{style:kt,children:t})},Lt=()=>(0,lt.jsx)("span",{children:" - "}),Ft=e=>{let{text:t=""}=e;return(0,lt.jsx)("span",{children:t})},Nt=e=>{let{item:t,onClick:o,onFocus:n}=e;const{value:i,name:s,type:r,region:a,currency:l}=t;return(0,lt.jsxs)("button",{type:"button",className:Ot,onClick:o,onFocus:n,children:[(0,lt.jsx)(Dt,{text:i}),(0,lt.jsx)(Lt,{}),(0,lt.jsx)(Ft,{text:s}),(0,lt.jsx)(Lt,{}),(0,lt.jsx)(Dt,{text:r}),(0,lt.jsx)(Lt,{}),(0,lt.jsx)(Ft,{text:a}),(0,lt.jsx)(Lt,{}),(0,lt.jsx)(Dt,{text:l})]})},$t=(e,t,o)=>{let{onClick:n,onFocus:i}=o;return(0,lt.jsx)(Nt,{item:e,onClick:(0,qe.Jr)(n,e.value),onFocus:(0,qe.Jr)(i,t+1)},e.value+t)},Rt=e=>{let{isShow:t,options:o,onClickItem:n}=e;const i=(0,qe.li)(),[s,r]=(0,qe.J0)("");(0,qe.vJ)((()=>{(0,qe.nl)(i,null),r("")}),[o]),(0,qe.vJ)((()=>{t&&(0,qe.ZI)(i)}),[t]);const a=o.length||"";return(0,lt.jsxs)(nt.A,{isShow:t,className:wt,style:It,withoutAnimation:!0,children:[(0,lt.jsx)("div",{className:Et,style:It,children:(0,lt.jsx)(bt.A,{items:o,crItem:$t,onClick:n,onFocus:(e,t)=>{(0,qe.nl)(i,t.target),r(e)}})}),(0,lt.jsxs)("div",{className:Tt,style:jt,children:[(0,lt.jsxs)("span",{children:[s,":"]}),(0,lt.jsx)("span",{children:a})]})]})},Mt={top:0},Pt=e=>{let{arrowStyle:t,tabIndex:o="-1",onClick:n}=e;return(0,lt.jsx)("button",{type:"button",tabIndex:o,className:"zhn-select__bt-arrow",style:Mt,onClick:n,children:(0,lt.jsx)("span",{className:x.$N,style:t})})},Vt={borderColor:"#1b75bb transparent transparent"},Yt=(0,lt.jsx)("span",{className:"zhn-search__spinner","data-loader":"circle"}),Kt=(0,lt.jsx)("span",{style:{top:6},className:"zhn-select__spinner--failed","data-loader":"circle-failed"}),Bt=e=>{let{isLoading:t,isLoadingFailed:o,options:n,isOptions:i,toggleOptions:s}=e;return t?Yt:o?Kt:n&&n.length>0?(0,lt.jsx)(Pt,{arrowStyle:i?Vt:null,onClick:s}):null},Gt={isLoadingFailed:!1,isLoading:!1,isOptions:!1,ticket:"",options:[]},Ut="LOADING",Wt="LOADING_FAILED",Ht="LOADED",Jt="SET_TICKET",zt="SHOW_OPTIONS",qt="HIDE_OPTIONS",Qt="TOGGLE_OPTIONS",Zt=(e,t)=>{switch(t.type){case Ut:return Object.assign({},e,{isLoadingFailed:!1,isLoading:!0});case Wt:return Object.assign({},e,{isLoading:!1,isLoadingFailed:!0});case Ht:return Object.assign({},e,{options:t.options,isOptions:!0,isLoading:!1});case Jt:return Object.assign({},e,{ticket:t.ticket,isOptions:!1});case zt:return Object.assign({},e,{isOptions:!0});case qt:return Object.assign({},e,{isOptions:!1,isLoadingFailed:!1});case Qt:return Object.assign({},e,{isOptions:!e.isOptions});default:throw new TypeError("Not existed action: "+t.type)}},Xt=e=>({loading:()=>e({type:Ut}),loadingFailed:()=>e({type:Wt}),loaded:t=>e({type:Ht,options:t}),setTicket:t=>e({type:Jt,ticket:t}),showOptions:()=>e({type:zt}),hideOptions:()=>e({type:qt}),toggleOptions:()=>e({type:Qt})}),eo=(e,t)=>{let o=null;return function n(){for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];o&&clearTimeout(o),o=setTimeout((()=>{e(...s),o=null}),t),n.cancel=function(){clearTimeout(o)}}},to=e=>"function"==typeof e,oo=(e,t,o)=>eo((o=>{if((e=>e&&e.length>1)(o)){e.loading();const n=(e=>!to(e.crUrlOptions)||e.crUrlOptions())(t);n?(e=>{let{api:t,value:o,options:n,action:i}=e;fetch(t.crUrl(o,n)).then((e=>{const{status:t}=e;if(t>=200&&t<400)return e.json();throw new Error("Respond status: "+t)})).then((e=>{i.loaded(t.crOptions(e))})).catch((e=>{i.loadingFailed(),to(t.onError)?t.onError(e.message):console.log(e)}))})({api:t,action:e,value:o,options:n}):e.loadingFailed()}}),o||5e3),no=Object.assign({},x.xu,{position:"relative",width:250,height:36,background:"none 0px 0px repeat scroll rgb(225, 225, 203)"}),io=Object.assign({},x.xu,{display:"block",width:"100%",height:30,paddingLeft:10,marginLeft:0,boxShadow:"none"}),so=e=>{let{isSearch:t=!0,searchApi:o,crInputChange:n}=e;const i=(0,qe.li)(),[s,r]=(0,qe.J0)(0),[a,l]=(0,qe.WO)(Zt,Gt),{isLoading:c,isLoadingFailed:d,isOptions:p,options:u,ticket:h}=a,g=(0,qe.Kr)((()=>Xt(l)),[]),m=(0,qe.Kr)((()=>(n||oo)(g,o)),[g,o,n]);(0,qe.vJ)((()=>{(0,qe.ZI)(i)}),[s]);const y=t?e=>{const{keyCode:t}=e;(e=>38===e||46===e||27===e)(t)?(g.hideOptions(),(0,qe.ZI)(i)):((e,t)=>40===e&&t.length>0)(t,u)&&g.showOptions()}:null,S=t?m:null;return(0,lt.jsxs)("div",{style:no,tabIndex:"-1",role:"textbox",onKeyDown:y,children:[(0,lt.jsx)(_t.A,{refEl:i,style:io,initValue:h,onChange:S,onEnter:()=>{t&&m.cancel()}},s),(0,lt.jsx)("hr",{className:"zhn-search__input__hr"}),t&&(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Bt,{isLoading:c,isLoadingFailed:d,options:u,isOptions:p,toggleOptions:g.toggleOptions}),(0,lt.jsx)(Rt,{isShow:p,options:u,onClickItem:e=>{g.setTicket(e),r((e=>e+1))}})]})]})};var ro=o(3608),ao=o(7927),lo=o(6912);const co=e=>{const[t,o]=(0,ro.A)(e);return(0,lt.jsxs)(lo.st,{children:[(0,lt.jsx)(Ct.D4,{style:(0,ao.A)(e),children:o}),(0,lt.jsx)(so,Object.assign({},t))]})},po={_a:ze,Indicator:yt,Top:xt,Search:(0,Qe.A)((e=>{let{isShow:t,caption:o,getKey:n,loadId:i,toTopLayer:s,onAbout:r,onError:a,onClose:l}=e;const[c,d]=(0,et.A)(r),[p,u]=(0,Ze.eY)(!0),h=(0,tt.t)({titleToggle:tt.y,toggleInputs:u,onAbout:r}),g=(0,Xe.f)((()=>Object.assign({},he,{onError:a,crUrlOptions:()=>{const e=n(i);if(e)return{apiKey:e};a("API key from Alpha Vantage is required","Without API Key")}})));return(0,lt.jsxs)(ot.A,{isShow:t,caption:o,menuModel:d,toTopLayer:s,onClose:l,children:[(0,lt.jsx)(st.A,{isShow:c,buttons:h}),(0,lt.jsx)(co,{isShowLabels:p,caption:"Token",searchApi:g})]})}))}}}]);