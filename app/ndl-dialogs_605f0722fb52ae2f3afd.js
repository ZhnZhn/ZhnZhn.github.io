"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[967],{8632:(e,o,a)=>{a.d(o,{N:()=>s,q:()=>r});var t=a(6539),i=a(4848);const n={color:"#607d8b"},l={color:"#232f3b"},s=e=>{let{onClick:o}=e;return(0,i.jsx)(t.A,{style:n,caption:"Load",title:"Load Item to Container",onClick:o})},r=e=>{let{onClick:o}=e;return(0,i.jsx)(t.A,{style:l,caption:"Show",title:"Show Item Container",onClick:o})}},4819:(e,o,a)=>{a.d(o,{A:()=>i});var t=a(2009);const i=(e,o)=>{const a=(0,t.ZC)(e);if(a){const{isValid:e,datesMsg:t}=a.getValidation();e||o.push(t)}}},3922:(e,o,a)=>{a.r(o),a.d(o,{default:()=>N});var t=a(2009),i=a(4575),n=a(4867),l=a(6984),s=a(4250),r=a(6072),d=a(3941),c=a(9229),p=a(5286),u=a(4819);const h=(e,o,a)=>{const t=e.reduce(((e,a)=>(a[0]||e.push(o(a[1])),e)),[]);return(0,u.A)(a,t),t};var S=a(6460),T=a(6539),A=a(4682),m=a(8632),g=a(4848);const L={color:"#232f3b"},C="First Load Meta",w="Select...",b="Default Empty",v="Import - Trade (USD)",f="Export - Trade (USD)",x="Re-Import - Trade (USD)",y="Re-Export - Trade (USD)",j=e=>({caption:e,value:e}),F=[{caption:"Default: Empty Filter",value:b},j(v),j("Import - Weight (Kg)"),j(f),j("Export - Weight (Kg)"),j(x),j(y)],D=[{caption:"Default: Area",value:S.mf},{caption:"Semi Donut: Total Top90, On Every Year: Recent 2 Years",value:S.G$},{caption:"Stacked Area: Total Top90, On Recent Year",value:S.SU},{caption:"Stacked Area Percent: Total Top90, On Recent Year",value:S.wy},{caption:"Stacked Column: Total Top90, On Recent Year",value:S.bC},{caption:"Stacked Column Percent: Total Top90, On Recent Year",value:S.X5},{caption:"Tree Map: On Recent Year",value:S.uT}],k=e=>o=>-1!==o.caption.indexOf(e),I=(e,o)=>{let a;if(e&&o){const t=e.value;t!==b&&(a=o.filter(k(t)),t===v&&(a=a.filter(k(x))),t===f&&(a=a.filter(k(y))))}return a||o},R=e=>!e||e.value===S.mf,O="Click to toggle",M={optionTrades:[],placeholderTrade:C,isLoadingTradeFailed:!1,isLoadingTrade:!1},N={UNCommodityTrade:(0,i.A)((e=>{const{isShow:o,countryURI:a,countryJsonProp:i,commodityURI:u,commodityJsonProp:b,initFromDate:v,initToDate:f,onTestDate:x,msgOnNotValidFormat:y,msgOnNotSelected:j,dataColumn:k,loadId:N,dataSource:U,toTopLayer:V,onAbout:Y,fnValue:E,onLoad:P,onShow:H,onClose:J}=e,[W,_]=(0,d.A)(Y),[K,Z]=(0,n.A)(!0),[q,B]=(0,n.A)(!1),[G,X]=(0,n.A)(!1),[$,z]=(0,n.A)(!1),Q=(0,l.A)((()=>[(0,c.A)("L",O+" input labels",Z),(0,c.A)("F",O+" filter input",B),(0,c.A)("D",O+" date input",X),(0,c.A)("C",O+" chart type input",z),(0,c.A)("A","About datasource",Y)])),[ee,oe,ae]=(0,p.A)(J),[te,ie]=(0,t.J0)(M),{isLoadingTrade:ne,isLoadingTradeFailed:le,optionTrades:se,placeholderTrade:re}=te,[de,ce]=(0,t.J0)(!0),pe=(0,t.li)(),[ue,he]=(0,s.A)(),[Se,Te]=(0,s.A)(),[Ae,me]=(0,s.A)(),[ge,Le]=(0,s.A)(),[Ce,we]=(0,s.A)(),[be,ve]=(0,s.A)(),fe=(0,t.hb)((()=>{ge(),Ce(),ie(M)}),[]),xe=(0,t.hb)((e=>{ue(e),fe()}),[]),ye=(0,t.hb)((e=>{Se(e),fe()}),[]),je=(0,t.hb)((e=>{be(e);const o=R(e);ce(o),B(!o)}),[]),Fe=(0,t.hb)((()=>{const e=he(),o=Te(),a=h([[e,"Country"],[o,"Chapter"]],j,pe);0===a.length&&(P({...(0,t.ZC)(pe).getValues(),loadId:N,isLoadMeta:!0,value:E(o.value,e.value),onLoad:e=>{Ce(e),ie({optionTrades:I(me(),we()),isLoadingTrade:!1,isLoadingTradeFailed:!1,placeholderTrade:w})},onCancel:()=>ie((e=>({...e,isLoadingTrade:!1,isLoadingTradeFailed:!1,placeholderTrade:w}))),onFailed:()=>ie((e=>({...e,isLoadingTrade:!1,isLoadingTradeFailed:!0})))}),ie((e=>({...e,isLoadingTrade:!0})))),oe(a)}),[]),De=(0,r.A)((()=>{const e=[],o=ve(),a=Le(),i=me();if(R(o)?a||e.push(j("Subheading")):(re===C&&e.push(C),i||e.push(j("Trade Filter"))),0===e.length){const e=he(),n=Te(),l=a?a.value:k,s=o?o.value:S.mf,r=i?e.caption+":"+i.caption:""+e.caption,d=R(o)?void 0:((e,o)=>{const a=e.value.length+2;return o.map((e=>{let{value:o,caption:t}=e;return t=t.substring(0,t.length-a),{caption:t,value:o}}))})(i,se);P({...(0,t.ZC)(pe).getValues(),value:E(n.value,e.value),dataColumn:l,seriaType:s,sliceItems:d,title:r,subtitle:n.caption,loadId:N,dataSource:U})}oe(e)})),ke=(0,t.Kr)((()=>[(0,g.jsx)(T.A,{style:L,caption:"Load Meta",title:"First Load Meta, then Load Item",onClick:Fe},"meta"),(0,g.jsx)(m.N,{onClick:De},"load")]),[]);return(0,g.jsxs)(A.A.DraggableDialog,{isShow:o,caption:"United Nations Commodity Trade",menuModel:_,commandButtons:ke,toTopLayer:V,onShow:H,onClose:ae,children:[(0,g.jsx)(A.A.Toolbar,{isShow:W,buttons:Q}),(0,g.jsx)(A.A.SelectWithLoad,{isShow:o,isShowLabels:K,uri:a,jsonProp:i,caption:"Country:",optionNames:"Countries",onSelect:xe}),(0,g.jsx)(A.A.SelectWithLoad,{isShow:o,isShowLabels:K,uri:u,jsonProp:b,caption:"Chapter:",optionNames:"Chapters",onSelect:ye}),(0,g.jsx)(A.A.ShowHide,{isShow:q,children:(0,g.jsx)(A.A.RowInputSelect,{isShowLabels:K,caption:"Filter Trade:",options:F,placeholder:"Filter...",onSelect:Ae})}),(0,g.jsx)(A.A.ShowHide,{isShow:de,children:(0,g.jsx)(A.A.RowInputSelect,{isShowLabels:K,caption:"Subheading:",options:se,optionNames:"Meta",isLoading:ne,isLoadingFailed:le,placeholder:re,onLoadOption:Fe,onSelect:ge})}),(0,g.jsx)(A.A.ShowHide,{isShow:G,children:(0,g.jsx)(A.A.DatesFragment,{ref:pe,isShowLabels:K,initFromDate:v,initToDate:f,msgOnNotValidFormat:y,onTestDate:x})}),(0,g.jsx)(A.A.ShowHide,{isShow:$,children:(0,g.jsx)(A.A.RowInputSelect,{isShowLabels:K,caption:"Chart Type:",options:D,onSelect:je})}),(0,g.jsx)(A.A.ValidationMessages,{validationMessages:ee})]})}))}}}]);