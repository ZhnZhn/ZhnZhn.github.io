"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[240],{4248:(o,e,t)=>{t.d(e,{W:()=>c,w:()=>l});var a=t(1840),n=t(7624);const i={color:"#607d8b"},s={color:"#232f3b"},l=o=>{let{onClick:e}=o;return(0,n.jsx)(a.c,{style:i,caption:"Load",title:"Load Item to Container",onClick:e})},c=o=>{let{onClick:e}=o;return(0,n.jsx)(a.c,{style:s,caption:"Show",title:"Show Item Container",onClick:e})}},6672:(o,e,t)=>{t.d(e,{c:()=>n});var a=t(8504);const n=(o,e)=>{const t=(0,a.sB)(o);if(t){const{isValid:o,datesMsg:a}=t.getValidation();o||e.push(a)}}},9568:(o,e,t)=>{t.d(e,{c:()=>n});var a=t(6672);const n=(o,e,t)=>{const n=o.reduce(((o,t)=>(t[0]||o.push(e(t[1])),o)),[]);return(0,a.c)(t,n),n}},8596:(o,e,t)=>{t.r(e),t.d(e,{default:()=>J});var a=t(8504),n=t(4332),i=t(312),s=t(5896),l=t(2660),c=t(208),r=t(6532),d=t(876),u=t(468),p=t(9568),h=t(6744),S=t(1840),g=t(6509),m=t(4248),w=t(7624);const T={color:"#232f3b"},v="First Load Meta",C="Select...",L="Default Empty",b="Import - Trade (USD)",x="Export - Trade (USD)",y="Re-Import - Trade (USD)",D="Re-Export - Trade (USD)",j=o=>({caption:o,value:o}),F=[{caption:"Default: Empty Filter",value:L},j(b),j("Import - Weight (Kg)"),j(x),j("Export - Weight (Kg)"),j(y),j(D)],f=[{caption:"Default: Area",value:h.kT},{caption:"Semi Donut: Total Top90, On Every Year: Recent 2 Years",value:h.Se},{caption:"Stacked Area: Total Top90, On Recent Year",value:h.wF},{caption:"Stacked Area Percent: Total Top90, On Recent Year",value:h.UR},{caption:"Stacked Column: Total Top90, On Recent Year",value:h.e_},{caption:"Stacked Column Percent: Total Top90, On Recent Year",value:h.KY},{caption:"Tree Map: On Recent Year",value:h.E3}],k=o=>e=>-1!==e.caption.indexOf(o),O=(o,e)=>{let t;if(o&&e){const a=o.value;a!==L&&(t=e.filter(k(a)),a===b&&(t=t.filter(k(y))),a===x&&(t=t.filter(k(D))))}return t||e},V=o=>!o||o.value===h.kT,I="Click to toggle",R={optionTrades:[],placeholderTrade:v,isLoadingTradeFailed:!1,isLoadingTrade:!1},M=(0,n.c)((o=>{const{isShow:e,countryURI:t,countryJsonProp:n,commodityURI:L,commodityJsonProp:b,initFromDate:x,initToDate:y,onTestDate:D,msgOnNotValidFormat:j,msgOnNotSelected:k,dataColumn:M,loadId:N,dataSource:K,toTopLayer:A,onAbout:B,fnValue:Y,onLoad:U,onShow:E,onClose:P}=o,[$,J]=(0,r.c)(B),[W,Z]=(0,i.c)(!0),[H,_]=(0,i.c)(!1),[q,z]=(0,i.c)(!1),[G,Q]=(0,i.c)(!1),X=(0,s.c)((()=>[(0,d.c)("L",`${I} input labels`,Z),(0,d.c)("F",`${I} filter input`,_),(0,d.c)("D",`${I} date input`,z),(0,d.c)("C",`${I} chart type input`,Q),(0,d.c)("A","About datasource",B)])),[oo,eo,to]=(0,u.c)(P),[ao,no]=(0,a.oT)(R),{isLoadingTrade:io,isLoadingTradeFailed:so,optionTrades:lo,placeholderTrade:co}=ao,[ro,uo]=(0,a.oT)(!0),po=(0,a.yK)(),[ho,So]=(0,l.c)(),[go,mo]=(0,l.c)(),[wo,To]=(0,l.c)(),[vo,Co]=(0,l.c)(),[Lo,bo]=(0,l.c)(),[xo,yo]=(0,l.c)(),Do=(0,a.kZ)((()=>{vo(),Lo(),no(R)}),[]),jo=(0,a.kZ)((o=>{ho(o),Do()}),[]),Fo=(0,a.kZ)((o=>{go(o),Do()}),[]),fo=(0,a.kZ)((o=>{xo(o);const e=V(o);uo(e),_(!e)}),[]),ko=(0,a.kZ)((()=>{const o=So(),e=mo(),t=[[o,"Country"],[e,"Chapter"]],n=(0,p.c)(t,k,po);0===n.length&&(U({...(0,a.sB)(po).getValues(),loadId:N,isLoadMeta:!0,value:Y(e.value,o.value),onLoad:o=>{Lo(o),no({optionTrades:O(To(),bo()),isLoadingTrade:!1,isLoadingTradeFailed:!1,placeholderTrade:C})},onCancel:()=>no((o=>({...o,isLoadingTrade:!1,isLoadingTradeFailed:!1,placeholderTrade:C}))),onFailed:()=>no((o=>({...o,isLoadingTrade:!1,isLoadingTradeFailed:!0})))}),no((o=>({...o,isLoadingTrade:!0})))),eo(n)}),[]),Oo=(0,c.c)((()=>{const o=[],e=yo(),t=Co(),n=To();if(V(e)?t||o.push(k("Subheading")):(co===v&&o.push(v),n||o.push(k("Trade Filter"))),0===o.length){const o=So(),i=mo(),s=t?t.value:M,l=e?e.value:h.kT,c=n?`${o.caption}:${n.caption}`:`${o.caption}`,r=V(e)?void 0:((o,e)=>{const t=o.value.length+2;return e.map((o=>{let{value:e,caption:a}=o;return a=a.substring(0,a.length-t),{caption:a,value:e}}))})(n,lo);U({...(0,a.sB)(po).getValues(),value:Y(i.value,o.value),dataColumn:s,seriaType:l,sliceItems:r,title:c,subtitle:i.caption,loadId:N,dataSource:K})}eo(o)})),Vo=(0,a.bB)((()=>[(0,w.jsx)(S.c,{style:T,caption:"Load Meta",title:"First Load Meta, then Load Item",onClick:ko},"meta"),(0,w.jsx)(m.w,{onClick:Oo},"load")]),[]);return(0,w.jsxs)(g.c.DraggableDialog,{isShow:e,caption:"United Nations Commodity Trade",menuModel:J,commandButtons:Vo,toTopLayer:A,onShow:E,onClose:to,children:[(0,w.jsx)(g.c.Toolbar,{isShow:$,buttons:X}),(0,w.jsx)(g.c.SelectWithLoad,{isShow:e,isShowLabels:W,uri:t,jsonProp:n,caption:"Country:",optionNames:"Countries",onSelect:jo}),(0,w.jsx)(g.c.SelectWithLoad,{isShow:e,isShowLabels:W,uri:L,jsonProp:b,caption:"Chapter:",optionNames:"Chapters",onSelect:Fo}),(0,w.jsx)(g.c.ShowHide,{isShow:H,children:(0,w.jsx)(g.c.RowInputSelect,{isShowLabels:W,caption:"Filter Trade:",options:F,placeholder:"Filter...",onSelect:wo})}),(0,w.jsx)(g.c.ShowHide,{isShow:ro,children:(0,w.jsx)(g.c.RowInputSelect,{isShowLabels:W,caption:"Subheading:",options:lo,optionNames:"Meta",isLoading:io,isLoadingFailed:so,placeholder:co,onLoadOption:ko,onSelect:vo})}),(0,w.jsx)(g.c.ShowHide,{isShow:q,children:(0,w.jsx)(g.c.DatesFragment,{ref:po,isShowLabels:W,initFromDate:x,initToDate:y,msgOnNotValidFormat:j,onTestDate:D})}),(0,w.jsx)(g.c.ShowHide,{isShow:G,children:(0,w.jsx)(g.c.RowInputSelect,{isShowLabels:W,caption:"Chart Type:",options:f,onSelect:fo})}),(0,w.jsx)(g.c.ValidationMessages,{validationMessages:oo})]})}));var N=t(6906);const K=[{caption:"2021",value:2021},{caption:"2020",value:2020},{caption:"2019",value:2019},{caption:"2018",value:2018},{caption:"2017",value:2017},{caption:"2016",value:2016},{caption:"2015",value:2015},{caption:"2014",value:2014},{caption:"2013",value:2013},{caption:"2012",value:2012}],A=(0,n.c)((o=>{const{isShow:e,isFd:t,caption:n,futuresURI:i,msgOnNotSelected:s,msgOnNotValidFormat:c,initFromDate:r,isYmdOrEmpty:d,errNotYmdOrEmpty:u,toTopLayer:p,onAbout:h,loadFn:S,onLoad:m,onShow:T,onClose:v}=o,[C,L,b,x,y,D,j]=(0,N.c)({onAbout:h,onClose:v}),F=(0,a.yK)(),f=(0,a.yK)(),[k,O]=(0,l.c)(),V=(0,a.kZ)((()=>{const e=[],n=(0,a.sB)(F),{msg:i=[]}=n.getValidation(),l=O(),r=(0,a.sB)(f);if(e.push(...i),l||e.push(s("Year")),t&&!r.isValid()&&e.push(c("From Date")),0===e.length){const{one:e,two:a}=n.getValues(),i=t?r.getValue():void 0;m(S(o,{item:e,month:a,year:l,fromDate:i}))}D(e)}),[]);return(0,w.jsxs)(g.c.DraggableDialog,{isShow:e,caption:n,menuModel:b,toTopLayer:p,onLoad:V,onShow:T,onClose:j,children:[(0,w.jsx)(g.c.Toolbar,{isShow:C,buttons:x}),(0,w.jsx)(g.c.SelectOneTwo,{ref:F,isShow:e,isShowLabels:L,uri:i,oneCaption:"Futures",oneOptionNames:"Futures",oneJsonProp:"futures",twoCaption:"Month",msgOnNotSelected:s}),(0,w.jsx)(g.c.RowInputSelect,{isShowLabels:L,caption:"Year",options:K,onSelect:k}),t&&(0,w.jsx)(g.c.RowDate,{innerRef:f,isShowLabels:L,title:"From Date:",initialValue:r,errorMsg:u,onTest:d}),(0,w.jsx)(g.c.ValidationMessages,{validationMessages:y})]})})),B=[{caption:"Continuous Contract #1",value:1},{caption:"Continuous Contract #2",value:2},{caption:"Continuous Contract #3",value:3},{caption:"Continuous Contract #4",value:4},{caption:"Continuous Contract #5",value:5}],Y=(0,n.c)((o=>{const{isShow:e,isFd:t,caption:n,futuresURI:i,msgOnNotSelected:s,msgOnNotValidFormat:c,initFromDate:r,isYmdOrEmpty:d,errNotYmdOrEmpty:u,toTopLayer:p,onAbout:h,loadFn:S,onLoad:m,onShow:T,onClose:v}=o,[C,L,b,x,y,D,j]=(0,N.c)({onAbout:h,onClose:v}),[F,f]=(0,l.c)(),k=(0,a.yK)(),O=(0,a.yK)(),V=(0,a.kZ)((()=>{const e=[],n=(0,a.sB)(k),{msg:i=[]}=n.getValidation(),l=f(),r=(0,a.sB)(O);if(e.push(...i),l||e.push(s("Type")),t&&!r.isValid()&&e.push(c("From Date")),0===e.length){const{one:e,two:a}=n.getValues(),i=t?r.getValue():void 0;m(S(o,{exchange:e,item:a,type:l,fromDate:i}))}D(e)}),[]);return(0,w.jsxs)(g.c.DraggableDialog,{isShow:e,caption:n,menuModel:b,toTopLayer:p,onLoad:V,onShow:T,onClose:j,children:[(0,w.jsx)(g.c.Toolbar,{isShow:C,buttons:x}),(0,w.jsx)(g.c.SelectOneTwo,{ref:k,isShow:e,isShowLabels:L,uri:i,oneCaption:"Exchange",oneOptionNames:"Exchanges",oneJsonProp:"futures",twoCaption:"Asset",msgOnNotSelected:s}),(0,w.jsx)(g.c.RowInputSelect,{isShowLabels:L,caption:"Type",options:B,onSelect:F}),t&&(0,w.jsx)(g.c.RowDate,{innerRef:O,isShowLabels:L,title:"From Date:",initialValue:r,errorMsg:u,onTest:d}),(0,w.jsx)(g.c.ValidationMessages,{validationMessages:y})]})}));var U=t(6672);const E=[{caption:"Thousand Barrels per day (kb/d)",value:"KD"},{caption:"Thousand Barrels (kbbl)",value:"KB"},{caption:"Thousand Kilolitres (kl)",value:"KL"},{caption:"Thousand Metric Tons (kmt)",value:"KT"},{caption:"Conversion factor barrels/ktons",value:"BK"}],P=E[0],$=[{caption:"AreaSpline",value:h.kT},{caption:"Yearly by Month",value:h.Sq}],J={UNCommodityTrade:M,Futures3:A,FuturesWiki:Y,JodiWorldOil:(0,n.c)((o=>{let{isShow:e,caption:t,oneCaption:n,oneURI:s,oneJsonProp:c,parentCaption:r,parentChildURI:d,parentJsonProp:u,childCaption:p,msgOnNotSelected:h,initFromDate:S,initToDate:m,msgOnNotValidFormat:T,onTestDate:v,dataColumn:C,loadId:L,dataSource:b,toTopLayer:x,onAbout:y,fnValue:D,onLoad:j,onShow:F,onClose:f}=o;const[k,O]=(0,i.c)(!1),[V,I]=(0,i.c)(!1),[R,M,K,A,B,Y,J]=(0,N.c)({onAbout:y,onClose:f,toggleDate:O,toggleOptions:I}),[W,Z]=(0,l.c)(),[H,_]=(0,l.c)(),[q,z]=(0,l.c)(),G=(0,a.yK)(),Q=(0,a.yK)(),X=(0,a.kZ)((()=>{const o=[],e=Z(),t=(0,a.sB)(G),{msg:n=[]}=t.getValidation(),i=_()||P;if(e||o.push(h("Country")),o.push(...n),(0,U.c)(Q,o),0===o.length){const o=(0,a.sB)(Q),{one:n,two:s}=t.getValues(),{value:l}=z()||{};j({...o.getValues(),value:D(e.value,n.value,s.value,i.value),title:`${e.caption}: ${n.caption}`,subtitle:`${s.caption}: ${i.caption}`,seriaType:l,dataColumn:C,loadId:L,dataSource:b})}Y(o)}),[]);return(0,w.jsxs)(g.c.DraggableDialog,{isShow:e,caption:t,menuModel:K,toTopLayer:x,onLoad:X,onShow:F,onClose:J,children:[(0,w.jsx)(g.c.Toolbar,{isShow:R,buttons:A}),(0,w.jsx)(g.c.SelectWithLoad,{isShow:e,isShowLabels:M,uri:s,jsonProp:c,caption:n,optionNames:"Items",onSelect:W}),(0,w.jsx)(g.c.SelectOneTwo,{ref:G,isShow:e,isShowLabels:M,uri:d,oneCaption:r,oneJsonProp:u,twoCaption:p,msgOnNotSelected:h}),(0,w.jsx)(g.c.RowInputSelect,{isShowLabels:M,caption:"Units",options:E,onSelect:H}),(0,w.jsx)(g.c.ShowHide,{isShow:k,children:(0,w.jsx)(g.c.DatesFragment,{ref:Q,isShowLabels:M,initFromDate:S,initToDate:m,msgOnNotValidFormat:T,onTestDate:v})}),(0,w.jsx)(g.c.ShowHide,{isShow:V,children:(0,w.jsx)(g.c.RowInputSelect,{isShowLabels:M,caption:"Chart Type",placeholder:"Default: AreaSpline",options:$,onSelect:q})}),(0,w.jsx)(g.c.ValidationMessages,{validationMessages:B})]})}))}}}]);