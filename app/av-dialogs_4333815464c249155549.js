"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[78],{7798:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Je});var a=o(4031),r=o(784),n=o(9550),i=o(7294);const s=(e,t)=>{const{_itemKey:o,itemCaption:a}=t,{id:r,dataSource:s}=e,l=o||r,d=((e,t)=>{let{data:o}=e;const{_itemKey:a,dfFn:r,dfSubId:i,items:s,dataSource:l}=t;return"EOD"===r?{_itemKey:a,...(0,n.B0)(t),...(0,n.TU)(o),items:[...s||[]],dfFn:r,dfSubId:i,dataSource:l}:void 0})(e,t);return{id:l,key:l,itemCaption:a,itemConf:d,legend:(0,i.$)(),dataSource:s||"Alpha Vantage"}},l=(e,t)=>({zhConfig:s(e,t),valueMoving:(0,r.Y1)(e.data)}),d=(e,t)=>`${(0,a.kV)(e)}&symbol=${t}`,c=e=>{const{items:t,itemCaption:o,dfFn:a}=e,n=(0,r._W)(t[0]);return(0,r.kp)(e,{itemCaption:o.replace((0,r.Ps)(t[0]),n),dfItem:(0,r._W)(t[1]),dfPeriod:(0,r._W)(t[2])}),d(a,n)},p=e=>t=>{const{items:o}=t,n=(0,r._W)(o[0]);return`${(0,a.kV)(e)}&symbol=${n}`},u=(0,r.vL)({CR:e=>{const{items:t}=e,o=(0,r._W)(t[0]),n=(0,r._W)(t[1]);return(0,r.kp)(e,{itemCaption:`${o}/${n}`}),`${(0,a.kV)("DIGITAL_CURRENCY_DAILY")}&symbol=${o}&market=${n}`},EOD:e=>{const{items:t}=e,[o,a]=t,[n,i]=(0,r.a3)(o),[s,l]=(0,r.a3)(a),[c,p]=(e=>{const t=(e.split("&")[0]||"").replace("TIME_SERIES_",""),o=t.split("_").map((e=>(0,r.Ob)(e.toLowerCase()))).join(" ");return[t,o]})(s);return(0,r.kp)(e,{itemCaption:n,ticket:n,title:i,subtitle:l,dfT:c,interval:p}),d(s,n)},GL:()=>(0,a.kV)("TOP_GAINERS_LOSERS"),TIME_SERIES_INTRADAY:e=>{const{dfFn:t,items:o}=e,a=(0,r._W)(o[0]),n=(0,r._W)(o[1]),i=`${a} (${n})`;return(0,r.kp)(e,{ticket:a,interval:n,title:i,itemCaption:i}),`${d(t,a)}&interval=${n}`},INCOME_STATEMENT:c,BALANCE_SHEET:c,CASH_FLOW:c,EARNINGS:e=>{const{items:t,dfFn:o}=e,a=(0,r._W)(t[0]);return(0,r.kp)(e,{itemCaption:a,dfPeriod:(0,r._W)(t[1])}),d(o,a)},ETF_PROFILE:p("ETF_PROFILE"),OVERVIEW:p("OVERVIEW")},(e=>{let{ticket:t="MSFT",period:o=50,indicator:a="SMA"}=e;return`${d(a,t)}&interval=daily&time_period=${o}&series_type=close`})),h=(0,a.Ec)((e=>u(e.dfFn)));var m=o(9026),A=o(9270),g=o(4999),y=o(5248);const S=501,$="MACD",f="MACD_Signal",C="MACD_Hist",_="SlowK",b="SlowD",T="Real Upper Band",v="Real Middle Band",E="Real Lower Band",w={color:(0,r.Jq)()},D={color:"#f44336"},k={color:"rgb(47, 126, 216)"},I={color:"#4caf50"},L=e=>"AD"===e?"Chaikin A/D":e,F=(e,t)=>{const{indicator:o,forDays:a=S}=t,r=e[`Technical Analysis: ${L(o)}`],n=r?Object.keys(r).sort().reverse():[],i=n.length;return{value:r,dateKeys:n,max:i<a?i-1:a}},M=(e,t)=>{let o,a,n,i,s,{dateKeys:l,value:d,max:c}=e;const p=[],u=t.length;for(a=0;a<u;a++)p.push([]);for(o=c;o>-1;o--)for(n=l[o],i=(0,r.cY)(n),s=d[n],a=0;a<u;a++)p[a].push([i,parseFloat(s[t[a]])]);return p},R=(e,t)=>{let{data:o,name:a}=e;return(0,r.kp)((0,y.wo)(),{data:o,name:a,type:"spline",visible:!0,marker:{symbol:"circle"}},t)},x=(0,r.vL)({[$]:(e,t)=>{const o=M(F(e,t),[$,f,C]),a=R({data:o[0],name:$},w()),n=R({data:o[1],name:f},D);return[(0,r.kp)((0,y.wo)(),{color:"rgba(47, 126, 216, 0.75)",data:o[2],name:C,type:"column",visible:!1,shadow:!1,borderWidth:0,pointPlacement:"on",pointPadding:0,groupPadding:0,turboThreshold:2e4}),n,a]},STOCH:(e,t)=>{const o=M(F(e,t),[_,b]);return[R({data:o[0],name:_},k),R({data:o[1],name:b},D)]},BBANDS:(e,t)=>{const o=M(F(e,t),[v,T,E]);return[R({data:o[0],name:v},k),R({data:o[1],name:T},I),R({data:o[2],name:E},D)]}},((e,t)=>{const{indicator:o}=t,a=((e,t)=>{const{indicator:o}=t,a=L(o),{value:n,dateKeys:i,max:s}=F(e,t),l=[];let d,c,p=s;for(;p>-1;p--)d=i[p],c=parseFloat(n[d][a]),l.push([(0,r.cY)(d),c]);return l})(e,t);return R({data:a,name:o})})),P=(e,t)=>x(t.indicator)(e,t),O={crKey:e=>e.chartId=`${e.ticket}-${e.value}`,toConfig(e,t){return{config:(0,A.A)((0,g.Fh)(`${t.ticket}: ${t.value}`),(0,g.$J)(P(e,t)),(0,g.YT)({zhConfig:(o=t.chartId,{id:o,key:o,itemCaption:o,dataSource:"Alpha Vantage"})}),g.qP),isDrawDeltaExtrems:!1,isNotZoomToMinMax:!1};var o},toSeries:P};var N=o(5153),j=o(7422),W=o(353);const Y=e=>{const t=(0,r.QD)(e,"09:30:00")?"#90ed7d":(0,r.QD)(e,"16:00:00")?"#f7a35c":"";return t?{marker:{radius:3,enabled:!0,fillColor:o=t},color:o}:void 0;var o},V=Object.keys,K=(e,t,o)=>{const a=o["7. dividend amount"],r=a&&parseFloat(a);r&&e.push({...(0,j.U)(),x:t,exValue:r,price:parseFloat(o["5. adjusted close"])})},B="Time Series",G=e=>{let{interval:t}=e;return"Daily Adjusted"===t?`${B} (Daily)`:(o=t,(0,r.QD)(o,"Weekly")||(0,r.QD)(o,"Monthly")?`${t} ${B}`:`${B} (${t})`);var o},H=(e,t)=>{const o=((e,t)=>e[G(t)])(e,t),a=o?V(o).sort():[],n=[],i=[],s=[],l=[],d=[],c=[],p=[],{notFilterZero:u,isDividend:h,toUTC:m,pnClose:A,pnVolume:g}=(e=>{let{isFilterZero:t,dfT:o}=e;const a=(0,r.QD)(o,"ADJUSTED");return{notFilterZero:!t,isDividend:a,toUTC:r.CA,pnClose:a?"5. adjusted close":"4. close",pnVolume:a?"6. volume":"5. volume"}})(t);let y,S,$,f,C,_,b,T,v,E=0,w=a.length,D=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY;for(;E<w;E++)S=a[E],$=o[S],b=parseFloat($["4. close"]),T=parseFloat($[A]),(u||(I=T,0!==b&&0!==I))&&(f=parseFloat($["1. open"]),C=parseFloat($["2. high"]),_=parseFloat($["3. low"]),v=parseFloat($[g]),y=m(S),n.push({x:y,y:T,...Y(S)}),i.push([y,C]),s.push([y,_]),l.push([y,f]),p.push([y,v]),c.push((0,W._)({open:f,close:b,volume:v,date:y,option:{_high:C,_low:_}})),h&&K(d,y,$),D>T&&(D=T),k<T&&(k=T));var I;return{dC:n,dH:i,dL:s,dO:l,dDividend:d,minClose:D,maxClose:k,dVc:c,dV:p}},q={crKey:r.as,toConfig(e,t){const{_itemKey:o,title:a,subtitle:r,dataSource:n}=t,i=H(e,t),{dC:s,minClose:d,maxClose:c,dDividend:p}=i;return{config:(0,A.A)((0,N.Ux)(o,{...t,...i}),(0,g.Kl)(a,r),(0,g.YT)(l({id:o,data:s,dataSource:n},t)),(0,N.p3)(p,d,c),g.qP)}},toSeries:(e,t)=>(0,g.j7)({adapter:q,type:"line",json:e,option:t})},U=q,Q={crUrl:(e,t)=>{let{apiKey:o=""}=t;return`https://www.alphavantage.co/query/search?function=SYMBOL_SEARCH&keywords=${e}&apikey=${o}`},crOptions:e=>{if(!e||!Array.isArray(e.bestMatches))throw new Error("Response format is not valid");return e.bestMatches.map((e=>({value:e["1. symbol"],name:e["2. name"],type:e["3. type"],region:e["4. region"],currency:e["8. currency"]})))}};var z=o(9876);const Z=(e,t)=>{let{dfItem:o,dfPeriod:r}=t;return(0,a.e)(o,"fiscalDateEnding","10")(e["A"===r?"annualReports":"quarterlyReports"])};let J;const X=()=>J||(J=(0,z.e$)({crData:Z})),ee=(0,a.e)("reportedEPS","fiscalDateEnding","round"),te=(e,t)=>{const{dfPeriod:o}=t;return ee(e["A"===o?"annualEarnings":"quarterlyEarnings"])};let oe;const ae=()=>oe||(oe=(0,z.e$)({crData:te}));var re=o(4668);const ne="alp_perf",ie={paddingTop:6},se=(e,t,o)=>({...o,name:e,pn:t}),le=[se("Ticker","id"),se("Price","p"),se("1d Amount","cha",{isHide:!0}),se("1d %","chp",{isR:!0}),se("Volume","v",{isF:!0,style:{fontWeight:"bold"}})],de=(e,t,o)=>({...(0,re.wC)(e,t,[...le],o,"Alpha Vantage"),dsStyle:ie}),ce=e=>(0,r.W7)(parseFloat(e),2),pe=e=>(0,r.Ep)(e)?e.map((e=>({id:e.ticker,p:ce(e.price),cha:ce(e.change_amount),chp:ce((e.change_percentage||"").replace("%")),v:parseInt(e.volume,10)}))):[],ue={crKey:()=>ne,toConfig(e,t){const o=ne,a=e.last_updated||"",[r,n,i]=(e=>[pe(e.top_gainers),pe(e.top_losers),pe(e.most_actively_traded)])(e);return{config:{id:o,zhCompType:"ALPHA_PERF",zhConfig:{id:o,key:o},g:de(`${o}_g`,`Gainers ${a}`,r),l:de(`${o}_l`,`Losers ${a}`,n),m:de(`${o}_m`,`Most Active Traded ${a}`,i)}}}};var he=o(3851),me=o(6327),Ae=o(8849);const ge=(e,t)=>(e||{})[t]||"n/a",ye=(0,he.A)(((e,t)=>{const{holdings:o,asset_allocation:a}=e||{},n=(o||{}).map((e=>(0,me.eb)(parseFloat(e.weight),e.symbol)),[]);return(0,r.Co)(a).forEach((e=>{if("domestic_equities"!==e){const t=parseFloat(a[e]);(0,r.F5)(t)&&n.push((0,me.eb)(t,"foreign_equities"===e?"For. Eq.":(0,r.Ob)(e)))}})),t.subtitle=`${t.itemCaption}, Net Expense Ratio ${ge(e,"net_expense_ratio")}`,t.title=`Portfolio Turnover ${ge(e,"portfolio_turnover")}, Dividend Yield ${ge(e,"dividend_yield")}`,(0,Ae._u)(n)}),((e,t)=>{let{itemCaption:o}=e;return`${(0,r.hE)(o)} ${(0,r.jq)(ge(t,"net_assets"),"")}`}));var Se=o(7222);const $e={lineHeight:1.5,fontWeight:"bold"},fe="Analyst",Ce=fe+"Rating",_e=(e,t)=>t[e]||"",be=(e,t,o)=>`${e} ${o[t+e]}`,Te=(e,t)=>`${e} ${(0,r.jq)(t[e])}`,ve=e=>[`${Te("RevenueTTM",e)}`,`${Te("RevenuePerShareTTM",e)}`,`${Te("EBITDA",e)}`,`${Te("EPS",e)}`,`${Te("DilutedEPSTTM",e)}`,`Q RevenueGrowthYOY ${_e("QuarterlyRevenueGrowthYOY",e)}`,`Q EarningsGrowthYOY ${_e("QuarterlyEarningsGrowthYOY",e)}`],Ee=e=>[`${be("StrongBuy",Ce,e)}`,`${be("Buy",Ce,e)}`,`${be("Hold",Ce,e)}`,`${be("Sell",Ce,e)}`,`${be("StrongSell",Ce,e)}`],we=e=>[`50D MA ${e("50DayMovingAverage")}`,`200D MA ${e("200DayMovingAverage")}`,`52W Low ${e("52WeekLow")}`,`52W High ${e("52WeekHigh")}`],De=(e,t)=>({caption:e,tokens:t}),ke={toConfig(e,t){const o=t._itemKey,a=(e=>t=>_e(t,e))(e);return{config:{zhCompType:Se.eB,id:o,caption:`${a("Symbol")} ${a("CIK")} ${a("Country")} ${a("Currency")} ${a("AssetType")}`,items:[{caption:`${a("Sector")}, ${a("Industry")}`,style:$e,descr:a("Description"),links:[{href:a("OfficialSite")}]},De(`${Te("SharesOutstanding",e)}, ${a("LatestQuarter")}`,ve(e)),De(`${Te("MarketCapitalization",e)}`,we(a)),De(`Analyst ${be("TargetPrice",fe,e)}, Beta ${a("Beta")}`,Ee(e))],zhConfig:{key:o,id:o}}}}},Ie={api:h,adapter:(0,m.GT)({rAdapter:{DF:O,I:U,SR:Q,F:X,E:ae,GL:ue,EP:ye,OV:ke},isKey:!0})};var Le=o(2009),Fe=o(4575),Me=o(4867),Re=o(6134),xe=o(4250),Pe=o(3941),Oe=o(2569),Ne=o(5668),je=o(4848);const We=Number.isNaN,Ye=e=>""===(e+"").trim(),Ve=e=>!Ye(e),Ke=(e,t)=>o=>{if(Ye(o))return!0;const a=parseInt((o+"").trim(),10);return!We(a)&&a>e&&a<t},Be=Ke(0,201),Ge=Ke(250,2500),He=(e,t)=>{switch(e){case"MACD":return"MACD(12, 24, 9)";case"STOCH":return"STOCH(5, 3, 3, SMA)";default:return`${e} (${t})`}},qe=(0,Fe.A)((e=>{let{isShow:t,caption:o,oneURI:a,oneJsonProp:r,oneCaption:n,toTopLayer:i,onAbout:s,loadId:l,onLoad:d,onShow:c,onClose:p}=e;const[u,h]=(0,Pe.A)(s),[m,A]=(0,Me.A)(),[g,y]=(0,Me.A)(!0),S=(0,Oe.A)({toggleLabels:y,toggleOptions:A,onAbout:s}),$=(0,Le.li)(),f=(0,Le.li)(),C=(0,Le.li)(),[_,b,T]=(0,Re.A)(!1),[v,E]=(0,xe.A)(),w=(0,Le.hb)((()=>{const e=(0,Le.Ek)(f)||30,t=(0,Le.Ek)(C)||501,o=(0,Le.Ek)($),a=(E()||{}).value||"SMA";d({loadId:l,indicator:a,ticket:o,period:e,forDays:t,value:He(a,e),hasSecondYAxis:(0,Le.ZC)(_)})}),[]);return(0,je.jsxs)(Ne.A.DraggableDialog,{isShow:t,caption:o,menuModel:h,toTopLayer:i,onLoad:w,onShow:c,onClose:p,children:[(0,je.jsx)(Ne.A.Toolbar,{isShow:u,buttons:S}),(0,je.jsx)(Ne.A.RowPattern,{refEl:$,isShowLabels:g,caption:"Stock",placeholder:"Nyse or Nasdaq Symbol",onTest:Ve,errorMsg:"Not Empty"}),(0,je.jsx)(Ne.A.SelectWithLoad,{isShow:t,isShowLabels:g,uri:a,jsonProp:r,caption:n,optionNames:"Items",placeholder:"Default: SMA (30)",onSelect:v}),(0,je.jsxs)(Ne.A.ShowHide,{isShow:m,children:[(0,je.jsx)(Ne.A.RowPattern,{ref:f,isShowLabels:g,caption:"Period",placeholder:"Default: 30",onTest:Be,errorMsg:"Number in range 1-200"}),(0,je.jsx)(Ne.A.RowPattern,{ref:C,isShowLabels:g,caption:"For Days",placeholder:"Default: 501 (2 Years)",onTest:Ge,errorMsg:"Number in range 250-2500"})]}),(0,je.jsx)(Ne.A.RowCheckBox1,{caption:"Add Seria with Second YAxis",onCheck:b,onUnCheck:T})]})})),Ue={width:310},Qe={paddingRight:16},ze=(0,Fe.A)((e=>{let{isShow:t,caption:o,toTopLayer:a,onAbout:r,loadId:n,onLoad:i,onShow:s,onClose:l}=e;const[d,c]=(0,Pe.A)(r),p=(0,Oe.A)({onAbout:r}),u=(0,Le.hb)((()=>{i({loadId:n,dfSubId:"GL",dfFn:"GL"})}),[]);return(0,je.jsxs)(Ne.A.DraggableDialog,{isShow:t,style:Ue,caption:o,menuModel:c,toTopLayer:a,onLoad:u,onShow:s,onClose:l,children:[(0,je.jsx)(Ne.A.Toolbar,{isShow:d,buttons:p}),(0,je.jsx)(Ne.A.RowText,{style:Qe,caption:"AV:",text:"Top Gainers & Losers"})]})}));var Ze=o(6984);const Je={_a:Ie,Indicator:qe,Top:ze,Search:(0,Fe.A)((e=>{let{isShow:t,caption:o,getKey:a,loadId:r,toTopLayer:n,onAbout:i,onError:s,onClose:l}=e;const[d,c]=(0,Pe.A)(i),[p,u]=(0,Me.A)(!0),h=(0,Oe.A)({toggleLabels:u,onAbout:i}),m=(0,Ze.A)((()=>({...Q,onError:s,crUrlOptions:()=>{const e=a(r);if(e)return{apiKey:e};s("API key from Alpha Vantage is required","Without API Key")}})));return(0,je.jsxs)(Ne.A.DraggableDialog,{isShow:t,caption:o,menuModel:c,toTopLayer:n,onClose:l,children:[(0,je.jsx)(Ne.A.Toolbar,{isShow:d,buttons:h}),(0,je.jsx)(Ne.A.RowInputSearch,{isShowLabels:p,caption:"Token",searchApi:m})]})}))}}}]);