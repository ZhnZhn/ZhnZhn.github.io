"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[96],{4248:(t,e,o)=>{o.d(e,{W:()=>l,w:()=>c});var s=o(1840),n=o(7624);const i={color:"#607d8b"},a={color:"#232f3b"},c=t=>{let{onClick:e}=t;return(0,n.jsx)(s.c,{style:i,caption:"Load",title:"Load Item to Container",onClick:e})},l=t=>{let{onClick:e}=t;return(0,n.jsx)(s.c,{style:a,caption:"Show",title:"Show Item Container",onClick:e})}},6740:(t,e,o)=>{o.r(e),o.d(e,{default:()=>ct});var s=o(8504),n=o(4332),i=o(312),a=o(2180),c=o(5448),l=o(904),r=o(4906),p=o(3584),u=o(3872),d=o(0),m=o(6509),h=o(4248),x=o(3792),g=o(7624);const C={width:365},j={width:265},y={display:"inline-block",maxWidth:250,height:32,verticalAlign:"middle"},w=t=>"number"==typeof t&&t-t==0,f=(0,l.k1)(),L={},S=(0,a.Y9)(2),G=(0,a.gH)(),T=(0,n.c)((t=>{let{isShow:e,data:o=L,onClose:n}=t;const l=(0,s.yK)(),{caption:T,fromDate:B,initToDate:v,onTestDate:R,itemConf:I}=o,{dataSource:k,x:M,y:b}=I||{},[D,O]=(0,i.c)(f),[W,E]=(0,i.c)(w(M)),[N,A]=(0,i.c)(),F=(0,s.sB)((0,s.yK)([{caption:"L",title:"Click to toggle input labels",onClick:O},{caption:"V",title:"Click to toggle row value",onClick:E},{caption:"D",title:"Click to toggle date input",onClick:A}])),[V,K]=(0,s.oT)([]),P=[(0,g.jsx)(h.w,{onClick:()=>{const t=(0,s.sB)(l),{isValid:e,datesMsg:i}=t.getValidation(),a=e?[]:i;if(0===a.length){const{id:e,title:s,subtitle:i,caption:a,columnName:c,dataColumn:l,seriaColumnNames:d,itemConf:m={}}=o,{fromDate:h,toDate:x}=t.getValues(),g={id:e,title:s,subtitle:i,value:a,item:a,fromDate:h,toDate:x,columnName:c,dataColumn:l,seriaColumnNames:d,loadId:m.loadId||p.M9,...m};(0,r.SK)({chartType:p.ui,browserType:u.k7},g),n(),K((t=>t.length>0?[]:t))}else K(a)}},"load")];(0,s.YB)((()=>{E(w(M))}),[M,E]);const Q=B||S,q=v||G,H=R||a.iO,_=D?C:j,Y=function(t,e){return void 0===t&&(t=""),void 0===e&&(e=""),`${(0,c.c)(e)} ${(0,a.C6)(t)}`.trim()}(M,b);return(0,g.jsxs)(d.c,{style:_,isShow:e,caption:"Load Item",commandButtons:P,onClose:()=>{n(),K([])},children:[(0,g.jsx)(m.c.Toolbar,{isShow:!0,buttons:F}),(0,g.jsx)(m.c.RowText,{isShowLabels:D,textStyle:y,caption:"Item:",text:T}),(0,g.jsx)(m.c.ShowHide,{isShow:W,children:(0,g.jsx)(m.c.RowText,{isShowLabels:D,textStyle:y,caption:"Value:",text:Y})}),(0,g.jsx)(m.c.ShowHide,{isShow:N,children:(0,g.jsx)(m.c.DatesFragment,{ref:l,isShowLabels:D,initFromDate:Q,initToDate:q,onTestDate:H})}),(0,g.jsx)(m.c.RowText,{isShowLabels:D,textStyle:y,caption:"Source:",text:k}),(0,g.jsx)(x.c,{validationMessages:V})]})}));var B=o(6484),v=o(2816),R=o(4256),I=o(3612),k=o(1860),M=o(700);const b=()=>{const t=(0,s.yK)(),[e,o]=(0,s.oT)([]),n=(0,s.kZ)((()=>{(0,s.kK)(t),o([])}),[]);return[e,o,n,t]};var D=o(5780),O=o(9308);const W={...O.WW,lineHeight:2},E={...O.OA,width:120},N={width:250,height:30,paddingLeft:10,marginLeft:0,marginRight:0},A=(0,s.wd)(((t,e)=>{let{caption:o}=t;return(0,g.jsxs)("div",{style:W,children:[(0,g.jsx)("span",{style:E,children:o}),(0,g.jsx)(D.c,{ref:e,style:N})]})}));var F=o(1827);const V={...O.OA,width:120},K=t=>{let{caption:e,options:o,onSelect:s}=t;return(0,g.jsxs)("div",{style:O.WW,children:[(0,g.jsx)("span",{style:V,children:e}),(0,g.jsx)(F.c,{width:"250",options:o,onSelect:s})]})};var P=o(2660);const Q=()=>{const t=(0,s.yK)(),e=(0,s.kZ)((e=>{(0,s.mQ)(t,(e||{}).caption)}),[]);return[t,e]},q=(0,s.wd)(((t,e)=>{const[o,n]=(0,P.c)(t),{getWatchListsByGroup:i,groupCaption:a,groupOptions:c,listCaption:l}=t,r=(0,s.yK)(),[p,u]=Q(),[d,m]=(0,s.oT)([]),h=(0,s.kZ)((t=>{const{caption:e}=t||{};t&&e?((0,s.mQ)(r,e),(0,s.mQ)(p,null),m(t.lists||[])):(0,s.mQ)(r,null)}),[]);return(0,s.YB)((()=>{const e=n();if(e!==t){if(e.groupOptions!==c)(0,s.mQ)(r,null),(0,s.mQ)(p,null),m([]);else if((0,s.sB)(r)){const t=i(r.current);t!==d&&((0,s.mQ)(p,null),m(t))}o(t)}}),[t]),(0,s.Km)(e,(()=>({getValue:()=>({captionGroup:(0,s.sB)(r),captionList:(0,s.sB)(p)})}))),(0,g.jsxs)("div",{children:[(0,g.jsx)(K,{caption:a,options:c,onSelect:h}),(0,g.jsx)(K,{caption:l,options:d,onSelect:u})]})}));var H=o(6112);const _={...o(6024).U,margin:"8px 4px 10px 0"},Y=t=>{let{refBtClose:e,withoutClear:o,caption:s,title:n,onPrimary:i,onClear:a,onClose:c}=t;return(0,g.jsxs)("div",{style:_,children:[(0,g.jsx)(H.c.Primary,{caption:s,title:n,onClick:i}),!o&&(0,g.jsx)(H.c.Clear,{onClick:a}),(0,g.jsx)(H.c.Close,{refBt:e,onClick:c})]})},Z={RowInputText:A,RowInputSelect:K,SelectGroupList:q,Button:H.c,RowButtons:Y,ValidationMessages:x.c},$=t=>t.isVisible?t.setRefFocusLast:void 0,z=t=>{const{forActionType:e,useMsEdit:o,msgOnIsEmptyName:n,onCreate:i,onClose:a}=t,[c,l,r,p]=b();return o((t=>{t&&t.forActionType===e&&(t.messages?l(t.messages):r())})),(0,g.jsxs)("div",{children:[(0,g.jsx)(Z.RowInputText,{ref:p,caption:"Group:"}),(0,g.jsx)(Z.ValidationMessages,{validationMessages:c}),(0,g.jsx)(Z.RowButtons,{refBtClose:$(t),caption:"Create",title:"Create New Group",onPrimary:()=>{const t=(0,s.aq)(p);t?i({caption:t}):((0,s.kK)(p),l([n("Group")]))},onClear:r,onClose:a})]})},U=(t,e,o)=>{const{useMsEdit:n,forActionType:i,getWatchGroups:a}=t,[c,l]=(0,s.oT)((()=>a()));return n((t=>{t&&(t.forActionType===i?t.messages?e(t.messages):(o(),l(a())):l(a()))})),c},J=t=>{const{msgOnNotSelect:e,msgOnIsEmptyName:o,onRename:n,onClose:i}=t,[a,c,l,r]=b(),p=U(t,c,l),[u,d]=Q();return(0,g.jsxs)("div",{children:[(0,g.jsx)(Z.RowInputSelect,{caption:"Group From:",options:p,onSelect:d}),(0,g.jsx)(Z.RowInputText,{ref:r,caption:"Group To:"}),(0,g.jsx)(Z.ValidationMessages,{validationMessages:a}),(0,g.jsx)(Z.RowButtons,{refBtClose:$(t),caption:"Edit",title:"Edit Group Name",onPrimary:()=>{const t=(0,s.aq)(r),i=(0,s.sB)(u);if(t&&i)n({captionFrom:i,captionTo:t});else{const s=[];i||s.push(e("Group From")),t||s.push(o("Group To")),c(s)}},onClear:l,onClose:i})]})},X=t=>({groups:t(),errs:[]}),tt=(t,e)=>({type:t,payload:e}),et=(t,e)=>{let{type:o,payload:s}=e;switch(o){case"a":return{groups:s,errs:[]};case"b":return{...t,errs:s};default:return t}},ot=t=>{const{onDelete:e,msgOnNotSelect:o,useMsEdit:n,getWatchGroups:i,onClose:a}=t,c=(0,s.yK)(null),[l,r,p,u]=((t,e)=>{const[{groups:o,errs:n},i]=(0,s.qT)(et,t,X);return[o,n,t=>i(tt("a",t)),()=>i(tt("b",[e("Group")]))]})(i,o);return n((t=>{t&&!t.messages&&p(i())})),(0,g.jsxs)("div",{children:[(0,g.jsx)(Z.RowInputSelect,{caption:"Group:",options:l,onSelect:t=>{(0,s.mQ)(c,t&&t.caption||null)}}),(0,g.jsx)(Z.ValidationMessages,{validationMessages:r}),(0,g.jsx)(Z.RowButtons,{refBtClose:$(t),caption:"Delete",title:"Delete Group",onPrimary:()=>{const t=(0,s.sB)(c);t?(e({caption:t}),(0,s.mQ)(c,null)):u()},withoutClear:!0,onClose:a})]})},st=(0,n.c)((t=>{let{isShow:e,onClose:o}=t;const[s,n]=(0,B.c)();return(0,g.jsx)(d.c,{refFocusLast:s,caption:"Watch Groups Edit",isShow:e,isWithButton:!1,onClose:o,children:(0,g.jsxs)(k.c,{id:"egd",width:380,useMsEdit:R.wP,getWatchGroups:R._S,msgOnNotSelect:I.Ab,msgOnIsEmptyName:I.QH,onClose:o,setRefFocusLast:n,children:[(0,g.jsx)(M.c,{title:"Create",children:(0,g.jsx)(z,{forActionType:v.AP,onCreate:R.cz})}),(0,g.jsx)(M.c,{title:"Rename",children:(0,g.jsx)(J,{forActionType:v.OI,onRename:R.ew})}),(0,g.jsx)(M.c,{title:"Delete",children:(0,g.jsx)(ot,{forActionType:v.oD,onDelete:R.ao})})]})})})),nt=t=>{const{msgOnNotSelect:e,msgOnIsEmptyName:o,onCreate:n,onClose:i}=t,[a,c,l,r]=b(),p=U(t,c,l),[u,d]=Q();return(0,g.jsxs)("div",{children:[(0,g.jsx)(Z.RowInputSelect,{caption:"In Group:",options:p,onSelect:d}),(0,g.jsx)(Z.RowInputText,{ref:r,caption:"List:"}),(0,g.jsx)(Z.ValidationMessages,{validationMessages:a}),(0,g.jsx)(Z.RowButtons,{refBtClose:$(t),caption:"Create",title:"Create New List",onPrimary:()=>{const t=(0,s.aq)(r),i=(0,s.sB)(u);if(i&&t)n({captionGroup:i,captionList:t});else{const s=[];i||s.push(e("In Group")),t||s.push(o("List")),c(s)}},onClear:l,onClose:i})]})},it=t=>{const{onRename:e,msgOnIsEmptyName:o,msgOnNotSelect:n,getWatchListsByGroup:i,onClose:a}=t,c=(0,s.yK)(),[l,r,p,u]=b(),d=U(t,r,p);return(0,g.jsxs)("div",{children:[(0,g.jsx)(Z.SelectGroupList,{ref:c,getWatchListsByGroup:i,groupCaption:"In Group:",groupOptions:d,listCaption:"List From:"}),(0,g.jsx)(Z.RowInputText,{ref:u,caption:"List To:"}),(0,g.jsx)(Z.ValidationMessages,{validationMessages:l}),(0,g.jsx)(Z.RowButtons,{refBtClose:$(t),caption:"Edit",title:"Edit List Name",onPrimary:()=>{const{captionGroup:t,captionList:i}=(0,s.aq)(c)||{},a=(0,s.aq)(u);if(t&&i&&a)e({captionGroup:t,captionListFrom:i,captionListTo:a});else{const e=[];t||e.push(n("Group")),i||e.push(n("List From")),a||e.push(o("List To")),r(e)}},onClear:p,onClose:a})]})},at=t=>{const{getWatchListsByGroup:e,useMsEdit:o,getWatchGroups:n,forActionType:i,onDelete:a,msgOnNotSelect:c,onClose:l}=t,r=(0,s.yK)(),[p,u,d]=b(),[m,h]=(0,s.oT)((()=>n()));return o((t=>{t&&(t.messages||(t.forActionType===i&&d(),h(n())))})),(0,g.jsxs)("div",{children:[(0,g.jsx)(Z.SelectGroupList,{ref:r,getWatchListsByGroup:e,groupCaption:"In Group:",groupOptions:m,listCaption:"List:"}),(0,g.jsx)(Z.ValidationMessages,{validationMessages:p}),(0,g.jsx)(Z.RowButtons,{refBtClose:$(t),caption:"Delete",title:"Delete List",onPrimary:()=>{const{captionGroup:t,captionList:e}=(0,s.aq)(r)||{};if(t&&e)a({captionGroup:t,captionList:e});else{const o=[];t||o.push(c("Group")),e||o.push(c("List")),u(o)}},onClear:d,onClose:l})]})},ct={LoadItem:T,EditGroup:st,EditList:(0,n.c)((t=>{let{isShow:e,onClose:o}=t;const[s,n]=(0,B.c)();return(0,g.jsx)(d.c,{refFocusLast:s,caption:"Watch Lists Edit",isShow:e,isWithButton:!1,onClose:o,children:(0,g.jsxs)(k.c,{id:"eld",width:380,useMsEdit:R.wP,getWatchGroups:R._S,msgOnNotSelect:I.Ab,msgOnIsEmptyName:I.QH,onClose:o,setRefFocusLast:n,children:[(0,g.jsx)(M.c,{title:"Create",children:(0,g.jsx)(nt,{forActionType:v.eI,onCreate:R.Mt})}),(0,g.jsx)(M.c,{title:"Rename",children:(0,g.jsx)(it,{getWatchListsByGroup:R.qG,forActionType:v.yE,onRename:R.mO})}),(0,g.jsx)(M.c,{title:"Delete",children:(0,g.jsx)(at,{getWatchListsByGroup:R.qG,forActionType:v.AF,onDelete:R.M7})})]})})}))}}}]);