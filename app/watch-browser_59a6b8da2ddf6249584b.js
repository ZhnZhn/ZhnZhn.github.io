"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[103],{6366:(e,t,r)=>{r.r(t),r.d(t,{default:()=>fe});var o=r(4558),n=r(4867),i=r(634),a=r(8801),s=r(4427),l=r(3597);const p=()=>(0,s.BK)(l.VO),d=()=>(0,s.BK)(l.aF),c=e=>(0,s.BK)(l.R0,e),g=(e,t)=>{t.stopPropagation(),(0,a._x)(e)};var u=r(7326),C=r(1358),y=r(4848);const x="bt__watch__bar",I={marginBottom:10},f={marginLeft:20},T=e=>{let{isShow:t,onClickGroup:r,onClickList:o}=e;return t?(0,y.jsxs)("div",{style:I,children:[(0,y.jsx)(C.A,{caption:"GROUP",className:x,onClick:r}),(0,y.jsx)(C.A,{caption:"LIST",className:x,style:f,onClick:o})]}):null};var m=r(2009);const v=e=>JSON.parse(e.dataTransfer.getData("text")),h={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"},E="border-bottom",S="border-left";let L,A,b,D;const P=e=>e.currentTarget.style,j=(e,t)=>(e=>"4px solid "+e)((e=>-1!==L.indexOf(e))(e)?t||"green":"red"),_=e=>{const t=A.style;P(e).removeProperty(S),t.removeProperty("border"),t.setProperty(E,b)},k=Object.assign,O=e=>{let{event:t,dragId:r,xType:o}=e;k(t.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:r,xType:o}))},N=(e,t)=>(r,o)=>{((e,t)=>{A=e.currentTarget,L=t,b=P(e).getPropertyValue(E)})(o,e),O({event:o,dragId:t(r),xType:e[0]})},R=(e,t)=>r=>{r.preventDefault(),((e,t,r)=>{const o=P(e);D=o.getPropertyValue(S),o.setProperty(S,j(t,r))})(r,e,t)},w=e=>{e.preventDefault()},M=e=>{e.preventDefault(),(e=>{const t=P(e);t.removeProperty(S),t.setProperty(S,D)})(e)},G=(e,t,r,o,n,i,a)=>i?{draggable:!0,onDragStart:(0,m.Jr)(e,a),onDrop:(0,m.Jr)(t,a),onDragEnter:r,onDragOver:o,onDragLeave:n}:void 0,U=e=>{let{caption:t}=e;return t+";"},B=N([h.GROUP],U),J=R(h.GROUP,h.C_GROUP_ENTER),H=(0,m.Jr)(G,B,((e,t)=>{_(t);const{xType:r,dragId:o}=v(t),n=U(e);if(r===h.GROUP){if(o===n)return;t.preventDefault(),(0,a.Gw)({dragId:o,dropId:n})}else r===h.LIST&&(t.preventDefault(),(0,a.DX)({dragId:o,dropId:n}))}),J,w,M),V=e=>{let{groupCaption:t,caption:r}=e;return t+";"+r+";"},K=N([h.LIST,h.GROUP],V),W=R(h.LIST,h.C_LIST_ENTER),F=(0,m.Jr)(G,K,((e,t)=>{_(t);const{xType:r,dragId:o}=v(t),n=V(e);if(r===h.LIST){if(o===n)return;t.preventDefault(),(0,a.DX)({dragId:o,dropId:n})}else r===h.ITEM&&(t.preventDefault(),(0,a.yN)({dragId:o,dropId:n}))}),W,w,M),X=e=>{let{groupCaption:t,listCaption:r,caption:o}=e;return t+";"+r+";"+o},q=N([h.ITEM,h.LIST],X),z=R(h.ITEM,h.C_LIST_ENTER),Q=(0,m.Jr)(G,q,((e,t)=>{_(t);const{xType:r,dragId:o}=v(t),n=X(e);if(r===h.ITEM){if(o===n)return;t.preventDefault(),(0,a.yN)({dragId:o,dropId:n})}}),z,w,M);var Y=r(1209),Z=r(9355),$=r(6204);const ee={position:"relative",padding:"5px 40px 5px 0"},te={width:"100%",maxWidth:250,height:28,verticalAlign:"middle"},re={top:8},oe="Not Found",ne=e=>{let{item:t,className:r,onClick:o,onClose:n,isDraggable:i,dndHandlers:a,option:s}=e;const{caption:l=oe}=t||{},p=i?(0,y.jsx)(Z.P,{style:re,onClick:(0,m.Jr)(n,s)}):null,d=(0,m.hb)((()=>o(t)),[t]),c=(0,m.hb)((e=>{(0,Y.A)(e)&&d()}),[d]);return(0,y.jsxs)("div",{role:"menuitem",tabIndex:"0",className:r,style:ee,onClick:d,onKeyUp:c,...a,children:[(0,y.jsx)($.A,{style:te,text:l}),p]})},ie=Array.isArray,ae=e=>{let{isModeEdit:t,items:r,groupCaption:n,listCaption:i}=e;return ie(r)?r.map((e=>{const{caption:r}=e,a={groupCaption:n,listCaption:i,caption:r};return(0,y.jsx)(ne,{className:o.eA,item:e,isDraggable:t,option:a,dndHandlers:Q(t,a),onClick:c,onClose:g},r)})):null},{OpenClose2:se}=u.A,le=Array.isArray,pe={marginLeft:8,paddingLeft:2,borderLeftStyle:"solid",borderLeftWidth:2,borderLeftColor:"inherit",lineHeight:2},de={marginRight:10},ce=e=>{let{isModeEdit:t,groupCaption:r,lists:o}=e;return le(o)?o.map((e=>{let{caption:o,items:n}=e;return(0,y.jsx)(se,{style:pe,notSelectedStyle:de,openColor:"#80c040",caption:o,dndHandlers:F(t,{groupCaption:r,caption:o}),children:(0,y.jsx)(ae,{isModeEdit:t,items:n,groupCaption:r,listCaption:o})},o)})):null},{OpenClose2:ge}=u.A,ue=Array.isArray,Ce={lineHeight:2},ye=e=>{let{isModeEdit:t,groups:r}=e;return ue(r)?r.map((e=>{let{caption:r,lists:o}=e;return(0,y.jsx)(ge,{style:Ce,caption:r,dndHandlers:H(t,{caption:r}),children:(0,y.jsx)(ce,{isModeEdit:t,groupCaption:r,lists:o})},r)})):null},xe=(0,o.nV)("scroll-watch"),Ie={position:"relative",top:-6,marginLeft:20},fe=e=>{const{caption:t,useWatchList:r}=e,[o,s]=(0,n.A)(),[l,c,g]=(0,i.A)(e),C=r(),{groups:x}=C||{},I=o?"V":"E";return(0,y.jsxs)(u.A.Browser,{isShow:l,onKeyDown:g,children:[(0,y.jsxs)(u.A.BrowserCaption,{caption:t,onClose:c,children:[(0,y.jsx)(u.A.ButtonCircle,{caption:"S",title:"Save to LocalStorage",style:Ie,onClick:a.vk}),(0,y.jsx)(u.A.ButtonCircle,{caption:I,title:"Toggle Edit Mode: E/V",style:Ie,onClick:s})]}),(0,y.jsx)(T,{isShow:o,onClickGroup:p,onClickList:d}),(0,y.jsx)(u.A.ScrollPane,{className:xe,children:(0,y.jsx)(ye,{isModeEdit:o,groups:x})})]})}}}]);