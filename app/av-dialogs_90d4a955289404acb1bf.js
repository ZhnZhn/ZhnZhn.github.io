"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[78],{470:(e,t,o)=>{o.r(t),o.d(t,{default:()=>dt});var a=o(4514),r=o(2296),n=o(4031),i=o(9550),s=o(7294);const l="EOD",d=(e,t)=>{const{_itemKey:o,itemCaption:a}=t,{id:r,dataSource:n}=e,l=o||r,d=((e,t)=>{let{data:o}=e;const{_itemKey:a,dfFn:r,dfSubId:n,items:s,dataSource:l}=t;return"EOD"===r?{_itemKey:a,...(0,i.B0)(t),...(0,i.TU)(o),items:[...s||[]],dfFn:r,dfSubId:n,dataSource:l}:void 0})(e,t);return{id:l,key:l,itemCaption:a,itemConf:d,legend:(0,s.$)(),dataSource:n||"Alpha Vantage"}},c=(e,t)=>({zhConfig:d(e,t),valueMoving:(0,r.Y1)(e.data)}),p=(e,t)=>`${(0,n.kV)(e)}&symbol=${t}`,u=e=>(0,r.BI)(e)[0],h=e=>{const{items:t}=e,[o,a,n]=(0,r.BI)(e);return(0,r.kp)(e,{itemCaption:(0,r.dV)(e.itemCaption,(0,r.Ps)(t[0]),o),dfItem:a,dfPeriod:n}),p(e.dfFn,o)},m=e=>t=>p(e,u(t)),S=(0,r.vL)({CR:e=>{const[t,o]=(0,r.BI)(e);return(0,r.kp)(e,{itemCaption:`${t}/${o}`}),`${p("DIGITAL_CURRENCY_DAILY",t)}&market=${o}`},[l]:e=>{const{items:t}=e,[o,a]=(0,r.a3)(t[0]),[n,i]=(0,r.a3)(t[1]),[s,l]=(e=>{const t=e.split("&")[0],o=(0,r.dV)(t,"TIME_SERIES_",""),a=o.split("_").map((e=>(0,r.Ob)(e.toLowerCase()))).join(" ");return[o,a]})(n);return(0,r.kp)(e,{itemCaption:o,ticket:o,title:a,subtitle:i,dfT:s,interval:l}),p(n,o)},INSTR:e=>p("INSIDER_TRANSACTIONS",u(e)),GL:()=>(0,n.kV)("TOP_GAINERS_LOSERS"),TIME_SERIES_INTRADAY:e=>{const[t,o]=(0,r.BI)(e),a=`${t} (${o})`;return(0,r.kp)(e,{ticket:t,interval:o,title:a,itemCaption:a}),`${p(e.dfFn,t)}&interval=${o}`},INCOME_STATEMENT:h,BALANCE_SHEET:h,CASH_FLOW:h,EARNINGS:e=>{const[t,o]=(0,r.BI)(e);return(0,r.kp)(e,{itemCaption:t,dfPeriod:o}),p(e.dfFn,t)},ETF_PROFILE:m("ETF_PROFILE"),OVERVIEW:m("OVERVIEW")},(e=>{let{ticket:t="MSFT",period:o=50,indicator:a="SMA"}=e;return`${p(a,t)}&interval=daily&time_period=${o}&series_type=close`})),g=(0,n.Ec)((e=>S(e.dfFn)));var y=o(4558),A=o(3730),f=o(9270),C=o(4999),$=o(5248);const T=501,v="MACD",w="MACD_Signal",E="MACD_Hist",_="STOCH",b="SlowK",D="SlowD",I="BBANDS",k="Real Upper Band",R="Real Middle Band",x="Real Lower Band",L={color:(0,y.Jq)()},F={color:"#f44336"},M={color:"rgb(47, 126, 216)"},O={color:"#4caf50"},P=e=>"AD"===e?"Chaikin A/D":e,N=(e,t)=>{const{indicator:o,forDays:a=T}=t,r=e[`Technical Analysis: ${P(o)}`],n=(0,A.Co)(r).sort().reverse(),i=n.length;return{value:r,dateKeys:n,max:i<a?i-1:a}},Y=(e,t)=>{let o,a,n,i,s,{dateKeys:l,value:d,max:c}=e;const p=[],u=t.length;for(a=0;a<u;a++)p.push([]);for(o=c;o>-1;o--)for(n=l[o],i=(0,r.cY)(n),s=d[n],a=0;a<u;a++)p[a].push([i,parseFloat(s[t[a]])]);return p},j=(e,t)=>{let{data:o,name:a}=e;return(0,r.kp)((0,$.wo)(),{data:o,name:a,type:"spline",visible:!0,marker:{symbol:"circle"}},t)},V=(0,r.vL)({[v]:(e,t)=>{const o=Y(N(e,t),[v,w,E]),a=j({data:o[0],name:v},L()),n=j({data:o[1],name:w},F);return[(0,r.kp)((0,$.wo)(),{color:"rgba(47, 126, 216, 0.75)",data:o[2],name:E,type:"column",visible:!1,shadow:!1,borderWidth:0,pointPlacement:"on",pointPadding:0,groupPadding:0,turboThreshold:2e4}),n,a]},[_]:(e,t)=>{const o=Y(N(e,t),[b,D]);return[j({data:o[0],name:b},M),j({data:o[1],name:D},F)]},[I]:(e,t)=>{const o=Y(N(e,t),[R,k,x]);return[j({data:o[0],name:R},M),j({data:o[1],name:k},O),j({data:o[2],name:x},F)]}},((e,t)=>{const{indicator:o}=t,a=((e,t)=>{const{indicator:o}=t,a=P(o),{value:n,dateKeys:i,max:s}=N(e,t),l=[];let d,c,p=s;for(;p>-1;p--)d=i[p],c=parseFloat(n[d][a]),l.push([(0,r.cY)(d),c]);return l})(e,t);return j({data:a,name:o})})),B=(e,t)=>V(t.indicator)(e,t),K={crKey:e=>e.chartId=`${e.ticket}-${e.value}`,toConfig(e,t){return{config:(0,f.A)((0,C.Fh)(`${t.ticket}: ${t.value}`),(0,C.$J)(B(e,t)),(0,C.YT)({zhConfig:(o=t.chartId,{id:o,key:o,itemCaption:o,dataSource:"Alpha Vantage"})}),C.qP),isDrawDeltaExtrems:!1,isNotZoomToMinMax:!1};var o},toSeries:B};var H=o(5153),U=o(5355);const q=(e,t)=>({y:0,exValue:.5,marker:{symbol:"circle",fillColor:e,lineColor:e,radius:6,states:{hover:{enable:!0,fillColor:U.ud,lineColor:e,lineWidth:2,radius:6}}},dataLabels:{enabled:!0,inside:!0,color:e,style:{fill:e,stroke:e,color:e,fontSize:"12px",fontWeight:"normal",textShadow:"none",textOutline:"0px transparent"},crop:!1,overflow:"none",y:32,formatter:function(){return this.point[t]}}});var G=o(353);const W=e=>{const t=(0,r.QD)(e,"09:30:00")?"#90ed7d":(0,r.QD)(e,"16:00:00")?"#f7a35c":"";return t?{marker:{radius:3,enabled:!0,fillColor:o=t},color:o}:void 0;var o},Q=(e,t,o)=>{const a=o["7. dividend amount"],r=a&&parseFloat(a);r&&e.push({...q(U.U,"exValue"),x:t,exValue:r,price:parseFloat(o["5. adjusted close"])})},J="Time Series",z=e=>{let{interval:t}=e;return"Daily Adjusted"===t?`${J} (Daily)`:(o=t,(0,r.QD)(o,"Weekly")||(0,r.QD)(o,"Monthly")?`${t} ${J}`:`${J} (${t})`);var o},Z=(e,t)=>{const o=((e,t)=>e[z(t)])(e,t),a=(0,A.Co)(o).sort(),n=[],i=[],s=[],l=[],d=[],c=[],p=[],{notFilterZero:u,isDividend:h,toUTC:m,pnClose:S,pnVolume:g}=(e=>{let{isFilterZero:t,dfT:o}=e;const a=(0,r.QD)(o,"ADJUSTED");return{notFilterZero:!t,isDividend:a,toUTC:r.CA,pnClose:a?"5. adjusted close":"4. close",pnVolume:a?"6. volume":"5. volume"}})(t);let y,f,C,$,T,v,w,E,_,b=0,D=a.length,I=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY;for(;b<D;b++)f=a[b],C=o[f],w=parseFloat(C["4. close"]),E=parseFloat(C[S]),(u||(R=E,0!==w&&0!==R))&&($=parseFloat(C["1. open"]),T=parseFloat(C["2. high"]),v=parseFloat(C["3. low"]),_=parseFloat(C[g]),y=m(f),n.push({x:y,y:E,...W(f)}),i.push([y,T]),s.push([y,v]),l.push([y,$]),p.push([y,_]),c.push((0,G._8)({open:$,close:w,volume:_,date:y,option:{_high:T,_low:v}})),h&&Q(d,y,C),I>E&&(I=E),k<E&&(k=E));var R;return{dC:n,dH:i,dL:s,dO:l,dDividend:d,minClose:I,maxClose:k,dVc:c,dV:p}},X={toConfig(e,t){const{_itemKey:o,title:a,subtitle:r,dataSource:n}=t,i=Z(e,t),{dC:s,minClose:l,maxClose:d,dDividend:p}=i;return{config:(0,f.A)((0,H.Ux)(o,{...t,...i}),(0,C.Kl)(a,r),(0,C.YT)(c({id:o,data:s,dataSource:n},t)),(0,H.p3)(p,l,d),C.qP)}},toSeries:(e,t)=>(0,C.j7)({adapter:X,type:"line",json:e,option:t})},ee=X,te=/ +/g;var oe=o(4668);const ae=(e,t,o)=>({...(0,oe.tJ)(e,t),...o}),re=(0,oe.zS)([(0,oe.mq)("Id","id"),(0,oe.tJ)("Executive",!0),(0,oe.tJ)("Title","executive_title",!0),(0,oe.tJ)("Type","security_type"),ae("A/D","acquisition_or_disposal",(0,oe.wQ)()),ae("Shares","shares",(0,oe.b5)(0)),ae("Price","share_price",{isHide:!0,toN:[2]}),(0,oe.tJ)("Date","transaction_date")]),ne={"Common Stock":"CS","Employee Stock Option":"ESO","Stock Option":"SO","Restricted Stock Unit":"RSU","Performance Stock Units":"PSUs"},ie=(se=ne,new RegExp(Object.keys(se).join("|"),"g"));var se;const le=(e,t)=>{const{fromDate:o}=t,a=e.data.filter((e=>e.transaction_date>=o)).reduce(((e,t,o)=>(t.id=o+1,(e=>{e.security_type=e.security_type.replace(te," ").replace(ie,(e=>ne[e])).replace("par value $.01 per share","$.01 par")})(t),e.push(t),e)),[]);return(0,oe.Ju)(re,a)},de={toConfig:(e,t)=>({config:(0,oe.gO)({id:t.key,title:t.title,headers:re,rows:le(e,t),dataSource:t.dataSource})})},ce={crUrl:(e,t)=>{let{apiKey:o=""}=t;return`https://www.alphavantage.co/query/search?function=SYMBOL_SEARCH&keywords=${e}&apikey=${o}`},crOptions:e=>{if(!e||!Array.isArray(e.bestMatches))throw new Error("Response format is not valid");return e.bestMatches.map((e=>({value:e["1. symbol"],name:e["2. name"],type:e["3. type"],region:e["4. region"],currency:e["8. currency"]})))}};var pe=o(9876);const ue=(e,t)=>{let{dfItem:o,dfPeriod:a}=t;return(0,n.e)(o,"fiscalDateEnding","10")(e["A"===a?"annualReports":"quarterlyReports"])};let he;const me=()=>he||(he=(0,pe.e$)({crData:ue})),Se=(0,n.e)("reportedEPS","fiscalDateEnding","round"),ge=(e,t)=>{const{dfPeriod:o}=t;return Se(e["A"===o?"annualEarnings":"quarterlyEarnings"])};let ye;const Ae=()=>ye||(ye=(0,pe.e$)({crData:ge})),fe="alp_perf",Ce={paddingTop:6},$e=(e,t,o)=>({...o,name:e,pn:t}),Te=[$e("Ticker","id"),$e("Price","p"),$e("1d Amount","cha",{isHide:!0}),$e("1d %","chp",{isR:!0}),$e("Volume","v",{...(0,oe.wQ)(),isF:!0})],ve=(e,t,o)=>({...(0,oe.wC)(e,t,[...Te],void 0,o,"Alpha Vantage"),dsStyle:Ce}),we=e=>(0,r.W7)(parseFloat(e),2),Ee=e=>(0,A.Ep)(e)?e.map((e=>({id:e.ticker,p:we(e.price),cha:we(e.change_amount),chp:we((e.change_percentage||"").replace("%")),v:(0,A.dw)(e.volume)}))):[],_e={crKey:()=>fe,toConfig(e,t){const o=fe,a=e.last_updated||"",[r,n,i]=(e=>[Ee(e.top_gainers),Ee(e.top_losers),Ee(e.most_actively_traded)])(e);return{config:{id:o,zhCompType:"ALPHA_PERF",zhConfig:{id:o,key:o},g:ve(`${o}_g`,`Gainers ${a}`,r),l:ve(`${o}_l`,`Losers ${a}`,n),m:ve(`${o}_m`,`Most Active Traded ${a}`,i)}}}};var be=o(3851),De=o(6327),Ie=o(8849);const ke=(e,t)=>(e||{})[t]||"n/a",Re=(0,be.A)(((e,t)=>{const{holdings:o,asset_allocation:a}=e||{},n=(o||{}).map((e=>(0,De.eb)(parseFloat(e.weight),e.symbol)),[]);return(0,A.Co)(a).forEach((e=>{if("domestic_equities"!==e){const t=parseFloat(a[e]);(0,A.F5)(t)&&n.push((0,De.eb)(t,"foreign_equities"===e?"For. Eq.":(0,r.Ob)(e)))}})),t.subtitle=`${t.itemCaption}, Net Expense Ratio ${ke(e,"net_expense_ratio")}`,t.title=`Portfolio Turnover ${ke(e,"portfolio_turnover")}, Dividend Yield ${ke(e,"dividend_yield")}`,(0,Ie._u)(n)}),((e,t)=>{let{itemCaption:o}=e;return`${(0,r.hE)(o)} ${(0,r.jq)(ke(t,"net_assets"),"")}`}));var xe=o(7222);const Le={lineHeight:1.5,fontWeight:"bold"},Fe="Analyst",Me=Fe+"Rating",Oe=(e,t)=>t[e]||"",Pe=(e,t,o)=>`${e} ${o[t+e]}`,Ne=(e,t)=>`${e} ${(0,r.jq)(t[e])}`,Ye=e=>[`${Ne("RevenueTTM",e)}`,`${Ne("RevenuePerShareTTM",e)}`,`${Ne("EBITDA",e)}`,`${Ne("EPS",e)}`,`${Ne("DilutedEPSTTM",e)}`,`Q RevenueGrowthYOY ${Oe("QuarterlyRevenueGrowthYOY",e)}`,`Q EarningsGrowthYOY ${Oe("QuarterlyEarningsGrowthYOY",e)}`],je=e=>[`${Pe("StrongBuy",Me,e)}`,`${Pe("Buy",Me,e)}`,`${Pe("Hold",Me,e)}`,`${Pe("Sell",Me,e)}`,`${Pe("StrongSell",Me,e)}`],Ve=e=>[`50D MA ${e("50DayMovingAverage")}`,`200D MA ${e("200DayMovingAverage")}`,`52W Low ${e("52WeekLow")}`,`52W High ${e("52WeekHigh")}`],Be=(e,t)=>({caption:e,tokens:t}),Ke={toConfig(e,t){const o=t._itemKey,a=(e=>t=>Oe(t,e))(e);return{config:{zhCompType:xe.eB,id:o,caption:`${a("Symbol")} ${a("CIK")} ${a("Country")} ${a("Currency")} ${a("AssetType")}`,items:[{caption:`${a("Sector")}, ${a("Industry")}`,style:Le,descr:a("Description"),links:[{href:a("OfficialSite")}]},Be(`${Ne("SharesOutstanding",e)}, ${a("LatestQuarter")}`,Ye(e)),Be(`${Ne("MarketCapitalization",e)}`,Ve(a)),Be(`Analyst ${Pe("TargetPrice",Fe,e)}, Beta ${a("Beta")}`,je(e))],zhConfig:{key:o,id:o}}}}},He={api:g,adapter:(0,a.GT)({rAdapter:{DF:K,I:ee,INSTR:de,SR:ce,F:me,E:Ae,GL:_e,EP:Re,OV:Ke},crDfKey:r.as})};var Ue=o(1315),qe=o(4575),Ge=o(4867),We=o(4250),Qe=o(3941),Je=o(4302),ze=o(6318),Ze=o(4848);const Xe=e=>""===(e+"").trim(),et=e=>!Xe(e),tt=(e,t)=>o=>{if(Xe(o))return!0;const a=(0,A.dw)((o+"").trim());return!(0,A.Et)(a)&&a>e&&a<t},ot=tt(0,201),at=tt(250,2500),rt=(e,t)=>{switch(e){case"MACD":return"MACD(12, 24, 9)";case"STOCH":return"STOCH(5, 3, 3, SMA)";default:return`${e} (${t})`}},nt=(0,qe.A)((e=>{let{isShow:t,caption:o,oneURI:a,oneJsonProp:r,oneCaption:n,toTopLayer:i,onAbout:s,loadId:l,onLoad:d,onShow:c,onClose:p}=e;const[u,h]=(0,Qe.A)(s),[m,S]=(0,Ge.eY)(),[g,y]=(0,Ge.eY)(!0),A=(0,Je.t)({titleToggle:Je.y,toggleInputs:y,toggleOptions:S,onAbout:s}),f=(0,Ue.li)(),C=(0,Ue.li)(),$=(0,Ue.li)(),[T,v,w]=(0,We.VA)(!1),[E,_]=(0,We.NC)(),b=(0,Ue.hb)((()=>{const e=(0,Ue.Ek)(C)||30,t=(0,Ue.Ek)($)||501,o=(0,Ue.Ek)(f),a=(_()||{}).value||"SMA";d({loadId:l,indicator:a,ticket:o,period:e,forDays:t,value:rt(a,e),hasSecondYAxis:(0,Ue.ZC)(T)})}),[]);return(0,Ze.jsxs)(ze.A.DraggableDialog,{isShow:t,caption:o,menuModel:h,toTopLayer:i,onLoad:b,onShow:c,onClose:p,children:[(0,Ze.jsx)(ze.A.Toolbar,{isShow:u,buttons:A}),(0,Ze.jsx)(ze.A.RowPattern,{refEl:f,isShowLabels:g,caption:"Stock",placeholder:"Nyse or Nasdaq Symbol",onTest:et,errorMsg:"Not Empty"}),(0,Ze.jsx)(ze.A.SelectWithLoad,{isShow:t,isShowLabels:g,uri:a,jsonProp:r,caption:n,optionNames:"Items",placeholder:"Default: SMA (30)",onSelect:E}),(0,Ze.jsxs)(ze.A.ShowHide,{isShow:m,children:[(0,Ze.jsx)(ze.A.RowPattern,{ref:C,isShowLabels:g,caption:"Period",placeholder:"Default: 30",onTest:ot,errorMsg:"Number in range 1-200"}),(0,Ze.jsx)(ze.A.RowPattern,{ref:$,isShowLabels:g,caption:"For Days",placeholder:"Default: 501 (2 Years)",onTest:at,errorMsg:"Number in range 250-2500"})]}),(0,Ze.jsx)(ze.A.RowCheckBox1,{caption:"Add Seria with YAxis2",onCheck:v,onUnCheck:w})]})})),it={width:310},st={paddingRight:16},lt=(0,qe.A)((e=>{let{isShow:t,caption:o,toTopLayer:a,onAbout:r,loadId:n,onLoad:i,onShow:s,onClose:l}=e;const[d,c]=(0,Qe.A)(r),p=(0,Je.t)({onAbout:r}),u=(0,Ue.hb)((()=>{i({loadId:n,dfSubId:"GL",dfFn:"GL"})}),[]);return(0,Ze.jsxs)(ze.A.DraggableDialog,{isShow:t,style:it,caption:o,menuModel:c,toTopLayer:a,onLoad:u,onShow:s,onClose:l,children:[(0,Ze.jsx)(ze.A.Toolbar,{isShow:d,buttons:p}),(0,Ze.jsx)(ze.A.RowText,{style:st,caption:"AV:",text:"Top Gainers & Losers"})]})})),dt={_a:He,Indicator:nt,Top:lt,Search:(0,qe.A)((e=>{let{isShow:t,caption:o,getKey:a,loadId:r,toTopLayer:n,onAbout:i,onError:s,onClose:l}=e;const[d,c]=(0,Qe.A)(i),[p,u]=(0,Ge.eY)(!0),h=(0,Je.t)({titleToggle:Je.y,toggleInputs:u,onAbout:i}),m=(0,We.f)((()=>({...ce,onError:s,crUrlOptions:()=>{const e=a(r);if(e)return{apiKey:e};s("API key from Alpha Vantage is required","Without API Key")}})));return(0,Ze.jsxs)(ze.A.DraggableDialog,{isShow:t,caption:o,menuModel:c,toTopLayer:n,onClose:l,children:[(0,Ze.jsx)(ze.A.Toolbar,{isShow:d,buttons:h}),(0,Ze.jsx)(ze.A.RowInputSearch,{isShowLabels:p,caption:"Token",searchApi:m})]})}))}}}]);