"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[538],{7361:(e,o,t)=>{t.r(o),t.d(o,{default:()=>Z});var r=t(2009),a=t(6460),l=t(4575),s=t(4867),n=t(4250),i=t(3057);const c=()=>{const[e,o]=(0,s.A)(!1),t=(0,r.hb)((()=>{o(!1)}),[o]);return[e,o,t]};var p=t(5668),h=t(9288),u=t(4428),d=t(972),S=t(6223),A=t(8353),w=t(4848);const g=e=>{let{isShow:o,configs:t,onClose:r}=e;return(0,w.jsx)(d.A,{isShow:o,className:A.ND,style:A.lM,onClose:r,children:(t||[]).map((e=>(0,w.jsx)(S.A,{style:A.v$,color:A.Ic,caption:e[0],value:e[1],onToggle:e[2]},e[0])))})},v=function(e,o){void 0===o&&(o=0);const t=e[o];return[t,(r=t,`Default: ${r.c}`)];var r},m=[{c:"Export Value",v:{rg:"X",measure:"primaryValue"}},{c:"Export Weight",v:{rg:"X",measure:"netWgt"}},{c:"Export Quantity",v:{rg:"X",measure:"qty"}},{c:"Export Average Value Per Weight",v:{rg:"X",measure:"avgPerWeight"}},{c:"Export Average Value Per Quantity",v:{rg:"X",measure:"avgPerQuantity"}},{c:"Import Value",v:{rg:"M",measure:"primaryValue"}},{c:"Import Weight",v:{rg:"M",measure:"netWgt"}},{c:"Import Quantity",v:{rg:"M",measure:"qty"}},{c:"Import Average Value Per Weight",v:{rg:"M",measure:"avgPerWeight"}},{c:"Import Average Value Per Quantity",v:{rg:"M",measure:"avgPerQuantity"}}],[x,y]=v(m),[b={c:"All",v:"all"},j]=v([{c:"All",v:"all"}]),L=[{c:"Annual",v:"A"},{c:"Monthly",v:"M"}],[C,T]=v(L),f=(e,o)=>({caption:e,value:o}),I=[f("Spline",a.qv),f("Bar by Reporter",a.zM)],[M,P]=(0,u.A)("Y",1),R=f(P,P),V=(0,l.A)((e=>{const{isShow:o,caption:t,oneURI:a,twoURI:l,tpURI:u,msgOnNotSelected:d,toTopLayer:S,onAbout:A,loadFn:v,onLoad:f,onShow:V,onClose:W}=e,[E,D]=(0,r.J0)(),[H,Q,U]=c(),[F,O,N,q,X,_,k]=(0,i.A)({onAbout:A,onClose:W,toggleInputs:Q}),[J,B]=(0,s.A)(!0),[G,$]=(0,s.A)(!1),[z,Y]=(0,s.A)(!0),[Z,K]=(0,s.A)(!1),ee=(0,r.li)(),oe=(0,r.li)(),te=(0,r.li)(),[re,ae]=(0,n.A)(),[le,se]=(0,n.A)(),[ne,ie]=(0,n.A)(),[ce,pe]=(0,n.A)(R),[he,ue]=(0,n.A)(),de=(0,r.hb)((()=>{const o=(0,r.ZC)(oe),{msg:t=[]}=o.getValidation(),a=ae()||b,l=a.v,s=ie(),n=s&&s.v,i=ue()||C;if("all"===l&&"all"===n&&t.push("Query All to All is too complex"),"all"===l&&"M"===i.v&&t.push("Query All Monthly is too complex"),0===t.length){const{one:t,two:l}=o.getValues();f(v(e,{...(0,r.y5)(te),one:a,two:t,three:l,tradeFlow:se()||x,tradePartner:s,freq:i,chType:E,time:pe().value,tradePartners:(0,r.UU)(ee)}))}_(t)}),[E]),Se=Z&&(0,h.yj)(E);return(0,w.jsxs)(p.A.DraggableDialog,{isShow:o,caption:t,menuModel:N,toTopLayer:S,onLoad:de,onShow:V,onClose:k,children:[(0,w.jsx)(p.A.Toolbar,{isShow:F,buttons:q}),(0,w.jsx)(g,{isShow:H,configs:[["Partner",G,$],["Heading",J,B],["Trade Flow",z,Y],["Chart",Z,K]],onClose:U}),(0,w.jsx)(p.A.SelectWithLoad,{isShow:o,isShowLabels:O,uri:a,caption:"Reporter",placeholder:j,onSelect:re}),(0,w.jsx)(p.A.ShowHide,{isShow:G,children:(0,w.jsx)(p.A.SelectWithLoad,{refEl:ee,isShowLabels:O,uri:u,caption:"Partner",placeholder:"Default: World",onSelect:ne})}),(0,w.jsx)(p.A.ShowHide,{isShow:J,children:(0,w.jsx)(p.A.SelectOneTwo,{refEl:oe,isShow:o,isShowLabels:O,uri:l,oneCaption:"Heading",twoCaption:"Subheading",msgOnNotSelected:d})}),(0,w.jsx)(p.A.ShowHide,{isShow:z,children:(0,w.jsx)(p.A.RowInputSelect,{isShowLabels:O,caption:"Trade Flow",placeholder:y,propCaption:"c",options:m,onSelect:le})}),(0,w.jsx)(p.A.ShowHide,{isShow:!1,children:(0,w.jsx)(p.A.RowInputSelect,{isShowLabels:O,caption:"Frequency",placeholder:T,propCaption:"c",options:L})}),(0,w.jsx)(p.A.RowChartDate,{isShowChart:Z,isShowDate:Se,refSeriaColor:te,chartType:E,isShowLabels:O,chartOptions:I,onSelectChart:D,dateDefault:P,dateOptions:M,onSelectDate:ce}),(0,w.jsx)(p.A.ValidationMessages,{validationMessages:X})]})})),W=[{c:"TreeMap (60, 90)",v:"TREE_MAP"},{c:"Bar (60, 90)",v:"BAR"}],E=[...W,{c:"Spline",v:"SPLINE"}],[D,H]=v(W),Q=(e,o)=>"0"===e.v&&"TOTAL"===o.v?E:W,U=(e,o)=>{const[t,a]=(0,n.A)(D,D),[l,s]=(0,r.J0)(!0),i=(0,r.hb)((e=>{t(e),s((()=>(e=>!(e&&"SPLINE"===e.v))(e)))}),[]),[c,p]=(0,r.J0)(!0),[h,u]=(0,r.J0)((()=>Q(e(),o()))),d=(0,r.hb)((()=>{const r=e(),a=o();var l;p((l=a,!("0"!==r.v&&"TOTAL"===l.v))),u((e=>{const o=Q(r,a);return o!==e&&(t(D),s(!0)),o}))}),[]);return[H,c,l,d,i,a,h]},F=[{c:"Total of trade partner",v:"TOTAL"},{c:"All 2-digit HS commodities",v:"AG2"}],[O,N]=v(F),q=(()=>{const e=[];for(let o=0;o<23;o++){const t=""+(2023-o);e.push({c:t,v:t})}return e})(),[X,_]=v(q,1),k=[{c:"Export Value",v:{rg:"X",measure:"primaryValue"}},{c:"Calculated Export Value by Reporter Imports",v:{rg:"M",measure:"primaryValue",tfType:"t1"}},{c:"Import Value",v:{rg:"M",measure:"primaryValue"}},{c:"Calculated Import Value by Reporter Exports",v:{rg:"M",measure:"primaryValue",tfType:"t1"}}],[J,B]=v(k),[G={c:"World",v:"0"},$]=v([{c:"World",v:"0"}]),z={c:"Annual",v:"A"},Y=(0,l.A)((e=>{const{isShow:o,caption:t,oneURI:a,tpURI:l,msgOnNotSelected:h,toTopLayer:u,onAbout:d,loadFn:S,onLoad:A,onShow:v,onClose:m}=e,x=(0,r.li)(),[y,b,j]=c(),[L,C,T,f,I,M,P]=(0,i.A)({onAbout:d,onClose:m,toggleInputs:b}),[R,V]=(0,s.A)(!0),[W,E]=(0,s.A)(),[D,H]=(0,n.A)(),[Q,Y]=(0,n.A)(G,G),[Z,K]=(0,n.A)(O,O),[ee,oe,te,re,ae,le,se]=U(Y,K),[ne,ie]=(0,n.A)(J,J),[ce,pe]=(0,n.A)(X,X),he=(0,r.hb)((e=>{Q(e),re()}),[]),ue=(0,r.hb)((e=>{Z(e),re()}),[]),de=(0,r.hb)((()=>{const o=H(),t=Y(),a=ie(),l=K(),s=le(),n=[];var i;o||n.push(h("Reporter")),(o&&"all"===o.v||(i=l,"all"===t.v&&"total"!==i.v))&&n.push("Query All is too complex"),o&&"0"===o.v&&"AG2"===l.v&&n.push("Query World by AG2 is too complex"),"t1"!==a.v.tfType||"0"===t.v&&"SPLINE"!==s.v||n.push("Query trade flow calculated values is only for category charts of trade partner World"),0===n.length&&A(S(e,{one:o,three:l,tradeFlow:a,tradePartner:t,period:pe(),chart:s,freq:z,tradePartners:(0,r.UU)(x)})),M(n)}),[]);return(0,w.jsxs)(p.A.DraggableDialog,{isShow:o,caption:t,menuModel:T,toTopLayer:u,onLoad:de,onShow:v,onClose:P,children:[(0,w.jsx)(p.A.Toolbar,{isShow:L,buttons:f}),(0,w.jsx)(g,{isShow:y,configs:[["Trade Flow",R,V],["Partner",W,E]],onClose:j}),(0,w.jsx)(p.A.SelectWithLoad,{isShow:o,isShowLabels:C,uri:a,caption:"Reporter",onSelect:D}),(0,w.jsx)(p.A.ShowHide,{isShow:R,children:(0,w.jsx)(p.A.RowInputSelect,{isShowLabels:C,caption:"Trade Flow",placeholder:B,propCaption:"c",options:k,onSelect:ne})}),(0,w.jsx)(p.A.ShowHide,{isShow:W,children:(0,w.jsx)(p.A.SelectWithLoad,{refEl:x,isShowLabels:C,uri:l,caption:"Partner",placeholder:$,onSelect:he})}),(0,w.jsxs)(p.A.ShowHide,{isShow:!0,children:[(0,w.jsx)(p.A.RowInputSelect,{isShowLabels:C,caption:"Aggregation",placeholder:N,propCaption:"c",options:F,onSelect:ue}),(0,w.jsxs)(p.A.ShowHide,{isShow:oe,children:[(0,w.jsx)(p.A.RowInputSelect,{isShowLabels:C,caption:"Chart",placeholder:ee,propCaption:"c",options:se,onSelect:ae}),(0,w.jsx)(p.A.ShowHide,{isShow:te,children:(0,w.jsx)(p.A.RowInputSelect,{isShowLabels:C,caption:"Period",placeholder:_,propCaption:"c",options:q,onSelect:ce})})]})]}),(0,w.jsx)(p.A.ValidationMessages,{validationMessages:I})]})})),Z={UnDialog5:V,UnDialogAgg:Y}}}]);