"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[103],{6366:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Ie});var o=r(4558),n=r(4867),a=r(634),i=r(8801),s=r(4427),l=r(3597);const p=()=>(0,s.BK)(l.VO),d=()=>(0,s.BK)(l.aF),c=e=>(0,s.BK)(l.R0,e),u=(e,t)=>{t.stopPropagation(),(0,i._x)(e)};var g=r(6752),x=r(2336),C=r(8203),I=r(1358),T=r(4848);const y="bt__watch__bar",m={marginBottom:10},v={marginLeft:20},f=e=>{let{isShow:t,onClickGroup:r,onClickList:o}=e;return t?(0,T.jsxs)("div",{style:m,children:[(0,T.jsx)(I.A,{caption:"GROUP",className:y,onClick:r}),(0,T.jsx)(I.A,{caption:"LIST",className:y,style:v,onClick:o})]}):null};var E=r(1315);const h=e=>JSON.parse(e.dataTransfer.getData("text")),D={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"},P="border-bottom",S="border-left";let b,j,k,_;const L=e=>e.currentTarget.style,A=(e,t)=>(e=>`4px solid ${e}`)((e=>-1!==b.indexOf(e))(e)?t||"green":"red"),N=e=>{const t=j.style;L(e).removeProperty(S),t.removeProperty("border"),t.setProperty(P,k)},O=Object.assign,R=e=>{let{event:t,dragId:r,xType:o}=e;O(t.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:r,xType:o}))},w=(e,t)=>(r,o)=>{((e,t)=>{j=e.currentTarget,b=t,k=L(e).getPropertyValue(P)})(o,e),R({event:o,dragId:t(r),xType:e[0]})},M=(e,t)=>r=>{r.preventDefault(),((e,t,r)=>{const o=L(e);_=o.getPropertyValue(S),o.setProperty(S,A(t,r))})(r,e,t)},G=e=>{e.preventDefault()},U=e=>{e.preventDefault(),(e=>{const t=L(e);t.removeProperty(S),t.setProperty(S,_)})(e)},J=(e,t,r,o,n,a,i)=>a?{draggable:!0,onDragStart:(0,E.Jr)(e,i),onDrop:(0,E.Jr)(t,i),onDragEnter:r,onDragOver:o,onDragLeave:n}:void 0,$=e=>{let{caption:t}=e;return`${t};`},K=w([D.GROUP],$),V=M(D.GROUP,D.C_GROUP_ENTER),B=(0,E.Jr)(J,K,((e,t)=>{N(t);const{xType:r,dragId:o}=h(t),n=$(e);if(r===D.GROUP){if(o===n)return;t.preventDefault(),(0,i.Gw)({dragId:o,dropId:n})}else r===D.LIST&&(t.preventDefault(),(0,i.DX)({dragId:o,dropId:n}))}),V,G,U);var H=r(7144),F=r(9073);const W=e=>{let{groupCaption:t,caption:r}=e;return`${t};${r};`},X=w([D.LIST,D.GROUP],W),Z=M(D.LIST,D.C_LIST_ENTER),Y=(0,E.Jr)(J,X,((e,t)=>{N(t);const{xType:r,dragId:o}=h(t),n=W(e);if(r===D.LIST){if(o===n)return;t.preventDefault(),(0,i.DX)({dragId:o,dropId:n})}else r===D.ITEM&&(t.preventDefault(),(0,i.yN)({dragId:o,dropId:n}))}),Z,G,U),q=e=>{let{groupCaption:t,listCaption:r,caption:o}=e;return`${t};${r};${o}`},z=w([D.ITEM,D.LIST],q),Q=M(D.ITEM,D.C_LIST_ENTER),ee=(0,E.Jr)(J,z,((e,t)=>{N(t);const{xType:r,dragId:o}=h(t),n=q(e);if(r===D.ITEM){if(o===n)return;t.preventDefault(),(0,i.yN)({dragId:o,dropId:n})}}),Q,G,U);var te=r(6736),re=r(9355),oe=r(6204);const ne={position:"relative",padding:"5px 40px 5px 0"},ae={width:"100%",maxWidth:250,height:28,verticalAlign:"middle"},ie={top:8},se="Not Found",le=e=>{let{item:t,className:r,onClick:o,onClose:n,isDraggable:a,dndHandlers:i,option:s}=e;const{caption:l=se}=t||{},p=a?(0,T.jsx)(re.P,{style:ie,onClick:(0,E.Jr)(n,s)}):null,d=(0,E.hb)((()=>o(t)),[t]),c=(0,E.hb)((e=>{(0,te.P0)(e)&&d()}),[d]);return(0,T.jsxs)("div",{role:"menuitem",tabIndex:"0",className:r,style:ne,onClick:d,onKeyUp:c,...i,children:[(0,T.jsx)(oe.A,{style:ae,text:l}),p]})},pe=Array.isArray,de=`${o.eA} stroke-black`,ce=e=>{let{isModeEdit:t,items:r,groupCaption:o,listCaption:n}=e;return pe(r)?r.map((e=>{const{caption:r}=e,a={groupCaption:o,listCaption:n,caption:r};return(0,T.jsx)(le,{className:de,item:e,isDraggable:t,option:a,dndHandlers:ee(t,a),onClick:c,onClose:u},r)})):null},ue=e=>{let{isModeEdit:t,groupCaption:r,lists:n}=e;return(0,E.lZ)(n,(e=>{let{caption:n,items:a}=e;return(0,T.jsx)(H.A,{role:"menuitem",style:o.Ke,openColor:F.ui,caption:n,dndHandlers:Y(t,{groupCaption:r,caption:n}),children:(0,T.jsx)(ce,{isModeEdit:t,items:a,groupCaption:r,listCaption:n})},n)}))},ge=e=>{let{isModeEdit:t,groups:r}=e;return(0,E.lZ)(r,(e=>{let{caption:r,lists:o}=e;return(0,T.jsx)(H.A,{role:"menuitem",caption:r,dndHandlers:B(t,{caption:r}),children:(0,T.jsx)(ue,{isModeEdit:t,groupCaption:r,lists:o})},r)}))},xe=(0,o.nV)("scroll-watch"),Ce={position:"relative",top:-6,marginLeft:20},Ie=e=>{const{caption:t,useWatchList:r}=e,[o,s]=(0,n.eY)(),[l,c,u]=(0,a.A)(e),y=r(),{groups:m}=y||{},v=o?"V":"E";return(0,T.jsxs)(g.A,{isShow:l,onKeyDown:u,children:[(0,T.jsxs)(x.A,{caption:t,onClose:c,children:[(0,T.jsx)(I.A,{caption:"S",title:"Save to LocalStorage",style:Ce,onClick:i.vk}),(0,T.jsx)(I.A,{caption:v,title:"Toggle Edit Mode: E/V",style:Ce,onClick:s})]}),(0,T.jsx)(f,{isShow:o,onClickGroup:p,onClickList:d}),(0,T.jsx)(C.A,{className:xe,children:(0,T.jsx)(ge,{isModeEdit:o,groups:m})})]})}}}]);