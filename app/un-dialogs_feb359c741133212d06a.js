"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[538],{7361:(e,o,t)=>{t.r(o),t.d(o,{default:()=>_});var r=t(2009),a=t(4575),l=t(4867),s=t(4250),n=t(3057);const i=()=>{const[e,o]=(0,l.A)(!1),t=(0,r.hb)((()=>{o(!1)}),[o]);return[e,o,t]};var c=t(4682),p=t(972),h=t(6223),u=t(8353),d=t(4848);const A=e=>{let{isShow:o,configs:t,onClose:r}=e;return(0,d.jsx)(p.A,{isShow:o,className:u.ND,style:u.lM,onClose:r,children:(t||[]).map((e=>(0,d.jsx)(h.A,{style:u.v$,color:u.Ic,caption:e[0],value:e[1],onToggle:e[2]},e[0])))})},S=function(e,o){void 0===o&&(o=0);const t=e[o];return[t,(r=t,`Default: ${r.c}`)];var r},g=[{c:"Export Value",v:{rg:"X",measure:"primaryValue"}},{c:"Export Weight",v:{rg:"X",measure:"netWgt"}},{c:"Export Quantity",v:{rg:"X",measure:"qty"}},{c:"Export Average Value Per Weight",v:{rg:"X",measure:"avgPerWeight"}},{c:"Export Average Value Per Quantity",v:{rg:"X",measure:"avgPerQuantity"}},{c:"Import Value",v:{rg:"M",measure:"primaryValue"}},{c:"Import Weight",v:{rg:"M",measure:"netWgt"}},{c:"Import Quantity",v:{rg:"M",measure:"qty"}},{c:"Import Average Value Per Weight",v:{rg:"M",measure:"avgPerWeight"}},{c:"Import Average Value Per Quantity",v:{rg:"M",measure:"avgPerQuantity"}}],[w,v]=S(g),[m={c:"All",v:"all"},x]=S([{c:"All",v:"all"}]),b=[{c:"Annual",v:"A"},{c:"Monthly",v:"M"}],[y,j]=S(b),L=(0,a.A)((e=>{const{isShow:o,caption:t,oneURI:a,twoURI:p,tpURI:h,msgOnNotSelected:u,toTopLayer:S,onAbout:L,loadFn:I,onLoad:C,onShow:T,onClose:f}=e,[M,P,V]=i(),[R,W,E,H,Q,U,D]=(0,n.A)({onAbout:L,onClose:f,toggleInputs:P}),[F,N]=(0,l.A)(!0),[O,X]=(0,l.A)(!1),[q,_]=(0,l.A)(!0),k=(0,r.li)(),G=(0,r.li)(),[J,B]=(0,s.A)(),[$,Z]=(0,s.A)(),[z,K]=(0,s.A)(),[Y,ee]=(0,s.A)(),oe=(0,r.hb)((()=>{const o=(0,r.ZC)(G),{msg:t=[]}=o.getValidation(),a=B()||m,l=a.v,s=K(),n=s&&s.v,i=ee()||y;if("all"===l&&"all"===n&&t.push("Query All to All is too complex"),"all"===l&&"M"===i.v&&t.push("Query All Monthly is too complex"),0===t.length){const{one:t,two:l}=o.getValues();C(I(e,{one:a,two:t,three:l,tradeFlow:Z()||w,tradePartner:s,freq:i,tradePartners:(0,r.UU)(k)}))}U(t)}),[]);return(0,d.jsxs)(c.A.DraggableDialog,{isShow:o,caption:t,menuModel:E,toTopLayer:S,onLoad:oe,onShow:T,onClose:D,children:[(0,d.jsx)(c.A.Toolbar,{isShow:R,buttons:H}),(0,d.jsx)(A,{isShow:M,configs:[["Partner",O,X],["Heading",F,N],["Trade Flow",q,_]],onClose:V}),(0,d.jsx)(c.A.SelectWithLoad,{isShow:o,isShowLabels:W,uri:a,caption:"Reporter",placeholder:x,onSelect:J}),(0,d.jsx)(c.A.ShowHide,{isShow:O,children:(0,d.jsx)(c.A.SelectWithLoad,{ref:k,isShowLabels:W,uri:h,caption:"Partner",placeholder:"Default: World",onSelect:z})}),(0,d.jsx)(c.A.ShowHide,{isShow:F,children:(0,d.jsx)(c.A.SelectOneTwo,{ref:G,isShow:o,isShowLabels:W,uri:p,oneCaption:"Heading",twoCaption:"Subheading",msgOnNotSelected:u})}),(0,d.jsx)(c.A.ShowHide,{isShow:q,children:(0,d.jsx)(c.A.RowInputSelect,{isShowLabels:W,caption:"Trade Flow",placeholder:v,propCaption:"c",options:g,onSelect:$})}),(0,d.jsx)(c.A.ShowHide,{isShow:!1,children:(0,d.jsx)(c.A.RowInputSelect,{isShowLabels:W,caption:"Frequency",placeholder:j,propCaption:"c",options:b})}),(0,d.jsx)(c.A.ValidationMessages,{validationMessages:Q})]})})),I=[{c:"TreeMap (60, 90)",v:"TREE_MAP"},{c:"Bar (60, 90)",v:"BAR"}],C=[...I,{c:"Spline",v:"SPLINE"}],[T,f]=S(I),M=(e,o)=>"0"===e.v&&"TOTAL"===o.v?C:I,P=(e,o)=>{const[t,a]=(0,s.A)(T,T),[l,n]=(0,r.J0)(!0),i=(0,r.hb)((e=>{t(e),n((()=>(e=>!(e&&"SPLINE"===e.v))(e)))}),[]),[c,p]=(0,r.J0)(!0),[h,u]=(0,r.J0)((()=>M(e(),o()))),d=(0,r.hb)((()=>{const r=e(),a=o();var l;p((l=a,!("0"!==r.v&&"TOTAL"===l.v))),u((e=>{const o=M(r,a);return o!==e&&(t(T),n(!0)),o}))}),[]);return[f,c,l,d,i,a,h]},V=[{c:"Total of trade partner",v:"TOTAL"},{c:"All 2-digit HS commodities",v:"AG2"}],[R,W]=S(V),E=(()=>{const e=[];for(let o=0;o<22;o++){const t=""+(2022-o);e.push({c:t,v:t})}return e})(),[H,Q]=S(E,1),U=[{c:"Export Value",v:{rg:"X",measure:"primaryValue"}},{c:"Calculated Export Value by Reporter Imports",v:{rg:"M",measure:"primaryValue",tfType:"t1"}},{c:"Import Value",v:{rg:"M",measure:"primaryValue"}},{c:"Calculated Import Value by Reporter Exports",v:{rg:"M",measure:"primaryValue",tfType:"t1"}}],[D,F]=S(U),[N={c:"World",v:"0"},O]=S([{c:"World",v:"0"}]),X={c:"Annual",v:"A"},q=(0,a.A)((e=>{const{isShow:o,caption:t,oneURI:a,tpURI:p,msgOnNotSelected:h,toTopLayer:u,onAbout:S,loadFn:g,onLoad:w,onShow:v,onClose:m}=e,x=(0,r.li)(),[b,y,j]=i(),[L,I,C,T,f,M,q]=(0,n.A)({onAbout:S,onClose:m,toggleInputs:y}),[_,k]=(0,l.A)(!0),[G,J]=(0,l.A)(),[B,$]=(0,s.A)(),[Z,z]=(0,s.A)(N,N),[K,Y]=(0,s.A)(R,R),[ee,oe,te,re,ae,le,se]=P(z,Y),[ne,ie]=(0,s.A)(D,D),[ce,pe]=(0,s.A)(H,H),he=(0,r.hb)((e=>{Z(e),re()}),[]),ue=(0,r.hb)((e=>{K(e),re()}),[]),de=(0,r.hb)((()=>{const o=$(),t=z(),a=ie(),l=Y(),s=le(),n=[];var i;o||n.push(h("Reporter")),(o&&"all"===o.v||(i=l,"all"===t.v&&"total"!==i.v))&&n.push("Query All is too complex"),o&&"0"===o.v&&"AG2"===l.v&&n.push("Query World by AG2 is too complex"),"t1"!==a.v.tfType||"0"===t.v&&"SPLINE"!==s.v||n.push("Query trade flow calculated values is only for category charts of trade partner World"),0===n.length&&w(g(e,{one:o,three:l,tradeFlow:a,tradePartner:t,period:pe(),chart:s,freq:X,tradePartners:(0,r.UU)(x)})),M(n)}),[]);return(0,d.jsxs)(c.A.DraggableDialog,{isShow:o,caption:t,menuModel:C,toTopLayer:u,onLoad:de,onShow:v,onClose:q,children:[(0,d.jsx)(c.A.Toolbar,{isShow:L,buttons:T}),(0,d.jsx)(A,{isShow:b,configs:[["Trade Flow",_,k],["Partner",G,J]],onClose:j}),(0,d.jsx)(c.A.SelectWithLoad,{isShow:o,isShowLabels:I,uri:a,caption:"Reporter",onSelect:B}),(0,d.jsx)(c.A.ShowHide,{isShow:_,children:(0,d.jsx)(c.A.RowInputSelect,{isShowLabels:I,caption:"Trade Flow",placeholder:F,propCaption:"c",options:U,onSelect:ne})}),(0,d.jsx)(c.A.ShowHide,{isShow:G,children:(0,d.jsx)(c.A.SelectWithLoad,{ref:x,isShowLabels:I,uri:p,caption:"Partner",placeholder:O,onSelect:he})}),(0,d.jsxs)(c.A.ShowHide,{isShow:!0,children:[(0,d.jsx)(c.A.RowInputSelect,{isShowLabels:I,caption:"Aggregation",placeholder:W,propCaption:"c",options:V,onSelect:ue}),(0,d.jsxs)(c.A.ShowHide,{isShow:oe,children:[(0,d.jsx)(c.A.RowInputSelect,{isShowLabels:I,caption:"Chart",placeholder:ee,propCaption:"c",options:se,onSelect:ae}),(0,d.jsx)(c.A.ShowHide,{isShow:te,children:(0,d.jsx)(c.A.RowInputSelect,{isShowLabels:I,caption:"Period",placeholder:Q,propCaption:"c",options:E,onSelect:ce})})]})]}),(0,d.jsx)(c.A.ValidationMessages,{validationMessages:f})]})})),_={UnDialog5:L,UnDialogAgg:q}}}]);