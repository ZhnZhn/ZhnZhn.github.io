"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[78],{7864:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Xe});var a=o(4031),r=o(784),n=o(9550),i=o(7294);const s=(e,t)=>{const{_itemKey:o,itemCaption:a}=t,{id:r,dataSource:s}=e,l=o||r,d=((e,t)=>{let{data:o}=e;const{_itemKey:a,dfFn:r,dfSubId:i,items:s,dataSource:l}=t;return"EOD"===r?{_itemKey:a,...(0,n.B0)(t),...(0,n.TU)(o),items:[...s||[]],dfFn:r,dfSubId:i,dataSource:l}:void 0})(e,t);return{id:l,key:l,itemCaption:a,itemConf:d,legend:(0,i.$)(),dataSource:s||"Alpha Vantage"}},l=(e,t)=>({zhConfig:s(e,t),valueMoving:(0,r.Y1)(e.data)}),d=(e,t)=>`${(0,a.kV)(e)}&symbol=${t}`,c=e=>{const{items:t,itemCaption:o,dfFn:a}=e,n=(0,r._W)(t[0]);return(0,r.kp)(e,{itemCaption:o.replace((0,r.Ps)(t[0]),n),dfItem:(0,r._W)(t[1]),dfPeriod:(0,r._W)(t[2])}),d(a,n)},p=e=>t=>{const{items:o}=t,n=(0,r._W)(o[0]);return`${(0,a.kV)(e)}&symbol=${n}`},u=(0,r.vL)({CR:e=>{const{items:t}=e,o=(0,r._W)(t[0]),n=(0,r._W)(t[1]);return(0,r.kp)(e,{itemCaption:`${o}/${n}`}),`${(0,a.kV)("DIGITAL_CURRENCY_DAILY")}&symbol=${o}&market=${n}`},EOD:e=>{const{items:t}=e,[o,a]=t,[n,i]=(0,r.a3)(o),[s,l]=(0,r.a3)(a),[c,p]=(e=>{const t=(e.split("&")[0]||"").replace("TIME_SERIES_",""),o=t.split("_").map((e=>(0,r.Ob)(e.toLowerCase()))).join(" ");return[t,o]})(s);return(0,r.kp)(e,{itemCaption:n,ticket:n,title:i,subtitle:l,dfT:c,interval:p}),d(s,n)},GL:()=>(0,a.kV)("TOP_GAINERS_LOSERS"),TIME_SERIES_INTRADAY:e=>{const{dfFn:t,items:o}=e,a=(0,r._W)(o[0]),n=(0,r._W)(o[1]),i=`${a} (${n})`;return(0,r.kp)(e,{ticket:a,interval:n,title:i,itemCaption:i}),`${d(t,a)}&interval=${n}`},INCOME_STATEMENT:c,BALANCE_SHEET:c,CASH_FLOW:c,EARNINGS:e=>{const{items:t,dfFn:o}=e,a=(0,r._W)(t[0]);return(0,r.kp)(e,{itemCaption:a,dfPeriod:(0,r._W)(t[1])}),d(o,a)},ETF_PROFILE:p("ETF_PROFILE"),OVERVIEW:p("OVERVIEW")},(e=>{let{ticket:t="MSFT",period:o=50,indicator:a="SMA"}=e;return`${d(a,t)}&interval=daily&time_period=${o}&series_type=close`})),h=(0,a.Ec)((e=>u(e.dfFn)));var m=o(9026),A=o(9270),y=o(4999),g=o(5248);const S=501,f="MACD",$="MACD_Signal",C="MACD_Hist",b="SlowK",v="SlowD",_="Real Upper Band",T="Real Middle Band",w="Real Lower Band",E={color:(0,r.Jq)()},D={color:"#f44336"},k={color:"rgb(47, 126, 216)"},I={color:"#4caf50"},L=e=>"AD"===e?"Chaikin A/D":e,F=(e,t)=>{const{indicator:o,forDays:a=S}=t,r=e[`Technical Analysis: ${L(o)}`],n=r?Object.keys(r).sort().reverse():[],i=n.length;return{value:r,dateKeys:n,max:i<a?i-1:a}},x=(e,t)=>{let o,a,n,i,s,{dateKeys:l,value:d,max:c}=e;const p=[],u=t.length;for(a=0;a<u;a++)p.push([]);for(o=c;o>-1;o--)for(n=l[o],i=(0,r.cY)(n),s=d[n],a=0;a<u;a++)p[a].push([i,parseFloat(s[t[a]])]);return p},M=(e,t)=>{let{data:o,name:a}=e;return(0,r.kp)((0,g.wo)(),{data:o,name:a,type:"spline",visible:!0,marker:{symbol:"circle"}},t)},R=(0,r.vL)({[f]:(e,t)=>{const o=x(F(e,t),[f,$,C]),a=M({data:o[0],name:f},E()),n=M({data:o[1],name:$},D);return[(0,r.kp)((0,g.wo)(),{color:"rgba(47, 126, 216, 0.75)",data:o[2],name:C,type:"column",visible:!1,shadow:!1,borderWidth:0,pointPlacement:"on",pointPadding:0,groupPadding:0,turboThreshold:2e4}),n,a]},STOCH:(e,t)=>{const o=x(F(e,t),[b,v]);return[M({data:o[0],name:b},k),M({data:o[1],name:v},D)]},BBANDS:(e,t)=>{const o=x(F(e,t),[T,_,w]);return[M({data:o[0],name:T},k),M({data:o[1],name:_},I),M({data:o[2],name:w},D)]}},((e,t)=>{const{indicator:o}=t,a=((e,t)=>{const{indicator:o}=t,a=L(o),{value:n,dateKeys:i,max:s}=F(e,t),l=[];let d,c,p=s;for(;p>-1;p--)d=i[p],c=parseFloat(n[d][a]),l.push([(0,r.cY)(d),c]);return l})(e,t);return M({data:a,name:o})})),P=(e,t)=>R(t.indicator)(e,t),O={crKey:e=>e.chartId=`${e.ticket}-${e.value}`,toConfig(e,t){return{config:(0,A.A)((0,y.Fh)(`${t.ticket}: ${t.value}`),(0,y.$J)(P(e,t)),(0,y.YT)({zhConfig:(o=t.chartId,{id:o,key:o,itemCaption:o,dataSource:"Alpha Vantage"})}),y.qP),isDrawDeltaExtrems:!1,isNotZoomToMinMax:!1};var o},toSeries:P};var N=o(5153),W=o(5355);const j=(e,t)=>({y:0,exValue:.5,marker:{symbol:"circle",fillColor:e,lineColor:e,radius:6,states:{hover:{enable:!0,fillColor:W.ud,lineColor:e,lineWidth:2,radius:6}}},dataLabels:{enabled:!0,inside:!0,color:e,style:{fill:e,stroke:e,color:e,fontSize:"12px",fontWeight:"normal",textShadow:"none",textOutline:"0px transparent"},crop:!1,overflow:"none",y:32,formatter:function(){return this.point[t]}}});var V=o(353);const Y=e=>{const t=(0,r.QD)(e,"09:30:00")?"#90ed7d":(0,r.QD)(e,"16:00:00")?"#f7a35c":"";return t?{marker:{radius:3,enabled:!0,fillColor:o=t},color:o}:void 0;var o},K=Object.keys,B=(e,t,o)=>{const a=o["7. dividend amount"],r=a&&parseFloat(a);r&&e.push({...j(W.U,"exValue"),x:t,exValue:r,price:parseFloat(o["5. adjusted close"])})},G="Time Series",H=e=>{let{interval:t}=e;return"Daily Adjusted"===t?`${G} (Daily)`:(o=t,(0,r.QD)(o,"Weekly")||(0,r.QD)(o,"Monthly")?`${t} ${G}`:`${G} (${t})`);var o},q=(e,t)=>{const o=((e,t)=>e[H(t)])(e,t),a=o?K(o).sort():[],n=[],i=[],s=[],l=[],d=[],c=[],p=[],{notFilterZero:u,isDividend:h,toUTC:m,pnClose:A,pnVolume:y}=(e=>{let{isFilterZero:t,dfT:o}=e;const a=(0,r.QD)(o,"ADJUSTED");return{notFilterZero:!t,isDividend:a,toUTC:r.CA,pnClose:a?"5. adjusted close":"4. close",pnVolume:a?"6. volume":"5. volume"}})(t);let g,S,f,$,C,b,v,_,T,w=0,E=a.length,D=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY;for(;w<E;w++)S=a[w],f=o[S],v=parseFloat(f["4. close"]),_=parseFloat(f[A]),(u||(I=_,0!==v&&0!==I))&&($=parseFloat(f["1. open"]),C=parseFloat(f["2. high"]),b=parseFloat(f["3. low"]),T=parseFloat(f[y]),g=m(S),n.push({x:g,y:_,...Y(S)}),i.push([g,C]),s.push([g,b]),l.push([g,$]),p.push([g,T]),c.push((0,V._)({open:$,close:v,volume:T,date:g,option:{_high:C,_low:b}})),h&&B(d,g,f),D>_&&(D=_),k<_&&(k=_));var I;return{dC:n,dH:i,dL:s,dO:l,dDividend:d,minClose:D,maxClose:k,dVc:c,dV:p}},U={crKey:r.as,toConfig(e,t){const{_itemKey:o,title:a,subtitle:r,dataSource:n}=t,i=q(e,t),{dC:s,minClose:d,maxClose:c,dDividend:p}=i;return{config:(0,A.A)((0,N.Ux)(o,{...t,...i}),(0,y.Kl)(a,r),(0,y.YT)(l({id:o,data:s,dataSource:n},t)),(0,N.p3)(p,d,c),y.qP)}},toSeries:(e,t)=>(0,y.j7)({adapter:U,type:"line",json:e,option:t})},Q=U,z={crUrl:(e,t)=>{let{apiKey:o=""}=t;return`https://www.alphavantage.co/query/search?function=SYMBOL_SEARCH&keywords=${e}&apikey=${o}`},crOptions:e=>{if(!e||!Array.isArray(e.bestMatches))throw new Error("Response format is not valid");return e.bestMatches.map((e=>({value:e["1. symbol"],name:e["2. name"],type:e["3. type"],region:e["4. region"],currency:e["8. currency"]})))}};var Z=o(9876);const J=(e,t)=>{let{dfItem:o,dfPeriod:r}=t;return(0,a.e)(o,"fiscalDateEnding","10")(e["A"===r?"annualReports":"quarterlyReports"])};let X;const ee=()=>X||(X=(0,Z.e$)({crData:J})),te=(0,a.e)("reportedEPS","fiscalDateEnding","round"),oe=(e,t)=>{const{dfPeriod:o}=t;return te(e["A"===o?"annualEarnings":"quarterlyEarnings"])};let ae;const re=()=>ae||(ae=(0,Z.e$)({crData:oe}));var ne=o(4668);const ie="alp_perf",se={paddingTop:6},le=(e,t,o)=>({...o,name:e,pn:t}),de=[le("Ticker","id"),le("Price","p"),le("1d Amount","cha",{isHide:!0}),le("1d %","chp",{isR:!0}),le("Volume","v",{isF:!0,style:{fontWeight:"bold"}})],ce=(e,t,o)=>({...(0,ne.wC)(e,t,[...de],o,"Alpha Vantage"),dsStyle:se}),pe=e=>(0,r.W7)(parseFloat(e),2),ue=e=>(0,r.Ep)(e)?e.map((e=>({id:e.ticker,p:pe(e.price),cha:pe(e.change_amount),chp:pe((e.change_percentage||"").replace("%")),v:parseInt(e.volume,10)}))):[],he={crKey:()=>ie,toConfig(e,t){const o=ie,a=e.last_updated||"",[r,n,i]=(e=>[ue(e.top_gainers),ue(e.top_losers),ue(e.most_actively_traded)])(e);return{config:{id:o,zhCompType:"ALPHA_PERF",zhConfig:{id:o,key:o},g:ce(`${o}_g`,`Gainers ${a}`,r),l:ce(`${o}_l`,`Losers ${a}`,n),m:ce(`${o}_m`,`Most Active Traded ${a}`,i)}}}};var me=o(3851),Ae=o(6327),ye=o(8849);const ge=(e,t)=>(e||{})[t]||"n/a",Se=(0,me.A)(((e,t)=>{const{holdings:o,asset_allocation:a}=e||{},n=(o||{}).map((e=>(0,Ae.eb)(parseFloat(e.weight),e.symbol)),[]);return(0,r.Co)(a).forEach((e=>{if("domestic_equities"!==e){const t=parseFloat(a[e]);(0,r.F5)(t)&&n.push((0,Ae.eb)(t,"foreign_equities"===e?"For. Eq.":(0,r.Ob)(e)))}})),t.subtitle=`${t.itemCaption}, Net Expense Ratio ${ge(e,"net_expense_ratio")}`,t.title=`Portfolio Turnover ${ge(e,"portfolio_turnover")}, Dividend Yield ${ge(e,"dividend_yield")}`,(0,ye._u)(n)}),((e,t)=>{let{itemCaption:o}=e;return`${(0,r.hE)(o)} ${(0,r.jq)(ge(t,"net_assets"),"")}`}));var fe=o(7222);const $e={lineHeight:1.5,fontWeight:"bold"},Ce="Analyst",be=Ce+"Rating",ve=(e,t)=>t[e]||"",_e=(e,t,o)=>`${e} ${o[t+e]}`,Te=(e,t)=>`${e} ${(0,r.jq)(t[e])}`,we=e=>[`${Te("RevenueTTM",e)}`,`${Te("RevenuePerShareTTM",e)}`,`${Te("EBITDA",e)}`,`${Te("EPS",e)}`,`${Te("DilutedEPSTTM",e)}`,`Q RevenueGrowthYOY ${ve("QuarterlyRevenueGrowthYOY",e)}`,`Q EarningsGrowthYOY ${ve("QuarterlyEarningsGrowthYOY",e)}`],Ee=e=>[`${_e("StrongBuy",be,e)}`,`${_e("Buy",be,e)}`,`${_e("Hold",be,e)}`,`${_e("Sell",be,e)}`,`${_e("StrongSell",be,e)}`],De=e=>[`50D MA ${e("50DayMovingAverage")}`,`200D MA ${e("200DayMovingAverage")}`,`52W Low ${e("52WeekLow")}`,`52W High ${e("52WeekHigh")}`],ke=(e,t)=>({caption:e,tokens:t}),Ie={toConfig(e,t){const o=t._itemKey,a=(e=>t=>ve(t,e))(e);return{config:{zhCompType:fe.eB,id:o,caption:`${a("Symbol")} ${a("CIK")} ${a("Country")} ${a("Currency")} ${a("AssetType")}`,items:[{caption:`${a("Sector")}, ${a("Industry")}`,style:$e,descr:a("Description"),links:[{href:a("OfficialSite")}]},ke(`${Te("SharesOutstanding",e)}, ${a("LatestQuarter")}`,we(e)),ke(`${Te("MarketCapitalization",e)}`,De(a)),ke(`Analyst ${_e("TargetPrice",Ce,e)}, Beta ${a("Beta")}`,Ee(e))],zhConfig:{key:o,id:o}}}}},Le={api:h,adapter:(0,m.GT)({rAdapter:{DF:O,I:Q,SR:z,F:ee,E:re,GL:he,EP:Se,OV:Ie},isKey:!0})};var Fe=o(2009),xe=o(4575),Me=o(4867),Re=o(6134),Pe=o(4250),Oe=o(3941),Ne=o(2569),We=o(5668),je=o(4848);const Ve=Number.isNaN,Ye=e=>""===(e+"").trim(),Ke=e=>!Ye(e),Be=(e,t)=>o=>{if(Ye(o))return!0;const a=parseInt((o+"").trim(),10);return!Ve(a)&&a>e&&a<t},Ge=Be(0,201),He=Be(250,2500),qe=(e,t)=>{switch(e){case"MACD":return"MACD(12, 24, 9)";case"STOCH":return"STOCH(5, 3, 3, SMA)";default:return`${e} (${t})`}},Ue=(0,xe.A)((e=>{let{isShow:t,caption:o,oneURI:a,oneJsonProp:r,oneCaption:n,toTopLayer:i,onAbout:s,loadId:l,onLoad:d,onShow:c,onClose:p}=e;const[u,h]=(0,Oe.A)(s),[m,A]=(0,Me.A)(),[y,g]=(0,Me.A)(!0),S=(0,Ne.A)({toggleLabels:g,toggleOptions:A,onAbout:s}),f=(0,Fe.li)(),$=(0,Fe.li)(),C=(0,Fe.li)(),[b,v,_]=(0,Re.A)(!1),[T,w]=(0,Pe.A)(),E=(0,Fe.hb)((()=>{const e=(0,Fe.Ek)($)||30,t=(0,Fe.Ek)(C)||501,o=(0,Fe.Ek)(f),a=(w()||{}).value||"SMA";d({loadId:l,indicator:a,ticket:o,period:e,forDays:t,value:qe(a,e),hasSecondYAxis:(0,Fe.ZC)(b)})}),[]);return(0,je.jsxs)(We.A.DraggableDialog,{isShow:t,caption:o,menuModel:h,toTopLayer:i,onLoad:E,onShow:c,onClose:p,children:[(0,je.jsx)(We.A.Toolbar,{isShow:u,buttons:S}),(0,je.jsx)(We.A.RowPattern,{refEl:f,isShowLabels:y,caption:"Stock",placeholder:"Nyse or Nasdaq Symbol",onTest:Ke,errorMsg:"Not Empty"}),(0,je.jsx)(We.A.SelectWithLoad,{isShow:t,isShowLabels:y,uri:a,jsonProp:r,caption:n,optionNames:"Items",placeholder:"Default: SMA (30)",onSelect:T}),(0,je.jsxs)(We.A.ShowHide,{isShow:m,children:[(0,je.jsx)(We.A.RowPattern,{ref:$,isShowLabels:y,caption:"Period",placeholder:"Default: 30",onTest:Ge,errorMsg:"Number in range 1-200"}),(0,je.jsx)(We.A.RowPattern,{ref:C,isShowLabels:y,caption:"For Days",placeholder:"Default: 501 (2 Years)",onTest:He,errorMsg:"Number in range 250-2500"})]}),(0,je.jsx)(We.A.RowCheckBox1,{caption:"Add Seria with Second YAxis",onCheck:v,onUnCheck:_})]})})),Qe={width:310},ze={paddingRight:16},Ze=(0,xe.A)((e=>{let{isShow:t,caption:o,toTopLayer:a,onAbout:r,loadId:n,onLoad:i,onShow:s,onClose:l}=e;const[d,c]=(0,Oe.A)(r),p=(0,Ne.A)({onAbout:r}),u=(0,Fe.hb)((()=>{i({loadId:n,dfSubId:"GL",dfFn:"GL"})}),[]);return(0,je.jsxs)(We.A.DraggableDialog,{isShow:t,style:Qe,caption:o,menuModel:c,toTopLayer:a,onLoad:u,onShow:s,onClose:l,children:[(0,je.jsx)(We.A.Toolbar,{isShow:d,buttons:p}),(0,je.jsx)(We.A.RowText,{style:ze,caption:"AV:",text:"Top Gainers & Losers"})]})}));var Je=o(6984);const Xe={_a:Le,Indicator:Ue,Top:Ze,Search:(0,xe.A)((e=>{let{isShow:t,caption:o,getKey:a,loadId:r,toTopLayer:n,onAbout:i,onError:s,onClose:l}=e;const[d,c]=(0,Oe.A)(i),[p,u]=(0,Me.A)(!0),h=(0,Ne.A)({toggleLabels:u,onAbout:i}),m=(0,Je.A)((()=>({...z,onError:s,crUrlOptions:()=>{const e=a(r);if(e)return{apiKey:e};s("API key from Alpha Vantage is required","Without API Key")}})));return(0,je.jsxs)(We.A.DraggableDialog,{isShow:t,caption:o,menuModel:c,toTopLayer:n,onClose:l,children:[(0,je.jsx)(We.A.Toolbar,{isShow:d,buttons:h}),(0,je.jsx)(We.A.RowInputSearch,{isShowLabels:p,caption:"Token",searchApi:m})]})}))}}}]);