"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[103],{6366:(e,t,r)=>{r.d(t,{default:()=>Ce});var o=r(1315),n=r(4558),s=r(4867),a=r(634),i=r(8801),l=r(4427),p=r(3597);const d=()=>(0,l.BK)(p.VO),c=()=>(0,l.BK)(p.aF),g=e=>(0,l.BK)(p.R0,e),u=(e,t)=>{t.stopPropagation(),(0,i._x)(e)};var x=r(6752),T=r(2336),I=r(761),C=r(8203),f=r(1358),v=r(4848);const y="bt__watch__bar",E={margin:"4px 0"},m={marginLeft:15},_=e=>{let{isShow:t,onClickGroup:r,onClickList:o}=e;return t?(0,v.jsxs)("div",{style:E,children:[(0,v.jsx)(f.A,{caption:"GROUP",className:y,onClick:r}),(0,v.jsx)(f.A,{caption:"LIST",className:y,style:m,onClick:o})]}):null};var j=r(7599);const h=e=>JSON.parse(e.dataTransfer.getData("text")),D={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"},S="border-bottom",b="border-left";let P,O,L,k;const N=e=>e.currentTarget.style,M=(e,t)=>(e=>"4px solid "+e)((e=>-1!==P.indexOf(e))(e)?t||"green":"red"),R=e=>{const t=O.style;N(e).removeProperty(b),t.removeProperty("border"),t.setProperty(S,L)},A=Object.assign,w=e=>{let{event:t,dragId:r,xType:o}=e;A(t.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:r,xType:o}))},G=(e,t)=>(r,o)=>{((e,t)=>{O=e.currentTarget,P=t,L=N(e).getPropertyValue(S)})(o,e),w({event:o,dragId:t(r),xType:e[0]})},U=(e,t)=>r=>{r.preventDefault(),((e,t,r)=>{const o=N(e);k=o.getPropertyValue(b),o.setProperty(b,M(t,r))})(r,e,t)},J=e=>{e.preventDefault()},K=e=>{e.preventDefault(),(e=>{const t=N(e);t.removeProperty(b),t.setProperty(b,k)})(e)},V=(e,t,r,n,s,a,i)=>a?{draggable:!0,onDragStart:(0,o.Jr)(e,i),onDrop:(0,o.Jr)(t,i),onDragEnter:r,onDragOver:n,onDragLeave:s}:void 0,H=e=>{let{caption:t}=e;return t+";"},B=G([D.GROUP],H),F=U(D.GROUP,D.C_GROUP_ENTER),W=(0,o.Jr)(V,B,((e,t)=>{R(t);const{xType:r,dragId:o}=h(t),n=H(e);if(r===D.GROUP){if(o===n)return;t.preventDefault(),(0,i.Gw)({dragId:o,dropId:n})}else r===D.LIST&&(t.preventDefault(),(0,i.DX)({dragId:o,dropId:n}))}),F,J,K);var X=r(7144),Z=r(9073);const Y=e=>{let{groupCaption:t,caption:r}=e;return t+";"+r+";"},q=G([D.LIST,D.GROUP],Y),z=U(D.LIST,D.C_LIST_ENTER),Q=(0,o.Jr)(V,q,((e,t)=>{R(t);const{xType:r,dragId:o}=h(t),n=Y(e);if(r===D.LIST){if(o===n)return;t.preventDefault(),(0,i.DX)({dragId:o,dropId:n})}else r===D.ITEM&&(t.preventDefault(),(0,i.yN)({dragId:o,dropId:n}))}),z,J,K),$=e=>{let{groupCaption:t,listCaption:r,caption:o}=e;return t+";"+r+";"+o},ee=G([D.ITEM,D.LIST],$),te=U(D.ITEM,D.C_LIST_ENTER),re=(0,o.Jr)(V,ee,((e,t)=>{R(t);const{xType:r,dragId:o}=h(t),n=$(e);if(r===D.ITEM){if(o===n)return;t.preventDefault(),(0,i.yN)({dragId:o,dropId:n})}}),te,J,K);var oe=r(7118),ne=r(6204);const se={position:"relative",padding:"5px 40px 5px 0"},ae={width:"100%",maxWidth:250,height:28,verticalAlign:"middle"},ie={top:8},le="Not Found",pe=e=>{let{item:t,className:r,onClick:n,onClose:s,isDraggable:a,dndHandlers:i,option:l}=e;const{caption:p=le}=t||{},d=a?(0,v.jsx)(oe.P,{style:ie,onClick:(0,o.Jr)(s,l)}):null;return(0,v.jsxs)("div",Object.assign({},(0,j._s)((()=>n(t)),"0",!0),{className:r,style:se},i,{children:[(0,v.jsx)(ne.A,{style:ae,text:p}),d]}))},de=Array.isArray,ce=n.eA+" stroke-black",ge=e=>{let{isModeEdit:t,items:r,groupCaption:o,listCaption:n}=e;return de(r)?r.map((e=>{const{caption:r}=e,s={groupCaption:o,listCaption:n,caption:r};return(0,v.jsx)(pe,{className:ce,item:e,isDraggable:t,option:s,dndHandlers:re(t,s),onClick:g,onClose:u},r)})):null},ue=e=>{let{isModeEdit:t,groupCaption:r,lists:s}=e;return(0,o.lZ)(s,(e=>{let{caption:o,items:s}=e;return(0,v.jsx)(X.A,Object.assign({},(0,j._s)(),{style:n.Ke,openColor:Z.ui,caption:o,dndHandlers:Q(t,{groupCaption:r,caption:o}),children:(0,v.jsx)(ge,{isModeEdit:t,items:s,groupCaption:r,listCaption:o})}),o)}))},xe=e=>{let{isModeEdit:t,groups:r}=e;return(0,o.lZ)(r,(e=>{let{caption:r,lists:o}=e;return(0,v.jsx)(X.A,Object.assign({},(0,j._s)(),{caption:r,dndHandlers:W(t,{caption:r}),children:(0,v.jsx)(ue,{isModeEdit:t,groupCaption:r,lists:o})}),r)}))},Te=(0,n.nV)("scroll-watch"),Ie={paddingTop:0},Ce=e=>{const{caption:t,useWatchList:r}=e,[n,l,p]=(0,a.A)(e),g=r(),{groups:u}=g||{},[f,y]=(e=>{const[t,r]=(0,s.eY)();return[t,(0,o.Kr)((()=>[(0,I.fM)("S","Save to LocalStorage",e),(0,I.fM)(t?"V":"E","Toggle Edit Mode: E/V",r)]),[t])]})(i.vk);return(0,v.jsxs)(x.A,{isShow:n,onKeyDown:p,children:[(0,v.jsx)(T.A,{caption:t,onClose:l}),(0,v.jsx)(I.ot,{style:Ie,children:y}),(0,v.jsx)(_,{isShow:f,onClickGroup:d,onClickList:c}),(0,v.jsx)(C.A,{className:Te,children:(0,v.jsx)(xe,{isModeEdit:f,groups:u})})]})}}}]);