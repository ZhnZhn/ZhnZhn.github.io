"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[967],{8632:(o,e,t)=>{t.d(e,{N:()=>l,q:()=>r});var a=t(6539),n=t(4848);const i={color:"#607d8b"},s={color:"#232f3b"},l=o=>{let{onClick:e}=o;return(0,n.jsx)(a.A,{style:i,caption:"Load",title:"Load Item to Container",onClick:e})},r=o=>{let{onClick:e}=o;return(0,n.jsx)(a.A,{style:s,caption:"Show",title:"Show Item Container",onClick:e})}},4819:(o,e,t)=>{t.d(e,{A:()=>n});var a=t(2009);const n=(o,e)=>{const t=(0,a.ZC)(o);if(t){const{isValid:o,datesMsg:a}=t.getValidation();o||e.push(a)}}},681:(o,e,t)=>{t.r(e),t.d(e,{default:()=>P});var a=t(2009),n=t(4575),i=t(4867),s=t(6984),l=t(4250),r=t(6072),c=t(3941),d=t(9229),u=t(5286),p=t(4819);const h=(o,e,t)=>{const a=o.reduce(((o,t)=>(t[0]||o.push(e(t[1])),o)),[]);return(0,p.A)(t,a),a};var S=t(6460),m=t(6539),g=t(4682),A=t(8632),w=t(4848);const T={color:"#232f3b"},C="First Load Meta",v="Select...",L="Default Empty",b="Import - Trade (USD)",x="Export - Trade (USD)",F="Re-Import - Trade (USD)",f="Re-Export - Trade (USD)",y=o=>({caption:o,value:o}),D=[{caption:"Default: Empty Filter",value:L},y(b),y("Import - Weight (Kg)"),y(x),y("Export - Weight (Kg)"),y(F),y(f)],j=[{caption:"Default: Area",value:S.mf},{caption:"Semi Donut: Total Top90, On Every Year: Recent 2 Years",value:S.G$},{caption:"Stacked Area: Total Top90, On Recent Year",value:S.SU},{caption:"Stacked Area Percent: Total Top90, On Recent Year",value:S.wy},{caption:"Stacked Column: Total Top90, On Recent Year",value:S.bC},{caption:"Stacked Column Percent: Total Top90, On Recent Year",value:S.X5},{caption:"Tree Map: On Recent Year",value:S.uT}],O=o=>e=>-1!==e.caption.indexOf(o),V=(o,e)=>{let t;if(o&&e){const a=o.value;a!==L&&(t=e.filter(O(a)),a===b&&(t=t.filter(O(F))),a===x&&(t=t.filter(O(f))))}return t||e},R=o=>!o||o.value===S.mf,N="Click to toggle",I={optionTrades:[],placeholderTrade:C,isLoadingTradeFailed:!1,isLoadingTrade:!1},M=(0,n.A)((o=>{const{isShow:e,countryURI:t,countryJsonProp:n,commodityURI:p,commodityJsonProp:L,initFromDate:b,initToDate:x,onTestDate:F,msgOnNotValidFormat:f,msgOnNotSelected:y,dataColumn:O,loadId:M,dataSource:k,toTopLayer:Y,onAbout:E,fnValue:U,onLoad:P,onShow:Z,onClose:J}=o,[W,H]=(0,c.A)(E),[_,K]=(0,i.A)(!0),[q,B]=(0,i.A)(!1),[G,X]=(0,i.A)(!1),[$,z]=(0,i.A)(!1),Q=(0,s.A)((()=>[(0,d.A)("L",N+" input labels",K),(0,d.A)("F",N+" filter input",B),(0,d.A)("D",N+" date input",X),(0,d.A)("C",N+" chart type input",z),(0,d.A)("A","About datasource",E)])),[oo,eo,to]=(0,u.A)(J),[ao,no]=(0,a.J0)(I),{isLoadingTrade:io,isLoadingTradeFailed:so,optionTrades:lo,placeholderTrade:ro}=ao,[co,uo]=(0,a.J0)(!0),po=(0,a.li)(),[ho,So]=(0,l.A)(),[mo,go]=(0,l.A)(),[Ao,wo]=(0,l.A)(),[To,Co]=(0,l.A)(),[vo,Lo]=(0,l.A)(),[bo,xo]=(0,l.A)(),Fo=(0,a.hb)((()=>{To(),vo(),no(I)}),[]),fo=(0,a.hb)((o=>{ho(o),Fo()}),[]),yo=(0,a.hb)((o=>{mo(o),Fo()}),[]),Do=(0,a.hb)((o=>{bo(o);const e=R(o);uo(e),B(!e)}),[]),jo=(0,a.hb)((()=>{const o=So(),e=go(),t=h([[o,"Country"],[e,"Chapter"]],y,po);0===t.length&&(P({...(0,a.ZC)(po).getValues(),loadId:M,isLoadMeta:!0,value:U(e.value,o.value),onLoad:o=>{vo(o),no({optionTrades:V(wo(),Lo()),isLoadingTrade:!1,isLoadingTradeFailed:!1,placeholderTrade:v})},onCancel:()=>no((o=>({...o,isLoadingTrade:!1,isLoadingTradeFailed:!1,placeholderTrade:v}))),onFailed:()=>no((o=>({...o,isLoadingTrade:!1,isLoadingTradeFailed:!0})))}),no((o=>({...o,isLoadingTrade:!0})))),eo(t)}),[]),Oo=(0,r.A)((()=>{const o=[],e=xo(),t=Co(),n=wo();if(R(e)?t||o.push(y("Subheading")):(ro===C&&o.push(C),n||o.push(y("Trade Filter"))),0===o.length){const o=So(),i=go(),s=t?t.value:O,l=e?e.value:S.mf,r=n?o.caption+":"+n.caption:""+o.caption,c=R(e)?void 0:((o,e)=>{const t=o.value.length+2;return e.map((o=>{let{value:e,caption:a}=o;return a=a.substring(0,a.length-t),{caption:a,value:e}}))})(n,lo);P({...(0,a.ZC)(po).getValues(),value:U(i.value,o.value),dataColumn:s,seriaType:l,sliceItems:c,title:r,subtitle:i.caption,loadId:M,dataSource:k})}eo(o)})),Vo=(0,a.Kr)((()=>[(0,w.jsx)(m.A,{style:T,caption:"Load Meta",title:"First Load Meta, then Load Item",onClick:jo},"meta"),(0,w.jsx)(A.N,{onClick:Oo},"load")]),[]);return(0,w.jsxs)(g.A.DraggableDialog,{isShow:e,caption:"United Nations Commodity Trade",menuModel:H,commandButtons:Vo,toTopLayer:Y,onShow:Z,onClose:to,children:[(0,w.jsx)(g.A.Toolbar,{isShow:W,buttons:Q}),(0,w.jsx)(g.A.SelectWithLoad,{isShow:e,isShowLabels:_,uri:t,jsonProp:n,caption:"Country:",optionNames:"Countries",onSelect:fo}),(0,w.jsx)(g.A.SelectWithLoad,{isShow:e,isShowLabels:_,uri:p,jsonProp:L,caption:"Chapter:",optionNames:"Chapters",onSelect:yo}),(0,w.jsx)(g.A.ShowHide,{isShow:q,children:(0,w.jsx)(g.A.RowInputSelect,{isShowLabels:_,caption:"Filter Trade:",options:D,placeholder:"Filter...",onSelect:Ao})}),(0,w.jsx)(g.A.ShowHide,{isShow:co,children:(0,w.jsx)(g.A.RowInputSelect,{isShowLabels:_,caption:"Subheading:",options:lo,optionNames:"Meta",isLoading:io,isLoadingFailed:so,placeholder:ro,onLoadOption:jo,onSelect:To})}),(0,w.jsx)(g.A.ShowHide,{isShow:G,children:(0,w.jsx)(g.A.DatesFragment,{ref:po,isShowLabels:_,initFromDate:b,initToDate:x,msgOnNotValidFormat:f,onTestDate:F})}),(0,w.jsx)(g.A.ShowHide,{isShow:$,children:(0,w.jsx)(g.A.RowInputSelect,{isShowLabels:_,caption:"Chart Type:",options:j,onSelect:Do})}),(0,w.jsx)(g.A.ValidationMessages,{validationMessages:oo})]})}));var k=t(3057);const Y=[{caption:"2021",value:2021},{caption:"2020",value:2020},{caption:"2019",value:2019},{caption:"2018",value:2018},{caption:"2017",value:2017},{caption:"2016",value:2016},{caption:"2015",value:2015},{caption:"2014",value:2014},{caption:"2013",value:2013},{caption:"2012",value:2012}],E=(0,n.A)((o=>{const{isShow:e,isFd:t,caption:n,futuresURI:i,msgOnNotSelected:s,msgOnNotValidFormat:r,initFromDate:c,isYmdOrEmpty:d,errNotYmdOrEmpty:u,toTopLayer:p,onAbout:h,loadFn:S,onLoad:m,onShow:A,onClose:T}=o,[C,v,L,b,x,F,f]=(0,k.A)({onAbout:h,onClose:T}),y=(0,a.li)(),D=(0,a.li)(),[j,O]=(0,l.A)(),V=(0,a.hb)((()=>{const e=[],n=(0,a.ZC)(y),{msg:i=[]}=n.getValidation(),l=O(),c=(0,a.ZC)(D);if(e.push(...i),l||e.push(s("Year")),t&&!c.isValid()&&e.push(r("From Date")),0===e.length){const{one:e,two:a}=n.getValues(),i=t?c.getValue():void 0;m(S(o,{item:e,month:a,year:l,fromDate:i}))}F(e)}),[]);return(0,w.jsxs)(g.A.DraggableDialog,{isShow:e,caption:n,menuModel:L,toTopLayer:p,onLoad:V,onShow:A,onClose:f,children:[(0,w.jsx)(g.A.Toolbar,{isShow:C,buttons:b}),(0,w.jsx)(g.A.SelectOneTwo,{ref:y,isShow:e,isShowLabels:v,uri:i,oneCaption:"Futures",oneOptionNames:"Futures",oneJsonProp:"futures",twoCaption:"Month",msgOnNotSelected:s}),(0,w.jsx)(g.A.RowInputSelect,{isShowLabels:v,caption:"Year",options:Y,onSelect:j}),t&&(0,w.jsx)(g.A.RowDate,{innerRef:D,isShowLabels:v,title:"From Date:",initialValue:c,errorMsg:u,onTest:d}),(0,w.jsx)(g.A.ValidationMessages,{validationMessages:x})]})})),U=[{caption:"Continuous Contract #1",value:1},{caption:"Continuous Contract #2",value:2},{caption:"Continuous Contract #3",value:3},{caption:"Continuous Contract #4",value:4},{caption:"Continuous Contract #5",value:5}],P={UNCommodityTrade:M,Futures3:E,FuturesWiki:(0,n.A)((o=>{const{isShow:e,isFd:t,caption:n,futuresURI:i,msgOnNotSelected:s,msgOnNotValidFormat:r,initFromDate:c,isYmdOrEmpty:d,errNotYmdOrEmpty:u,toTopLayer:p,onAbout:h,loadFn:S,onLoad:m,onShow:A,onClose:T}=o,[C,v,L,b,x,F,f]=(0,k.A)({onAbout:h,onClose:T}),[y,D]=(0,l.A)(),j=(0,a.li)(),O=(0,a.li)(),V=(0,a.hb)((()=>{const e=[],n=(0,a.ZC)(j),{msg:i=[]}=n.getValidation(),l=D(),c=(0,a.ZC)(O);if(e.push(...i),l||e.push(s("Type")),t&&!c.isValid()&&e.push(r("From Date")),0===e.length){const{one:e,two:a}=n.getValues(),i=t?c.getValue():void 0;m(S(o,{exchange:e,item:a,type:l,fromDate:i}))}F(e)}),[]);return(0,w.jsxs)(g.A.DraggableDialog,{isShow:e,caption:n,menuModel:L,toTopLayer:p,onLoad:V,onShow:A,onClose:f,children:[(0,w.jsx)(g.A.Toolbar,{isShow:C,buttons:b}),(0,w.jsx)(g.A.SelectOneTwo,{ref:j,isShow:e,isShowLabels:v,uri:i,oneCaption:"Exchange",oneOptionNames:"Exchanges",oneJsonProp:"futures",twoCaption:"Asset",msgOnNotSelected:s}),(0,w.jsx)(g.A.RowInputSelect,{isShowLabels:v,caption:"Type",options:U,onSelect:y}),t&&(0,w.jsx)(g.A.RowDate,{innerRef:O,isShowLabels:v,title:"From Date:",initialValue:c,errorMsg:u,onTest:d}),(0,w.jsx)(g.A.ValidationMessages,{validationMessages:x})]})}))}}}]);