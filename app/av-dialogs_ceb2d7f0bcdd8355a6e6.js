"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[78],{7864:(e,t,o)=>{o.r(t),o.d(t,{default:()=>at});var a=o(4514),r=o(2296),n=o(4031),i=o(9550),s=o(7294);const l="EOD",d=(e,t)=>{const{_itemKey:o,itemCaption:a}=t,{id:r,dataSource:n}=e,l=o||r,d=((e,t)=>{let{data:o}=e;const{_itemKey:a,dfFn:r,dfSubId:n,items:s,dataSource:l}=t;return"EOD"===r?{_itemKey:a,...(0,i.B0)(t),...(0,i.TU)(o),items:[...s||[]],dfFn:r,dfSubId:n,dataSource:l}:void 0})(e,t);return{id:l,key:l,itemCaption:a,itemConf:d,legend:(0,s.$)(),dataSource:n||"Alpha Vantage"}},c=(e,t)=>({zhConfig:d(e,t),valueMoving:(0,r.Y1)(e.data)}),p=(e,t)=>`${(0,n.kV)(e)}&symbol=${t}`,u=e=>{const{items:t,itemCaption:o,dfFn:a}=e,n=(0,r._W)(t[0]);return(0,r.kp)(e,{itemCaption:o.replace((0,r.Ps)(t[0]),n),dfItem:(0,r._W)(t[1]),dfPeriod:(0,r._W)(t[2])}),p(a,n)},h=e=>t=>{const{items:o}=t,a=(0,r._W)(o[0]);return`${(0,n.kV)(e)}&symbol=${a}`},m=(0,r.vL)({CR:e=>{const{items:t}=e,o=(0,r._W)(t[0]),a=(0,r._W)(t[1]);return(0,r.kp)(e,{itemCaption:`${o}/${a}`}),`${(0,n.kV)("DIGITAL_CURRENCY_DAILY")}&symbol=${o}&market=${a}`},[l]:e=>{const{items:t}=e,[o,a]=t,[n,i]=(0,r.a3)(o),[s,l]=(0,r.a3)(a),[d,c]=(e=>{const t=(e.split("&")[0]||"").replace("TIME_SERIES_",""),o=t.split("_").map((e=>(0,r.Ob)(e.toLowerCase()))).join(" ");return[t,o]})(s);return(0,r.kp)(e,{itemCaption:n,ticket:n,title:i,subtitle:l,dfT:d,interval:c}),p(s,n)},GL:()=>(0,n.kV)("TOP_GAINERS_LOSERS"),TIME_SERIES_INTRADAY:e=>{const{dfFn:t,items:o}=e,a=(0,r._W)(o[0]),n=(0,r._W)(o[1]),i=`${a} (${n})`;return(0,r.kp)(e,{ticket:a,interval:n,title:i,itemCaption:i}),`${p(t,a)}&interval=${n}`},INCOME_STATEMENT:u,BALANCE_SHEET:u,CASH_FLOW:u,EARNINGS:e=>{const{items:t,dfFn:o}=e,a=(0,r._W)(t[0]);return(0,r.kp)(e,{itemCaption:a,dfPeriod:(0,r._W)(t[1])}),p(o,a)},ETF_PROFILE:h("ETF_PROFILE"),OVERVIEW:h("OVERVIEW")},(e=>{let{ticket:t="MSFT",period:o=50,indicator:a="SMA"}=e;return`${p(a,t)}&interval=daily&time_period=${o}&series_type=close`})),A=(0,n.Ec)((e=>m(e.dfFn)));var S=o(4558),g=o(3730),y=o(9270),f=o(4999),$=o(5248);const C=501,v="MACD",b="MACD_Signal",_="MACD_Hist",T="STOCH",w="SlowK",E="SlowD",D="BBANDS",k="Real Upper Band",I="Real Middle Band",L="Real Lower Band",F={color:(0,S.Jq)()},x={color:"#f44336"},M={color:"rgb(47, 126, 216)"},R={color:"#4caf50"},P=e=>"AD"===e?"Chaikin A/D":e,O=(e,t)=>{const{indicator:o,forDays:a=C}=t,r=e[`Technical Analysis: ${P(o)}`],n=(0,g.Co)(r).sort().reverse(),i=n.length;return{value:r,dateKeys:n,max:i<a?i-1:a}},N=(e,t)=>{let o,a,n,i,s,{dateKeys:l,value:d,max:c}=e;const p=[],u=t.length;for(a=0;a<u;a++)p.push([]);for(o=c;o>-1;o--)for(n=l[o],i=(0,r.cY)(n),s=d[n],a=0;a<u;a++)p[a].push([i,parseFloat(s[t[a]])]);return p},W=(e,t)=>{let{data:o,name:a}=e;return(0,r.kp)((0,$.wo)(),{data:o,name:a,type:"spline",visible:!0,marker:{symbol:"circle"}},t)},V=(0,r.vL)({[v]:(e,t)=>{const o=N(O(e,t),[v,b,_]),a=W({data:o[0],name:v},F()),n=W({data:o[1],name:b},x);return[(0,r.kp)((0,$.wo)(),{color:"rgba(47, 126, 216, 0.75)",data:o[2],name:_,type:"column",visible:!1,shadow:!1,borderWidth:0,pointPlacement:"on",pointPadding:0,groupPadding:0,turboThreshold:2e4}),n,a]},[T]:(e,t)=>{const o=N(O(e,t),[w,E]);return[W({data:o[0],name:w},M),W({data:o[1],name:E},x)]},[D]:(e,t)=>{const o=N(O(e,t),[I,k,L]);return[W({data:o[0],name:I},M),W({data:o[1],name:k},R),W({data:o[2],name:L},x)]}},((e,t)=>{const{indicator:o}=t,a=((e,t)=>{const{indicator:o}=t,a=P(o),{value:n,dateKeys:i,max:s}=O(e,t),l=[];let d,c,p=s;for(;p>-1;p--)d=i[p],c=parseFloat(n[d][a]),l.push([(0,r.cY)(d),c]);return l})(e,t);return W({data:a,name:o})})),j=(e,t)=>V(t.indicator)(e,t),Y={crKey:e=>e.chartId=`${e.ticket}-${e.value}`,toConfig(e,t){return{config:(0,y.A)((0,f.Fh)(`${t.ticket}: ${t.value}`),(0,f.$J)(j(e,t)),(0,f.YT)({zhConfig:(o=t.chartId,{id:o,key:o,itemCaption:o,dataSource:"Alpha Vantage"})}),f.qP),isDrawDeltaExtrems:!1,isNotZoomToMinMax:!1};var o},toSeries:j};var K=o(5153),B=o(5355);const G=(e,t)=>({y:0,exValue:.5,marker:{symbol:"circle",fillColor:e,lineColor:e,radius:6,states:{hover:{enable:!0,fillColor:B.ud,lineColor:e,lineWidth:2,radius:6}}},dataLabels:{enabled:!0,inside:!0,color:e,style:{fill:e,stroke:e,color:e,fontSize:"12px",fontWeight:"normal",textShadow:"none",textOutline:"0px transparent"},crop:!1,overflow:"none",y:32,formatter:function(){return this.point[t]}}});var H=o(353);const q=e=>{const t=(0,r.QD)(e,"09:30:00")?"#90ed7d":(0,r.QD)(e,"16:00:00")?"#f7a35c":"";return t?{marker:{radius:3,enabled:!0,fillColor:o=t},color:o}:void 0;var o},U=(e,t,o)=>{const a=o["7. dividend amount"],r=a&&parseFloat(a);r&&e.push({...G(B.U,"exValue"),x:t,exValue:r,price:parseFloat(o["5. adjusted close"])})},Q="Time Series",z=e=>{let{interval:t}=e;return"Daily Adjusted"===t?`${Q} (Daily)`:(o=t,(0,r.QD)(o,"Weekly")||(0,r.QD)(o,"Monthly")?`${t} ${Q}`:`${Q} (${t})`);var o},Z=(e,t)=>{const o=((e,t)=>e[z(t)])(e,t),a=(0,g.Co)(o).sort(),n=[],i=[],s=[],l=[],d=[],c=[],p=[],{notFilterZero:u,isDividend:h,toUTC:m,pnClose:A,pnVolume:S}=(e=>{let{isFilterZero:t,dfT:o}=e;const a=(0,r.QD)(o,"ADJUSTED");return{notFilterZero:!t,isDividend:a,toUTC:r.CA,pnClose:a?"5. adjusted close":"4. close",pnVolume:a?"6. volume":"5. volume"}})(t);let y,f,$,C,v,b,_,T,w,E=0,D=a.length,k=Number.POSITIVE_INFINITY,I=Number.NEGATIVE_INFINITY;for(;E<D;E++)f=a[E],$=o[f],_=parseFloat($["4. close"]),T=parseFloat($[A]),(u||(L=T,0!==_&&0!==L))&&(C=parseFloat($["1. open"]),v=parseFloat($["2. high"]),b=parseFloat($["3. low"]),w=parseFloat($[S]),y=m(f),n.push({x:y,y:T,...q(f)}),i.push([y,v]),s.push([y,b]),l.push([y,C]),p.push([y,w]),c.push((0,H._8)({open:C,close:_,volume:w,date:y,option:{_high:v,_low:b}})),h&&U(d,y,$),k>T&&(k=T),I<T&&(I=T));var L;return{dC:n,dH:i,dL:s,dO:l,dDividend:d,minClose:k,maxClose:I,dVc:c,dV:p}},J={toConfig(e,t){const{_itemKey:o,title:a,subtitle:r,dataSource:n}=t,i=Z(e,t),{dC:s,minClose:l,maxClose:d,dDividend:p}=i;return{config:(0,y.A)((0,K.Ux)(o,{...t,...i}),(0,f.Kl)(a,r),(0,f.YT)(c({id:o,data:s,dataSource:n},t)),(0,K.p3)(p,l,d),f.qP)}},toSeries:(e,t)=>(0,f.j7)({adapter:J,type:"line",json:e,option:t})},X=J,ee={crUrl:(e,t)=>{let{apiKey:o=""}=t;return`https://www.alphavantage.co/query/search?function=SYMBOL_SEARCH&keywords=${e}&apikey=${o}`},crOptions:e=>{if(!e||!Array.isArray(e.bestMatches))throw new Error("Response format is not valid");return e.bestMatches.map((e=>({value:e["1. symbol"],name:e["2. name"],type:e["3. type"],region:e["4. region"],currency:e["8. currency"]})))}};var te=o(9876);const oe=(e,t)=>{let{dfItem:o,dfPeriod:a}=t;return(0,n.e)(o,"fiscalDateEnding","10")(e["A"===a?"annualReports":"quarterlyReports"])};let ae;const re=()=>ae||(ae=(0,te.e$)({crData:oe})),ne=(0,n.e)("reportedEPS","fiscalDateEnding","round"),ie=(e,t)=>{const{dfPeriod:o}=t;return ne(e["A"===o?"annualEarnings":"quarterlyEarnings"])};let se;const le=()=>se||(se=(0,te.e$)({crData:ie}));var de=o(4668);const ce="alp_perf",pe={paddingTop:6},ue=(e,t,o)=>({...o,name:e,pn:t}),he=[ue("Ticker","id"),ue("Price","p"),ue("1d Amount","cha",{isHide:!0}),ue("1d %","chp",{isR:!0}),ue("Volume","v",{...(0,de.wQ)(),isF:!0})],me=(e,t,o)=>({...(0,de.wC)(e,t,[...he],void 0,o,"Alpha Vantage"),dsStyle:pe}),Ae=e=>(0,r.W7)(parseFloat(e),2),Se=e=>(0,r.Ep)(e)?e.map((e=>({id:e.ticker,p:Ae(e.price),cha:Ae(e.change_amount),chp:Ae((e.change_percentage||"").replace("%")),v:parseInt(e.volume,10)}))):[],ge={crKey:()=>ce,toConfig(e,t){const o=ce,a=e.last_updated||"",[r,n,i]=(e=>[Se(e.top_gainers),Se(e.top_losers),Se(e.most_actively_traded)])(e);return{config:{id:o,zhCompType:"ALPHA_PERF",zhConfig:{id:o,key:o},g:me(`${o}_g`,`Gainers ${a}`,r),l:me(`${o}_l`,`Losers ${a}`,n),m:me(`${o}_m`,`Most Active Traded ${a}`,i)}}}};var ye=o(3851),fe=o(6327),$e=o(8849);const Ce=(e,t)=>(e||{})[t]||"n/a",ve=(0,ye.A)(((e,t)=>{const{holdings:o,asset_allocation:a}=e||{},n=(o||{}).map((e=>(0,fe.eb)(parseFloat(e.weight),e.symbol)),[]);return(0,g.Co)(a).forEach((e=>{if("domestic_equities"!==e){const t=parseFloat(a[e]);(0,g.F5)(t)&&n.push((0,fe.eb)(t,"foreign_equities"===e?"For. Eq.":(0,r.Ob)(e)))}})),t.subtitle=`${t.itemCaption}, Net Expense Ratio ${Ce(e,"net_expense_ratio")}`,t.title=`Portfolio Turnover ${Ce(e,"portfolio_turnover")}, Dividend Yield ${Ce(e,"dividend_yield")}`,(0,$e._u)(n)}),((e,t)=>{let{itemCaption:o}=e;return`${(0,r.hE)(o)} ${(0,r.jq)(Ce(t,"net_assets"),"")}`}));var be=o(7222);const _e={lineHeight:1.5,fontWeight:"bold"},Te="Analyst",we=Te+"Rating",Ee=(e,t)=>t[e]||"",De=(e,t,o)=>`${e} ${o[t+e]}`,ke=(e,t)=>`${e} ${(0,r.jq)(t[e])}`,Ie=e=>[`${ke("RevenueTTM",e)}`,`${ke("RevenuePerShareTTM",e)}`,`${ke("EBITDA",e)}`,`${ke("EPS",e)}`,`${ke("DilutedEPSTTM",e)}`,`Q RevenueGrowthYOY ${Ee("QuarterlyRevenueGrowthYOY",e)}`,`Q EarningsGrowthYOY ${Ee("QuarterlyEarningsGrowthYOY",e)}`],Le=e=>[`${De("StrongBuy",we,e)}`,`${De("Buy",we,e)}`,`${De("Hold",we,e)}`,`${De("Sell",we,e)}`,`${De("StrongSell",we,e)}`],Fe=e=>[`50D MA ${e("50DayMovingAverage")}`,`200D MA ${e("200DayMovingAverage")}`,`52W Low ${e("52WeekLow")}`,`52W High ${e("52WeekHigh")}`],xe=(e,t)=>({caption:e,tokens:t}),Me={toConfig(e,t){const o=t._itemKey,a=(e=>t=>Ee(t,e))(e);return{config:{zhCompType:be.eB,id:o,caption:`${a("Symbol")} ${a("CIK")} ${a("Country")} ${a("Currency")} ${a("AssetType")}`,items:[{caption:`${a("Sector")}, ${a("Industry")}`,style:_e,descr:a("Description"),links:[{href:a("OfficialSite")}]},xe(`${ke("SharesOutstanding",e)}, ${a("LatestQuarter")}`,Ie(e)),xe(`${ke("MarketCapitalization",e)}`,Fe(a)),xe(`Analyst ${De("TargetPrice",Te,e)}, Beta ${a("Beta")}`,Le(e))],zhConfig:{key:o,id:o}}}}},Re={api:A,adapter:(0,a.GT)({rAdapter:{DF:Y,I:X,SR:ee,F:re,E:le,GL:ge,EP:ve,OV:Me},crDfKey:r.as})};var Pe=o(1315),Oe=o(4575),Ne=o(4867),We=o(6134),Ve=o(4250),je=o(3941),Ye=o(2569),Ke=o(4927),Be=o(4848);const Ge=Number.isNaN,He=e=>""===(e+"").trim(),qe=e=>!He(e),Ue=(e,t)=>o=>{if(He(o))return!0;const a=parseInt((o+"").trim(),10);return!Ge(a)&&a>e&&a<t},Qe=Ue(0,201),ze=Ue(250,2500),Ze=(e,t)=>{switch(e){case"MACD":return"MACD(12, 24, 9)";case"STOCH":return"STOCH(5, 3, 3, SMA)";default:return`${e} (${t})`}},Je=(0,Oe.A)((e=>{let{isShow:t,caption:o,oneURI:a,oneJsonProp:r,oneCaption:n,toTopLayer:i,onAbout:s,loadId:l,onLoad:d,onShow:c,onClose:p}=e;const[u,h]=(0,je.A)(s),[m,A]=(0,Ne.A)(),[S,g]=(0,Ne.A)(!0),y=(0,Ye.A)({toggleLabels:g,toggleOptions:A,onAbout:s}),f=(0,Pe.li)(),$=(0,Pe.li)(),C=(0,Pe.li)(),[v,b,_]=(0,We.A)(!1),[T,w]=(0,Ve.A)(),E=(0,Pe.hb)((()=>{const e=(0,Pe.Ek)($)||30,t=(0,Pe.Ek)(C)||501,o=(0,Pe.Ek)(f),a=(w()||{}).value||"SMA";d({loadId:l,indicator:a,ticket:o,period:e,forDays:t,value:Ze(a,e),hasSecondYAxis:(0,Pe.ZC)(v)})}),[]);return(0,Be.jsxs)(Ke.A.DraggableDialog,{isShow:t,caption:o,menuModel:h,toTopLayer:i,onLoad:E,onShow:c,onClose:p,children:[(0,Be.jsx)(Ke.A.Toolbar,{isShow:u,buttons:y}),(0,Be.jsx)(Ke.A.RowPattern,{refEl:f,isShowLabels:S,caption:"Stock",placeholder:"Nyse or Nasdaq Symbol",onTest:qe,errorMsg:"Not Empty"}),(0,Be.jsx)(Ke.A.SelectWithLoad,{isShow:t,isShowLabels:S,uri:a,jsonProp:r,caption:n,optionNames:"Items",placeholder:"Default: SMA (30)",onSelect:T}),(0,Be.jsxs)(Ke.A.ShowHide,{isShow:m,children:[(0,Be.jsx)(Ke.A.RowPattern,{ref:$,isShowLabels:S,caption:"Period",placeholder:"Default: 30",onTest:Qe,errorMsg:"Number in range 1-200"}),(0,Be.jsx)(Ke.A.RowPattern,{ref:C,isShowLabels:S,caption:"For Days",placeholder:"Default: 501 (2 Years)",onTest:ze,errorMsg:"Number in range 250-2500"})]}),(0,Be.jsx)(Ke.A.RowCheckBox1,{caption:"Add Seria with Second YAxis",onCheck:b,onUnCheck:_})]})})),Xe={width:310},et={paddingRight:16},tt=(0,Oe.A)((e=>{let{isShow:t,caption:o,toTopLayer:a,onAbout:r,loadId:n,onLoad:i,onShow:s,onClose:l}=e;const[d,c]=(0,je.A)(r),p=(0,Ye.A)({onAbout:r}),u=(0,Pe.hb)((()=>{i({loadId:n,dfSubId:"GL",dfFn:"GL"})}),[]);return(0,Be.jsxs)(Ke.A.DraggableDialog,{isShow:t,style:Xe,caption:o,menuModel:c,toTopLayer:a,onLoad:u,onShow:s,onClose:l,children:[(0,Be.jsx)(Ke.A.Toolbar,{isShow:d,buttons:p}),(0,Be.jsx)(Ke.A.RowText,{style:et,caption:"AV:",text:"Top Gainers & Losers"})]})}));var ot=o(6984);const at={_a:Re,Indicator:Je,Top:tt,Search:(0,Oe.A)((e=>{let{isShow:t,caption:o,getKey:a,loadId:r,toTopLayer:n,onAbout:i,onError:s,onClose:l}=e;const[d,c]=(0,je.A)(i),[p,u]=(0,Ne.A)(!0),h=(0,Ye.A)({toggleLabels:u,onAbout:i}),m=(0,ot.A)((()=>({...ee,onError:s,crUrlOptions:()=>{const e=a(r);if(e)return{apiKey:e};s("API key from Alpha Vantage is required","Without API Key")}})));return(0,Be.jsxs)(Ke.A.DraggableDialog,{isShow:t,caption:o,menuModel:c,toTopLayer:n,onClose:l,children:[(0,Be.jsx)(Ke.A.Toolbar,{isShow:d,buttons:h}),(0,Be.jsx)(Ke.A.RowInputSearch,{isShowLabels:p,caption:"Token",searchApi:m})]})}))}}}]);