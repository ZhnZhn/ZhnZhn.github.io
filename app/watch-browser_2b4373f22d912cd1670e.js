"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[103],{6366:(e,t,r)=>{r.d(t,{default:()=>Ce});var o=r(1315),n=r(4558),a=r(4867),s=r(634),i=r(8801),l=r(4427),p=r(3597);const d=()=>(0,l.BK)(p.VO),c=()=>(0,l.BK)(p.aF),u=e=>(0,l.BK)(p.R0,e),g=(e,t)=>{t.stopPropagation(),(0,i._x)(e)};var x=r(6752),T=r(2336),I=r(761),C=r(8203),f=r(1358),v=r(4848);const y="bt__watch__bar",E={margin:"4px 0"},m={marginLeft:15},_=e=>{let{isShow:t,onClickGroup:r,onClickList:o}=e;return t?(0,v.jsxs)("div",{style:E,children:[(0,v.jsx)(f.A,{caption:"GROUP",className:y,onClick:r}),(0,v.jsx)(f.A,{caption:"LIST",className:y,style:m,onClick:o})]}):null};var h=r(7599);const D=e=>JSON.parse(e.dataTransfer.getData("text")),S={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"},P="border-bottom",j="border-left";let L,b,k,N;const M=e=>e.currentTarget.style,O=(e,t)=>(e=>`4px solid ${e}`)((e=>-1!==L.indexOf(e))(e)?t||"green":"red"),R=e=>{const t=b.style;M(e).removeProperty(j),t.removeProperty("border"),t.setProperty(P,k)},A=Object.assign,w=e=>{let{event:t,dragId:r,xType:o}=e;A(t.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:r,xType:o}))},G=(e,t)=>(r,o)=>{((e,t)=>{b=e.currentTarget,L=t,k=M(e).getPropertyValue(P)})(o,e),w({event:o,dragId:t(r),xType:e[0]})},U=(e,t)=>r=>{r.preventDefault(),((e,t,r)=>{const o=M(e);N=o.getPropertyValue(j),o.setProperty(j,O(t,r))})(r,e,t)},J=e=>{e.preventDefault()},$=e=>{e.preventDefault(),(e=>{const t=M(e);t.removeProperty(j),t.setProperty(j,N)})(e)},K=(e,t,r,n,a,s,i)=>s?{draggable:!0,onDragStart:(0,o.Jr)(e,i),onDrop:(0,o.Jr)(t,i),onDragEnter:r,onDragOver:n,onDragLeave:a}:void 0,V=e=>{let{caption:t}=e;return`${t};`},H=G([S.GROUP],V),B=U(S.GROUP,S.C_GROUP_ENTER),F=(0,o.Jr)(K,H,((e,t)=>{R(t);const{xType:r,dragId:o}=D(t),n=V(e);if(r===S.GROUP){if(o===n)return;t.preventDefault(),(0,i.Gw)({dragId:o,dropId:n})}else r===S.LIST&&(t.preventDefault(),(0,i.DX)({dragId:o,dropId:n}))}),B,J,$);var W=r(7144),X=r(9073);const Z=e=>{let{groupCaption:t,caption:r}=e;return`${t};${r};`},Y=G([S.LIST,S.GROUP],Z),q=U(S.LIST,S.C_LIST_ENTER),z=(0,o.Jr)(K,Y,((e,t)=>{R(t);const{xType:r,dragId:o}=D(t),n=Z(e);if(r===S.LIST){if(o===n)return;t.preventDefault(),(0,i.DX)({dragId:o,dropId:n})}else r===S.ITEM&&(t.preventDefault(),(0,i.yN)({dragId:o,dropId:n}))}),q,J,$),Q=e=>{let{groupCaption:t,listCaption:r,caption:o}=e;return`${t};${r};${o}`},ee=G([S.ITEM,S.LIST],Q),te=U(S.ITEM,S.C_LIST_ENTER),re=(0,o.Jr)(K,ee,((e,t)=>{R(t);const{xType:r,dragId:o}=D(t),n=Q(e);if(r===S.ITEM){if(o===n)return;t.preventDefault(),(0,i.yN)({dragId:o,dropId:n})}}),te,J,$);var oe=r(7118),ne=r(6204);const ae={position:"relative",padding:"5px 40px 5px 0"},se={width:"100%",maxWidth:250,height:28,verticalAlign:"middle"},ie={top:8},le="Not Found",pe=e=>{let{item:t,className:r,onClick:n,onClose:a,isDraggable:s,dndHandlers:i,option:l}=e;const{caption:p=le}=t||{},d=s?(0,v.jsx)(oe.P,{style:ie,onClick:(0,o.Jr)(a,l)}):null;return(0,v.jsxs)("div",{...(0,h._s)((()=>n(t)),"0",!0),className:r,style:ae,...i,children:[(0,v.jsx)(ne.A,{style:se,text:p}),d]})},de=Array.isArray,ce=`${n.eA} stroke-black`,ue=e=>{let{isModeEdit:t,items:r,groupCaption:o,listCaption:n}=e;return de(r)?r.map((e=>{const{caption:r}=e,a={groupCaption:o,listCaption:n,caption:r};return(0,v.jsx)(pe,{className:ce,item:e,isDraggable:t,option:a,dndHandlers:re(t,a),onClick:u,onClose:g},r)})):null},ge=e=>{let{isModeEdit:t,groupCaption:r,lists:a}=e;return(0,o.lZ)(a,(e=>{let{caption:o,items:a}=e;return(0,v.jsx)(W.A,{...(0,h._s)(),style:n.Ke,openColor:X.ui,caption:o,dndHandlers:z(t,{groupCaption:r,caption:o}),children:(0,v.jsx)(ue,{isModeEdit:t,items:a,groupCaption:r,listCaption:o})},o)}))},xe=e=>{let{isModeEdit:t,groups:r}=e;return(0,o.lZ)(r,(e=>{let{caption:r,lists:o}=e;return(0,v.jsx)(W.A,{...(0,h._s)(),caption:r,dndHandlers:F(t,{caption:r}),children:(0,v.jsx)(ge,{isModeEdit:t,groupCaption:r,lists:o})},r)}))},Te=(0,n.nV)("scroll-watch"),Ie={paddingTop:0},Ce=e=>{const{caption:t,useWatchList:r}=e,[n,l,p]=(0,s.A)(e),u=r(),{groups:g}=u||{},[f,y]=(e=>{const[t,r]=(0,a.eY)();return[t,(0,o.Kr)((()=>[(0,I.fM)("S","Save to LocalStorage",e),(0,I.fM)(t?"V":"E","Toggle Edit Mode: E/V",r)]),[t])]})(i.vk);return(0,v.jsxs)(x.A,{isShow:n,onKeyDown:p,children:[(0,v.jsx)(T.A,{caption:t,onClose:l}),(0,v.jsx)(I.ot,{style:Ie,children:y}),(0,v.jsx)(_,{isShow:f,onClickGroup:d,onClickList:c}),(0,v.jsx)(C.A,{className:Te,children:(0,v.jsx)(xe,{isModeEdit:f,groups:g})})]})}}}]);