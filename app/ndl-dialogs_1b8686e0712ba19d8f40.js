"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[967],{8632:(o,e,t)=>{t.d(e,{N:()=>l,q:()=>r});var a=t(6539),n=t(4848);const i={color:"#607d8b"},s={color:"#232f3b"},l=o=>{let{onClick:e}=o;return(0,n.jsx)(a.A,{style:i,caption:"Load",title:"Load Item to Container",onClick:e})},r=o=>{let{onClick:e}=o;return(0,n.jsx)(a.A,{style:s,caption:"Show",title:"Show Item Container",onClick:e})}},4819:(o,e,t)=>{t.d(e,{A:()=>n});var a=t(2009);const n=(o,e)=>{const t=(0,a.ZC)(o);if(t){const{isValid:o,datesMsg:a}=t.getValidation();o||e.push(a)}}},2338:(o,e,t)=>{t.d(e,{A:()=>n});var a=t(4819);const n=(o,e,t)=>{const n=o.reduce(((o,t)=>(t[0]||o.push(e(t[1])),o)),[]);return(0,a.A)(t,n),n}},390:(o,e,t)=>{t.r(e),t.d(e,{default:()=>Z});var a=t(2009),n=t(4575),i=t(4867),s=t(6984),l=t(4250),r=t(6072),c=t(3941),d=t(9229),u=t(5286),p=t(2338),h=t(6460),S=t(6539),m=t(4682),A=t(8632),g=t(4848);const w={color:"#232f3b"},T="First Load Meta",C="Select...",v="Default Empty",b="Import - Trade (USD)",L="Export - Trade (USD)",x="Re-Import - Trade (USD)",D="Re-Export - Trade (USD)",j=o=>({caption:o,value:o}),f=[{caption:"Default: Empty Filter",value:v},j(b),j("Import - Weight (Kg)"),j(L),j("Export - Weight (Kg)"),j(x),j(D)],y=[{caption:"Default: Area",value:h.mf},{caption:"Semi Donut: Total Top90, On Every Year: Recent 2 Years",value:h.G$},{caption:"Stacked Area: Total Top90, On Recent Year",value:h.SU},{caption:"Stacked Area Percent: Total Top90, On Recent Year",value:h.wy},{caption:"Stacked Column: Total Top90, On Recent Year",value:h.bC},{caption:"Stacked Column Percent: Total Top90, On Recent Year",value:h.X5},{caption:"Tree Map: On Recent Year",value:h.uT}],F=o=>e=>-1!==e.caption.indexOf(o),O=(o,e)=>{let t;if(o&&e){const a=o.value;a!==v&&(t=e.filter(F(a)),a===b&&(t=t.filter(F(x))),a===L&&(t=t.filter(F(D))))}return t||e},V=o=>!o||o.value===h.mf,I="Click to toggle",N={optionTrades:[],placeholderTrade:T,isLoadingTradeFailed:!1,isLoadingTrade:!1},R=(0,n.A)((o=>{const{isShow:e,countryURI:t,countryJsonProp:n,commodityURI:v,commodityJsonProp:b,initFromDate:L,initToDate:x,onTestDate:D,msgOnNotValidFormat:j,msgOnNotSelected:F,dataColumn:R,loadId:M,dataSource:k,toTopLayer:U,onAbout:Y,fnValue:E,onLoad:P,onShow:$,onClose:J}=o,[K,Z]=(0,c.A)(Y),[W,H]=(0,i.A)(!0),[B,_]=(0,i.A)(!1),[q,G]=(0,i.A)(!1),[X,z]=(0,i.A)(!1),Q=(0,s.A)((()=>[(0,d.A)("L",`${I} input labels`,H),(0,d.A)("F",`${I} filter input`,_),(0,d.A)("D",`${I} date input`,G),(0,d.A)("C",`${I} chart type input`,z),(0,d.A)("A","About datasource",Y)])),[oo,eo,to]=(0,u.A)(J),[ao,no]=(0,a.J0)(N),{isLoadingTrade:io,isLoadingTradeFailed:so,optionTrades:lo,placeholderTrade:ro}=ao,[co,uo]=(0,a.J0)(!0),po=(0,a.li)(),[ho,So]=(0,l.A)(),[mo,Ao]=(0,l.A)(),[go,wo]=(0,l.A)(),[To,Co]=(0,l.A)(),[vo,bo]=(0,l.A)(),[Lo,xo]=(0,l.A)(),Do=(0,a.hb)((()=>{To(),vo(),no(N)}),[]),jo=(0,a.hb)((o=>{ho(o),Do()}),[]),fo=(0,a.hb)((o=>{mo(o),Do()}),[]),yo=(0,a.hb)((o=>{Lo(o);const e=V(o);uo(e),_(!e)}),[]),Fo=(0,a.hb)((()=>{const o=So(),e=Ao(),t=[[o,"Country"],[e,"Chapter"]],n=(0,p.A)(t,F,po);0===n.length&&(P({...(0,a.ZC)(po).getValues(),loadId:M,isLoadMeta:!0,value:E(e.value,o.value),onLoad:o=>{vo(o),no({optionTrades:O(wo(),bo()),isLoadingTrade:!1,isLoadingTradeFailed:!1,placeholderTrade:C})},onCancel:()=>no((o=>({...o,isLoadingTrade:!1,isLoadingTradeFailed:!1,placeholderTrade:C}))),onFailed:()=>no((o=>({...o,isLoadingTrade:!1,isLoadingTradeFailed:!0})))}),no((o=>({...o,isLoadingTrade:!0})))),eo(n)}),[]),Oo=(0,r.A)((()=>{const o=[],e=xo(),t=Co(),n=wo();if(V(e)?t||o.push(F("Subheading")):(ro===T&&o.push(T),n||o.push(F("Trade Filter"))),0===o.length){const o=So(),i=Ao(),s=t?t.value:R,l=e?e.value:h.mf,r=n?`${o.caption}:${n.caption}`:`${o.caption}`,c=V(e)?void 0:((o,e)=>{const t=o.value.length+2;return e.map((o=>{let{value:e,caption:a}=o;return a=a.substring(0,a.length-t),{caption:a,value:e}}))})(n,lo);P({...(0,a.ZC)(po).getValues(),value:E(i.value,o.value),dataColumn:s,seriaType:l,sliceItems:c,title:r,subtitle:i.caption,loadId:M,dataSource:k})}eo(o)})),Vo=(0,a.Kr)((()=>[(0,g.jsx)(S.A,{style:w,caption:"Load Meta",title:"First Load Meta, then Load Item",onClick:Fo},"meta"),(0,g.jsx)(A.N,{onClick:Oo},"load")]),[]);return(0,g.jsxs)(m.A.DraggableDialog,{isShow:e,caption:"United Nations Commodity Trade",menuModel:Z,commandButtons:Vo,toTopLayer:U,onShow:$,onClose:to,children:[(0,g.jsx)(m.A.Toolbar,{isShow:K,buttons:Q}),(0,g.jsx)(m.A.SelectWithLoad,{isShow:e,isShowLabels:W,uri:t,jsonProp:n,caption:"Country:",optionNames:"Countries",onSelect:jo}),(0,g.jsx)(m.A.SelectWithLoad,{isShow:e,isShowLabels:W,uri:v,jsonProp:b,caption:"Chapter:",optionNames:"Chapters",onSelect:fo}),(0,g.jsx)(m.A.ShowHide,{isShow:B,children:(0,g.jsx)(m.A.RowInputSelect,{isShowLabels:W,caption:"Filter Trade:",options:f,placeholder:"Filter...",onSelect:go})}),(0,g.jsx)(m.A.ShowHide,{isShow:co,children:(0,g.jsx)(m.A.RowInputSelect,{isShowLabels:W,caption:"Subheading:",options:lo,optionNames:"Meta",isLoading:io,isLoadingFailed:so,placeholder:ro,onLoadOption:Fo,onSelect:To})}),(0,g.jsx)(m.A.ShowHide,{isShow:q,children:(0,g.jsx)(m.A.DatesFragment,{ref:po,isShowLabels:W,initFromDate:L,initToDate:x,msgOnNotValidFormat:j,onTestDate:D})}),(0,g.jsx)(m.A.ShowHide,{isShow:X,children:(0,g.jsx)(m.A.RowInputSelect,{isShowLabels:W,caption:"Chart Type:",options:y,onSelect:yo})}),(0,g.jsx)(m.A.ValidationMessages,{validationMessages:oo})]})}));var M=t(3057);const k=[{caption:"2021",value:2021},{caption:"2020",value:2020},{caption:"2019",value:2019},{caption:"2018",value:2018},{caption:"2017",value:2017},{caption:"2016",value:2016},{caption:"2015",value:2015},{caption:"2014",value:2014},{caption:"2013",value:2013},{caption:"2012",value:2012}],U=(0,n.A)((o=>{const{isShow:e,isFd:t,caption:n,futuresURI:i,msgOnNotSelected:s,msgOnNotValidFormat:r,initFromDate:c,isYmdOrEmpty:d,errNotYmdOrEmpty:u,toTopLayer:p,onAbout:h,loadFn:S,onLoad:A,onShow:w,onClose:T}=o,[C,v,b,L,x,D,j]=(0,M.A)({onAbout:h,onClose:T}),f=(0,a.li)(),y=(0,a.li)(),[F,O]=(0,l.A)(),V=(0,a.hb)((()=>{const e=[],n=(0,a.ZC)(f),{msg:i=[]}=n.getValidation(),l=O(),c=(0,a.ZC)(y);if(e.push(...i),l||e.push(s("Year")),t&&!c.isValid()&&e.push(r("From Date")),0===e.length){const{one:e,two:a}=n.getValues(),i=t?c.getValue():void 0;A(S(o,{item:e,month:a,year:l,fromDate:i}))}D(e)}),[]);return(0,g.jsxs)(m.A.DraggableDialog,{isShow:e,caption:n,menuModel:b,toTopLayer:p,onLoad:V,onShow:w,onClose:j,children:[(0,g.jsx)(m.A.Toolbar,{isShow:C,buttons:L}),(0,g.jsx)(m.A.SelectOneTwo,{ref:f,isShow:e,isShowLabels:v,uri:i,oneCaption:"Futures",oneOptionNames:"Futures",oneJsonProp:"futures",twoCaption:"Month",msgOnNotSelected:s}),(0,g.jsx)(m.A.RowInputSelect,{isShowLabels:v,caption:"Year",options:k,onSelect:F}),t&&(0,g.jsx)(m.A.RowDate,{innerRef:y,isShowLabels:v,title:"From Date:",initialValue:c,errorMsg:u,onTest:d}),(0,g.jsx)(m.A.ValidationMessages,{validationMessages:x})]})})),Y=[{caption:"Continuous Contract #1",value:1},{caption:"Continuous Contract #2",value:2},{caption:"Continuous Contract #3",value:3},{caption:"Continuous Contract #4",value:4},{caption:"Continuous Contract #5",value:5}],E=(0,n.A)((o=>{const{isShow:e,isFd:t,caption:n,futuresURI:i,msgOnNotSelected:s,msgOnNotValidFormat:r,initFromDate:c,isYmdOrEmpty:d,errNotYmdOrEmpty:u,toTopLayer:p,onAbout:h,loadFn:S,onLoad:A,onShow:w,onClose:T}=o,[C,v,b,L,x,D,j]=(0,M.A)({onAbout:h,onClose:T}),[f,y]=(0,l.A)(),F=(0,a.li)(),O=(0,a.li)(),V=(0,a.hb)((()=>{const e=[],n=(0,a.ZC)(F),{msg:i=[]}=n.getValidation(),l=y(),c=(0,a.ZC)(O);if(e.push(...i),l||e.push(s("Type")),t&&!c.isValid()&&e.push(r("From Date")),0===e.length){const{one:e,two:a}=n.getValues(),i=t?c.getValue():void 0;A(S(o,{exchange:e,item:a,type:l,fromDate:i}))}D(e)}),[]);return(0,g.jsxs)(m.A.DraggableDialog,{isShow:e,caption:n,menuModel:b,toTopLayer:p,onLoad:V,onShow:w,onClose:j,children:[(0,g.jsx)(m.A.Toolbar,{isShow:C,buttons:L}),(0,g.jsx)(m.A.SelectOneTwo,{ref:F,isShow:e,isShowLabels:v,uri:i,oneCaption:"Exchange",oneOptionNames:"Exchanges",oneJsonProp:"futures",twoCaption:"Asset",msgOnNotSelected:s}),(0,g.jsx)(m.A.RowInputSelect,{isShowLabels:v,caption:"Type",options:Y,onSelect:f}),t&&(0,g.jsx)(m.A.RowDate,{innerRef:O,isShowLabels:v,title:"From Date:",initialValue:c,errorMsg:u,onTest:d}),(0,g.jsx)(m.A.ValidationMessages,{validationMessages:x})]})}));var P=t(4819);const $=[{caption:"Thousand Barrels per day (kb/d)",value:"KD"},{caption:"Thousand Barrels (kbbl)",value:"KB"},{caption:"Thousand Kilolitres (kl)",value:"KL"},{caption:"Thousand Metric Tons (kmt)",value:"KT"},{caption:"Conversion factor barrels/ktons",value:"BK"}],J=$[0],K=[{caption:"AreaSpline",value:h.mf},{caption:"Yearly by Month",value:h.Lp}],Z={UNCommodityTrade:R,Futures3:U,FuturesWiki:E,JodiWorldOil:(0,n.A)((o=>{let{isShow:e,caption:t,oneCaption:n,oneURI:s,oneJsonProp:r,parentCaption:c,parentChildURI:d,parentJsonProp:u,childCaption:p,msgOnNotSelected:h,initFromDate:S,initToDate:A,msgOnNotValidFormat:w,onTestDate:T,dataColumn:C,loadId:v,dataSource:b,toTopLayer:L,onAbout:x,fnValue:D,onLoad:j,onShow:f,onClose:y}=o;const[F,O]=(0,i.A)(!1),[V,I]=(0,i.A)(!1),[N,R,k,U,Y,E,Z]=(0,M.A)({onAbout:x,onClose:y,toggleDate:O,toggleOptions:I}),[W,H]=(0,l.A)(),[B,_]=(0,l.A)(),[q,G]=(0,l.A)(),X=(0,a.li)(),z=(0,a.li)(),Q=(0,a.hb)((()=>{const o=[],e=H(),t=(0,a.ZC)(X),{msg:n=[]}=t.getValidation(),i=_()||J;if(e||o.push(h("Country")),o.push(...n),(0,P.A)(z,o),0===o.length){const o=(0,a.ZC)(z),{one:n,two:s}=t.getValues(),{value:l}=G()||{};j({...o.getValues(),value:D(e.value,n.value,s.value,i.value),title:`${e.caption}: ${n.caption}`,subtitle:`${s.caption}: ${i.caption}`,seriaType:l,dataColumn:C,loadId:v,dataSource:b})}E(o)}),[]);return(0,g.jsxs)(m.A.DraggableDialog,{isShow:e,caption:t,menuModel:k,toTopLayer:L,onLoad:Q,onShow:f,onClose:Z,children:[(0,g.jsx)(m.A.Toolbar,{isShow:N,buttons:U}),(0,g.jsx)(m.A.SelectWithLoad,{isShow:e,isShowLabels:R,uri:s,jsonProp:r,caption:n,optionNames:"Items",onSelect:W}),(0,g.jsx)(m.A.SelectOneTwo,{ref:X,isShow:e,isShowLabels:R,uri:d,oneCaption:c,oneJsonProp:u,twoCaption:p,msgOnNotSelected:h}),(0,g.jsx)(m.A.RowInputSelect,{isShowLabels:R,caption:"Units",options:$,onSelect:B}),(0,g.jsx)(m.A.ShowHide,{isShow:F,children:(0,g.jsx)(m.A.DatesFragment,{ref:z,isShowLabels:R,initFromDate:S,initToDate:A,msgOnNotValidFormat:w,onTestDate:T})}),(0,g.jsx)(m.A.ShowHide,{isShow:V,children:(0,g.jsx)(m.A.RowInputSelect,{isShowLabels:R,caption:"Chart Type",placeholder:"Default: AreaSpline",options:K,onSelect:q})}),(0,g.jsx)(m.A.ValidationMessages,{validationMessages:Y})]})}))}}}]);