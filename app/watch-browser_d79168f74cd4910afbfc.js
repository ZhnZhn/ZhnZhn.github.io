"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[864],{9520:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Ie});var o=r(4760),n=r(312),a=r(8544),i=r(4256),s=r(4504),l=r(9552);const d=()=>(0,s.qe)(l.En),p=()=>(0,s.qe)(l.UB),c=e=>(0,s.qe)(l.Gl,e),u=(e,t)=>{t.stopPropagation(),(0,i.O0)(e)};var g=r(9508),C=r(7756),f=r(7624);const y="bt__watch__bar",x={marginBottom:10},I={marginLeft:20},T=e=>{let{isShow:t,onClickGroup:r,onClickList:o}=e;return t?(0,f.jsxs)("div",{style:x,children:[(0,f.jsx)(C.c,{caption:"GROUP",className:y,onClick:r}),(0,f.jsx)(C.c,{caption:"LIST",className:y,style:I,onClick:o})]}):null};var m=r(8504);const v=e=>JSON.parse(e.dataTransfer.getData("text")),E={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"},h="border-bottom",S="border-left";let L,b,j,P;const k=e=>e.currentTarget.style,D=(e,t)=>(e=>`4px solid ${e}`)((e=>-1!==L.indexOf(e))(e)?t||"green":"red"),_=e=>{const t=b.style;k(e).removeProperty(S),t.removeProperty("border"),t.setProperty(h,j)},O=Object.assign,R=e=>{let{event:t,dragId:r,xType:o}=e;O(t.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:r,xType:o}))},w=(e,t)=>(r,o)=>{((e,t)=>{b=e.currentTarget,L=t,j=k(e).getPropertyValue(h)})(o,e),R({event:o,dragId:t(r),xType:e[0]})},N=(e,t)=>r=>{r.preventDefault(),((e,t,r)=>{const o=k(e);P=o.getPropertyValue(S),o.setProperty(S,D(t,r))})(r,e,t)},G=e=>{e.preventDefault()},M=e=>{e.preventDefault(),(e=>{const t=k(e);t.removeProperty(S),t.setProperty(S,P)})(e)},U=(e,t,r,o,n,a,i)=>a?{draggable:!0,onDragStart:(0,m.sn)(e,i),onDrop:(0,m.sn)(t,i),onDragEnter:r,onDragOver:o,onDragLeave:n}:void 0,A=e=>{let{caption:t}=e;return`${t};`},$=w([E.GROUP],A),B=N(E.GROUP,E.C_GROUP_ENTER),H=(0,m.sn)(U,$,((e,t)=>{_(t);const{xType:r,dragId:o}=v(t),n=A(e);if(r===E.GROUP){if(o===n)return;t.preventDefault(),(0,i.mc)({dragId:o,dropId:n})}else r===E.LIST&&(t.preventDefault(),(0,i.u2)({dragId:o,dropId:n}))}),B,G,M),V=e=>{let{groupCaption:t,caption:r}=e;return`${t};${r};`},q=w([E.LIST,E.GROUP],V),W=N(E.LIST,E.C_LIST_ENTER),J=(0,m.sn)(U,q,((e,t)=>{_(t);const{xType:r,dragId:o}=v(t),n=V(e);if(r===E.LIST){if(o===n)return;t.preventDefault(),(0,i.u2)({dragId:o,dropId:n})}else r===E.ITEM&&(t.preventDefault(),(0,i.ai)({dragId:o,dropId:n}))}),W,G,M),K=e=>{let{groupCaption:t,listCaption:r,caption:o}=e;return`${t};${r};${o}`},Z=w([E.ITEM,E.LIST],K),F=N(E.ITEM,E.C_LIST_ENTER),z=(0,m.sn)(U,Z,((e,t)=>{_(t);const{xType:r,dragId:o}=v(t),n=K(e);if(r===E.ITEM){if(o===n)return;t.preventDefault(),(0,i.ai)({dragId:o,dropId:n})}}),F,G,M);var Q=r(8076),X=r(5880),Y=r(6216);const ee={position:"relative",padding:"5px 40px 5px 0"},te={width:"100%",maxWidth:250,height:28,verticalAlign:"middle"},re={top:8},oe="Not Found",ne=e=>{let{item:t,className:r,onClick:o,onClose:n,isDraggable:a,dndHandlers:i,option:s}=e;const{caption:l=oe}=t||{},d=a?(0,f.jsx)(X.s,{style:re,onClick:(0,m.sn)(n,s)}):null,p=(0,m.kZ)((()=>o(t)),[t]),c=(0,m.kZ)((e=>{(0,Q.c)(e)&&p()}),[p]);return(0,f.jsxs)("div",{role:"menuitem",tabIndex:"0",className:r,style:ee,onClick:p,onKeyUp:c,...i,children:[(0,f.jsx)(Y.c,{style:te,text:l}),d]})},ae=Array.isArray,ie=e=>{let{isModeEdit:t,items:r,groupCaption:n,listCaption:a}=e;return ae(r)?r.map((e=>{const{caption:r}=e,i={groupCaption:n,listCaption:a,caption:r};return(0,f.jsx)(ne,{className:o.g7,item:e,isDraggable:t,option:i,dndHandlers:z(t,i),onClick:c,onClose:u},r)})):null},{OpenClose2:se}=g.default,le=Array.isArray,de={marginLeft:8,paddingLeft:2,borderLeftStyle:"solid",borderLeftWidth:2,borderLeftColor:"inherit",lineHeight:2},pe={marginRight:10},ce=e=>{let{isModeEdit:t,groupCaption:r,lists:o}=e;return le(o)?o.map((e=>{let{caption:o,items:n}=e;return(0,f.jsx)(se,{style:de,notSelectedStyle:pe,openColor:"#80c040",caption:o,dndHandlers:J(t,{groupCaption:r,caption:o}),children:(0,f.jsx)(ie,{isModeEdit:t,items:n,groupCaption:r,listCaption:o})},o)})):null},{OpenClose2:ue}=g.default,ge=Array.isArray,Ce={lineHeight:2},fe=e=>{let{isModeEdit:t,groups:r}=e;return ge(r)?r.map((e=>{let{caption:r,lists:o}=e;return(0,f.jsx)(ue,{style:Ce,caption:r,dndHandlers:H(t,{caption:r}),children:(0,f.jsx)(ce,{isModeEdit:t,groupCaption:r,lists:o})},r)})):null},ye=(0,o.G)("scroll-watch"),xe={position:"relative",top:-6,marginLeft:20},Ie=e=>{const{caption:t,useWatchList:r}=e,[o,s]=(0,n.c)(),[l,c,u]=(0,a.c)(e),C=r(),{groups:y}=C||{},x=o?"V":"E";return(0,f.jsxs)(g.default.Browser,{isShow:l,onKeyDown:u,children:[(0,f.jsxs)(g.default.BrowserCaption,{caption:t,onClose:c,children:[(0,f.jsx)(g.default.ButtonCircle,{caption:"S",title:"Save to LocalStorage",style:xe,onClick:i.CS}),(0,f.jsx)(g.default.ButtonCircle,{caption:x,title:"Toggle Edit Mode: E/V",style:xe,onClick:s})]}),(0,f.jsx)(T,{isShow:o,onClickGroup:d,onClickList:p}),(0,f.jsx)(g.default.ScrollPane,{className:ye,children:(0,f.jsx)(fe,{isModeEdit:o,groups:y})})]})}}}]);