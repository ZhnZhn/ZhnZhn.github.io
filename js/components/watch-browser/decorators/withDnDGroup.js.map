{"version":3,"sources":["../../../../src/components/watch-browser/decorators/withDnDGroup.js"],"names":["_crDragStartGroup","DRAG","ev","caption","dragStartWithDnDStyle","GROUP","fnDnD","setTransferTo","event","dragId","xType","_crDropGroup","WatchActions","dropWithDnDStyle","data","JSON","parse","dataTransfer","getData","dropId","preventDefault","dragDropGroup","undefined","LIST","dragDropList","_crDragEnterGroup","dragEnterWithDnDStyle","C_GROUP_ENTER","_hDragOverGroup","_hDragLeaveGroup","dragLeaveWithDnDStyle","_bindDnDGroup","Object","assign","_hDragStartGroup","bind","_hDropGroup","_hDragEnterGroup","withDnDGroup","target","prototype"],"mappings":"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","sourcesContent":["import fnDnD from './fnDnD';\r\n\r\nconst _crDragStartGroup = (DRAG) => {\r\n  return function({ caption}, ev){\r\n     this.dragStartWithDnDStyle(ev, [DRAG.GROUP])\r\n     fnDnD.setTransferTo({\r\n       event: ev,\r\n       dragId: `${caption};`,\r\n       xType: DRAG.GROUP\r\n     })\r\n  };\r\n};\r\n\r\nconst _crDropGroup = (DRAG, WatchActions) => {\r\n  return function({ caption }, ev) {\r\n    this.dropWithDnDStyle(ev)\r\n    const data = JSON.parse(ev.dataTransfer.getData(\"text\"))\r\n       ,  { xType, dragId } = data\r\n       ,  dropId =  `${caption};`;\r\n\r\n    if (xType === DRAG.GROUP) {\r\n      if (dragId !== dropId) {\r\n        ev.preventDefault()\r\n        WatchActions.dragDropGroup({\r\n          dragId : dragId,\r\n          dropId : dropId\r\n        })\r\n      } else {\r\n        return undefined;\r\n      }\r\n    } else if (xType === DRAG.LIST) {\r\n      ev.preventDefault()\r\n      WatchActions.dragDropList({\r\n        dragId : dragId,\r\n        dropId : dropId\r\n      })\r\n    }\r\n  };\r\n};\r\n\r\n\r\nconst _crDragEnterGroup = (DRAG) => {\r\n  return function(ev){\r\n    ev.preventDefault()\r\n    this.dragEnterWithDnDStyle(ev,\r\n      DRAG.GROUP, DRAG.C_GROUP_ENTER\r\n    )\r\n  };\r\n};\r\n\r\nconst _hDragOverGroup = function(ev){\r\n   ev.preventDefault()\r\n};\r\n\r\nconst _hDragLeaveGroup = function(ev){\r\n   ev.preventDefault()\r\n   this.dragLeaveWithDnDStyle(ev)\r\n};\r\n\r\nconst _bindDnDGroup = function(DRAG, WatchActions){\r\n  Object.assign(this, {\r\n    _hDragStartGroup: _crDragStartGroup(DRAG).bind(this),\r\n    _hDropGroup: _crDropGroup(DRAG, WatchActions).bind(this),\r\n    _hDragEnterGroup: _crDragEnterGroup(DRAG).bind(this),\r\n    _hDragOverGroup,\r\n    _hDragLeaveGroup: _hDragLeaveGroup.bind(this)\r\n })\r\n};\r\n\r\nconst withDnDGroup = (target) => {\r\n  Object.assign(target.prototype, {\r\n    _bindDnDGroup\r\n  })\r\n};\r\n\r\nexport default withDnDGroup\r\n"],"file":"withDnDGroup.js"}