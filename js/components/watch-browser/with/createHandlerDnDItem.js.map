{"version":3,"sources":["../../../../src/components/watch-browser/with/createHandlerDnDItem.js"],"names":["createHandlerDnDItem","DRAG","WatchActions","_handlerDragStartItem","ev","groupCaption","listCaption","caption","dragStartWithDnDStyle","LIST","ITEM","dataTransfer","effectAllowed","dropEffect","_data","dragId","xType","setData","JSON","stringify","_handlerDropItem","dropWithDnDStyle","parse","getData","data","dropId","preventDefault","dragDropItem","undefined","_handlerDragEnterItem","dragEnterWithDnDStyle","_handlerDragOverItem","_handlerDragLeaveItem","dragLeaveWithDnDStyle"],"mappings":";;;;;;AACA,IAAMA,uBAAuB,SAAvBA,oBAAuB,CAASC,IAAT,EAAeC,YAAf,EAA4B;AACvD,SAAO;AAELC,yBAFK,uCAEuDC,EAFvD,EAE0D;AAAA,UAAxCC,YAAwC,QAAxCA,YAAwC;AAAA,UAA1BC,WAA0B,QAA1BA,WAA0B;AAAA,UAAbC,OAAa,QAAbA,OAAa;;AAC7D,WAAKC,qBAAL,CAA2BJ,EAA3B,EAA+B,CAACH,KAAKQ,IAAN,EAAYR,KAAKS,IAAjB,CAA/B;AACAN,SAAGO,YAAH,CAAgBC,aAAhB,GAA8B,MAA9B;AACAR,SAAGO,YAAH,CAAgBE,UAAhB,GAA2B,MAA3B;AACA;AACA,UAAMC,QAAQ;AACZC,gBAAYV,YAAZ,SAA4BC,WAA5B,SAA2CC,OAD/B;AAEZS,eAAQf,KAAKS;AAFD,OAAd;AAIAN,SAAGO,YAAH,CAAgBM,OAAhB,CAAwB,MAAxB,EAAgCC,KAAKC,SAAL,CAAeL,KAAf,CAAhC;AAED,KAbI;AAeLM,oBAfK,mCAeoDhB,EAfpD,EAeuD;AAAA,UAAzCC,YAAyC,SAAzCA,YAAyC;AAAA,UAA3BC,WAA2B,SAA3BA,WAA2B;AAAA,UAAdC,OAAc,SAAdA,OAAc;;AACzD,WAAKc,gBAAL,CAAsBjB,EAAtB;AACM,iBAAOc,KAAKI,KAAL,CAAWlB,GAAGO,YAAH,CAAgBY,OAAhB,CAAwB,MAAxB,CAAX,CAAP;AAAA,UACEP,KADF,GACoBQ,IADpB,CACER,KADF;AAAA,UACSD,MADT,GACoBS,IADpB,CACST,MADT;AAAA,UAEAU,MAFA,GAEYpB,YAFZ,SAE4BC,WAF5B,SAE2CC,OAF3C;;;AAIN,UAAIS,UAAUf,KAAKS,IAAnB,EAAyB;AACvB,YAAKK,WAAWU,MAAhB,EAAwB;AACtBrB,aAAGsB,cAAH;AACAxB,uBAAayB,YAAb,CAA0B;AACxBZ,oBAASA,MADe;AAExBU,oBAASA;AAFe,WAA1B;AAIF,SANA,MAMM;AACL,iBAAOG,SAAP;AACD;AACF;AACF,KAhCI;AAkCLC,yBAlCK,iCAkCiBzB,EAlCjB,EAkCoB;AACtBA,SAAGsB,cAAH;AACA,WAAKI,qBAAL,CAA2B1B,EAA3B,EAA+BH,KAAKS,IAApC;AACF,KArCI;AAsCLqB,wBAtCK,gCAsCgB3B,EAtChB,EAsCmB;AACrBA,SAAGsB,cAAH;AACF,KAxCI;AAyCLM,yBAzCK,iCAyCiB5B,EAzCjB,EAyCoB;AACtBA,SAAGsB,cAAH;AACA,WAAKO,qBAAL,CAA2B7B,EAA3B;AACF;AA5CI,GAAP;AA+CD,CAhDD;;kBAkDeJ,oB","file":"createHandlerDnDItem.js","sourcesContent":["\r\nconst createHandlerDnDItem = function(DRAG, WatchActions){\r\n  return {\r\n\r\n    _handlerDragStartItem({groupCaption, listCaption, caption}, ev){\r\n      this.dragStartWithDnDStyle(ev, [DRAG.LIST, DRAG.ITEM]);\r\n      ev.dataTransfer.effectAllowed=\"move\";\r\n      ev.dataTransfer.dropEffect=\"move\";\r\n      //.setDragImage(img, 0, 0);\r\n      const _data = {\r\n        dragId : `${groupCaption};${listCaption};${caption}`,\r\n        xType : DRAG.ITEM\r\n      };\r\n      ev.dataTransfer.setData(\"text\", JSON.stringify(_data));\r\n\r\n    },\r\n\r\n    _handlerDropItem({ groupCaption, listCaption, caption }, ev){\r\n       this.dropWithDnDStyle(ev);\r\n       const data = JSON.parse(ev.dataTransfer.getData(\"text\"))\r\n           , { xType, dragId } = data\r\n           , dropId = `${groupCaption};${listCaption};${caption}`\r\n\r\n       if (xType === DRAG.ITEM) {\r\n         if ( dragId !== dropId) {\r\n           ev.preventDefault();\r\n           WatchActions.dragDropItem({\r\n             dragId : dragId,\r\n             dropId : dropId\r\n           });\r\n        } else {\r\n          return undefined;\r\n        }\r\n      }\r\n    },\r\n\r\n    _handlerDragEnterItem(ev){\r\n       ev.preventDefault();\r\n       this.dragEnterWithDnDStyle(ev, DRAG.ITEM);\r\n    },\r\n    _handlerDragOverItem(ev){\r\n       ev.preventDefault();\r\n    },\r\n    _handlerDragLeaveItem(ev){\r\n       ev.preventDefault();\r\n       this.dragLeaveWithDnDStyle(ev);\r\n    }\r\n\r\n  };\r\n};\r\n\r\nexport default createHandlerDnDItem\r\n"]}