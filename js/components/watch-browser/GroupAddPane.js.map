{"version":3,"sources":["../../../src/components/watch-browser/GroupAddPane.jsx"],"names":["GroupAddPane","props","_onStore","actionType","data","actionCompleted","actionFailed","forActionType","_handleClear","setState","validationMessages","messages","inputText","setValue","state","length","_handleCreate","onCreate","msgOnIsEmptyName","caption","getValue","_primaryBt","unsubscribe","store","listen","onClose","c"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAGA;;;;;;IAEMA,Y;;;AACJ;;;;;;;;;;;;;;AAcA,wBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAAA,UAkBlBC,QAlBkB,GAkBP,UAACC,UAAD,EAAaC,IAAb,EAAsB;AAAA,wBAC0B,MAAKH,KAD/B;AAAA,UACvBI,eADuB,eACvBA,eADuB;AAAA,UACNC,YADM,eACNA,YADM;AAAA,UACQC,aADR,eACQA,aADR;;AAE/B,UAAIJ,eAAeE,eAAf,IAAkCD,KAAKG,aAAL,KAAuBA,aAA7D,EAA2E;AACxE,cAAKC,YAAL;AACF,OAFD,MAEO,IAAIL,eAAeG,YAAf,IAA+BF,KAAKG,aAAL,KAAuBA,aAA1D,EAAwE;AAC5E,cAAKE,QAAL,CAAc,EAAEC,oBAAoBN,KAAKO,QAA3B,EAAd;AACF;AACF,KAzBiB;;AAAA,UA2BlBH,YA3BkB,GA2BH,YAAM;AACnB,YAAKI,SAAL,CAAeC,QAAf,CAAwB,EAAxB;AACA,UAAI,MAAKC,KAAL,CAAWJ,kBAAX,CAA8BK,MAA9B,GAAqC,CAAzC,EAA2C;AACxC,cAAKN,QAAL,CAAc,EAAEC,oBAAoB,EAAtB,EAAd;AACF;AACF,KAhCiB;;AAAA,UAkClBM,aAlCkB,GAkCF,YAAM;AAAA,yBACoB,MAAKf,KADzB;AAAA,UACXgB,QADW,gBACXA,QADW;AAAA,UACDC,gBADC,gBACDA,gBADC;AAAA,UAEZC,OAFY,GAEF,MAAKP,SAAL,CAAeQ,QAAf,EAFE;;AAGnB,UAAID,OAAJ,EAAY;AACVF,iBAAS,EAAEE,gBAAF,EAAT;AACD,OAFD,MAEO;AACL,cAAKP,SAAL,CAAeC,QAAf,CAAwB,EAAxB;AACA,cAAKJ,QAAL,CAAc,EAAEC,oBAAmB,CAACQ,iBAAiB,OAAjB,CAAD,CAArB,EAAd;AACD;AACH,KA3CiB;;AAEhB,UAAKG,UAAL,GAAkB,8CAAG,MAAH,CAAU,OAAV;AACG,eAAQ,QADX;AAEG,aAAM,kBAFT;AAGG,eAAS,MAAKL;AAHjB,MAAlB;AAKA,UAAKF,KAAL,GAAa;AACXJ,0BAAqB;AADV,KAAb;AAPgB;AAUjB;;;;wCAEkB;AACjB,WAAKY,WAAL,GAAmB,KAAKrB,KAAL,CAAWsB,KAAX,CAAiBC,MAAjB,CAAwB,KAAKtB,QAA7B,CAAnB;AACD;;;2CACqB;AACpB,WAAKoB,WAAL;AACD;;;6BA4BO;AAAA;;AACA,UAAEG,OAAF,GAAc,KAAKxB,KAAnB,CAAEwB,OAAF;AAAA,UACEf,kBADF,GACyB,KAAKI,KAD9B,CACEJ,kBADF;;AAEN,aACE;AAAA;AAAA;AACE,sDAAG,YAAH;AACG,eAAK;AAAA,mBAAK,OAAKE,SAAL,GAAiBc,CAAtB;AAAA,WADR;AAEG,mBAAQ;AAFX,UADF;AAKE,sDAAG,kBAAH;AACG,8BAAoBhB;AADvB,UALF;AAQG,sDAAG,UAAH;AACG,mBAAS,KAAKW,UADjB;AAEG,mBAAS,KAAKb,YAFjB;AAGG,mBAASiB;AAHZ;AARH,OADF;AAgBD;;;;AAnFH;;kBAsFezB,Y","file":"GroupAddPane.js","sourcesContent":["import React, { Component } from 'react';\r\n//import PropTypes from \"prop-types\";\r\n\r\nimport A from './Atoms'\r\n\r\nclass GroupAddPane extends Component {\r\n  /*\r\n  static propTypes = {\r\n    store: PropTypes.shape({\r\n      listen: PropTypes.func\r\n    }),\r\n    actionCompleted: PropTypes.string,\r\n    actionFailed: PropTypes.string,\r\n    forActionType: PropTypes.string,\r\n    msgOnIsEmptyName: PropTypes.func,\r\n    onCreate: PropTypes.func,\r\n    onClose: PropTypes.func\r\n  }\r\n  */\r\n\r\n  constructor(props){\r\n    super()\r\n    this._primaryBt = <A.Button.Primary\r\n                         caption=\"Create\"\r\n                         title=\"Create New Group\"\r\n                         onClick={this._handleCreate}\r\n                      />\r\n    this.state = {\r\n      validationMessages : []\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.unsubscribe = this.props.store.listen(this._onStore)\r\n  }\r\n  componentWillUnmount(){\r\n    this.unsubscribe()\r\n  }\r\n  _onStore = (actionType, data) => {\r\n    const { actionCompleted, actionFailed, forActionType } = this.props;\r\n    if (actionType === actionCompleted && data.forActionType === forActionType){\r\n       this._handleClear()\r\n    } else if (actionType === actionFailed && data.forActionType === forActionType){\r\n       this.setState({ validationMessages: data.messages })\r\n    }\r\n  }\r\n\r\n  _handleClear = () => {\r\n    this.inputText.setValue('')\r\n    if (this.state.validationMessages.length>0){\r\n       this.setState({ validationMessages: [] })\r\n    }\r\n  }\r\n\r\n  _handleCreate = () => {\r\n     const { onCreate, msgOnIsEmptyName } = this.props\r\n          , caption = this.inputText.getValue();\r\n     if (caption){\r\n       onCreate({ caption })\r\n     } else {\r\n       this.inputText.setValue('')\r\n       this.setState({ validationMessages:[msgOnIsEmptyName('Group')] })\r\n     }\r\n  }\r\n\r\n  render(){\r\n    const { onClose } = this.props\r\n        , { validationMessages } = this.state;\r\n    return (\r\n      <div>\r\n        <A.RowInputText\r\n           ref={c => this.inputText = c}\r\n           caption=\"Group:\"\r\n        />\r\n        <A.ValidationMessages\r\n           validationMessages={validationMessages}\r\n         />\r\n         <A.RowButtons\r\n            Primary={this._primaryBt}\r\n            onClear={this._handleClear}\r\n            onClose={onClose}\r\n         />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GroupAddPane\r\n"]}