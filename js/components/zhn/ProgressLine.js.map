{"version":3,"sources":["../../../src/components/zhn/ProgressLine.jsx"],"names":["CL","T","WIDTH","OPACITY","_crStyle","backgroundColor","opacity","width","transition","ProgressLine","props","wasCompleted","idCompleted","wasOpacied","idOpacied","componentWillUnmount","clearTimeout","componentDidUpdate","setTimeout","forceUpdate","render","color","_style","completed","Component","defaultProps"],"mappings":";;;;;;;;;;;AAAA;;AAEA,IAAMA,EAAE,GAAG,eAAX;AAEA,IAAMC,CAAC,GAAG;AACRC,EAAAA,KAAK,EAAE,oBADC;AAERC,EAAAA,OAAO,EAAE;AAFD,CAAV;;AAKA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,eAAD,EAAkBC,OAAlB,EAA2BC,KAA3B,EAAkCC,UAAlC;AAAA,SAAkD;AAChEH,IAAAA,eAAe,EAAfA,eADgE;AAC/CE,IAAAA,KAAK,EAALA,KAD+C;AACxCD,IAAAA,OAAO,EAAPA,OADwC;AAC/BE,IAAAA,UAAU,EAAVA;AAD+B,GAAlD;AAAA,CAAjB;;IAIMC,Y;;;AAKJ,wBAAYC,KAAZ,EAAkB;AAAA;;AAChB;AACA,UAAKC,YAAL,GAAoB,KAApB;AACA,UAAKC,WAAL,GAAmB,IAAnB;AACA,UAAKC,UAAL,GAAkB,KAAlB;AACA,UAAKC,SAAL,GAAiB,IAAjB;AALgB;AAMjB;;;;SAEDC,oB,GAAA,gCAAsB;AACpB,QAAI,KAAKH,WAAT,EAAqB;AACnBI,MAAAA,YAAY,CAAC,KAAKJ,WAAN,CAAZ;AACD;;AACD,QAAI,KAAKE,SAAT,EAAmB;AACjBE,MAAAA,YAAY,CAAC,KAAKF,SAAN,CAAZ;AACD;AACF,G;;SAEDG,kB,GAAA,8BAAoB;AAAA;;AAClB,QAAI,KAAKN,YAAT,EAAsB;AACpB,WAAKC,WAAL,GAAmBM,UAAU,CAAC,YAAI;AAChC,QAAA,MAAI,CAACN,WAAL,GAAmB,IAAnB;;AACA,QAAA,MAAI,CAACO,WAAL;AACD,OAH4B,EAG1B,GAH0B,CAA7B;AAID,KALD,MAKO,IAAI,KAAKN,UAAT,EAAoB;AACzB,WAAKC,SAAL,GAAiBI,UAAU,CAAC,YAAI;AAC9B,QAAA,MAAI,CAACJ,SAAL,GAAiB,IAAjB;;AACA,QAAA,MAAI,CAACK,WAAL;AACD,OAH0B,EAGxB,GAHwB,CAA3B;AAID;AACF,G;;SAEDC,M,GAAA,kBAAQ;AAAA,QACEC,KADF,GACY,KAAKX,KADjB,CACEW,KADF;;AAEN,QAAIC,MAAJ;;AAEA,QAAI,KAAKT,UAAT,EAAqB;AACnBS,MAAAA,MAAM,GAAGlB,QAAQ,CAACiB,KAAD,EAAQ,CAAR,EAAW,CAAX,CAAjB;AACA,WAAKR,UAAL,GAAkB,KAAlB;AACD,KAHD,MAGO,IAAI,KAAKF,YAAT,EAAuB;AAC5BW,MAAAA,MAAM,GAAGlB,QAAQ,CAACiB,KAAD,EAAQ,CAAR,EAAW,MAAX,EAAmBpB,CAAC,CAACE,OAArB,CAAjB;AACA,WAAKQ,YAAL,GAAoB,KAApB;AACA,WAAKE,UAAL,GAAkB,IAAlB;AACD,KAJM,MAIA;AAAA,UACEU,SADF,GACgB,KAAKb,KADrB,CACEa,SADF;;AAEJ,UAAIA,SAAS,GAAG,CAAhB,EAAmB;AACjBA,QAAAA,SAAS,GAAG,CAAZ;AACD,OAFD,MAEO,IAAIA,SAAS,IAAI,GAAjB,EAAsB;AAC3BA,QAAAA,SAAS,GAAG,GAAZ;AACA,aAAKZ,YAAL,GAAoB,IAApB;AACD;;AACDW,MAAAA,MAAM,GAAGlB,QAAQ,CAACiB,KAAD,EAAQ,CAAR,EAAWE,SAAS,GAAC,GAArB,EAA0BtB,CAAC,CAACC,KAA5B,CAAjB;AACF;;AAED,wBACE;AAAK,MAAA,SAAS,EAAEF,EAAhB;AAAoB,MAAA,KAAK,EAAEsB;AAA3B,MADF;AAGD,G;;;EA7DwBE,gB;;AAArBf,Y,CACGgB,Y,GAAe;AACpBJ,EAAAA,KAAK,EAAE;AADa,C;eA+DTZ,Y","sourcesContent":["import React, { Component } from 'react';\r\n\r\nconst CL = \"progress-line\";\r\n\r\nconst T = {  \r\n  WIDTH: 'width 350ms linear',\r\n  OPACITY: 'opacity 250ms linear'\r\n};\r\n\r\nconst _crStyle = (backgroundColor, opacity, width, transition) => ({\r\n   backgroundColor, width, opacity, transition\r\n});\r\n\r\nclass ProgressLine extends Component {\r\n  static defaultProps = {\r\n    color: '#2f7ed8'\r\n  }\r\n\r\n  constructor(props){\r\n    super();\r\n    this.wasCompleted = false;\r\n    this.idCompleted = null;\r\n    this.wasOpacied = false;\r\n    this.idOpacied = null;\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    if (this.idCompleted){\r\n      clearTimeout(this.idCompleted)\r\n    }\r\n    if (this.idOpacied){\r\n      clearTimeout(this.idOpacied)\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    if (this.wasCompleted){\r\n      this.idCompleted = setTimeout(()=>{\r\n        this.idCompleted = null;\r\n        this.forceUpdate();\r\n      }, 800)\r\n    } else if (this.wasOpacied){\r\n      this.idOpacied = setTimeout(()=>{\r\n        this.idOpacied = null;\r\n        this.forceUpdate();\r\n      }, 800)\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const { color } = this.props;\r\n    let _style;\r\n\r\n    if (this.wasOpacied) {\r\n      _style = _crStyle(color, 1, 0)\r\n      this.wasOpacied = false;\r\n    } else if (this.wasCompleted) {\r\n      _style = _crStyle(color, 0, '100%', T.OPACITY)\r\n      this.wasCompleted = false;\r\n      this.wasOpacied = true;\r\n    } else {\r\n       let { completed } = this.props;\r\n       if (completed < 0) {\r\n         completed = 0;\r\n       } else if (completed >= 100) {\r\n         completed = 100;\r\n         this.wasCompleted = true\r\n       }\r\n       _style = _crStyle(color, 1, completed+'%', T.WIDTH)\r\n    }\r\n\r\n    return (\r\n      <div className={CL} style={_style} />\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProgressLine\r\n"],"file":"ProgressLine.js"}